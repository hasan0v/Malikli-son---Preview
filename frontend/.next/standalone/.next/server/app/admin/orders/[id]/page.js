(()=>{var e={};e.id=3124,e.ids=[3124],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15856:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>_,routeModule:()=>u,tree:()=>l});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),d=r(30893),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(t,o);let l={children:["",{children:["admin",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,38622)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\orders\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,38132)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,_=["c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\orders\\[id]\\page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/orders/[id]/page",pathname:"/admin/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},17540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(60687),a=r(43210),i=r(54864),n=r(16189),d=r(45067),o=r(30913),l=r.n(o);let _="http://localhost:8000/api/v1";function c(){let{t:e}=(0,d.useI18n)(),t=(0,n.useRouter)(),r=(0,n.useParams)(),{isAuthenticated:o,user:c,isInitialized:u}=(0,i.d4)(e=>e.auth),[m,p]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[f,D]=(0,a.useState)(null),[j,O]=(0,a.useState)(!1);r?.id;let g=async e=>{if(m&&!j){O(!0);try{let t=localStorage.getItem("access_token");if(!t)return void D("No access token found");let r=await fetch(`${_}/admin/orders/${m.order_id}/update_status/`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({order_status:e})});if(!r.ok)throw Error("Failed to update order status");let s=await r.json();p(s)}catch(e){console.error("Error updating order status:",e),D("Failed to update order status")}finally{O(!1)}}},v=async e=>{if(m&&!j){O(!0);try{let t=localStorage.getItem("access_token");if(!t)return void D("No access token found");let r=await fetch(`${_}/admin/orders/${m.order_id}/update_payment_status/`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({payment_status:e})});if(!r.ok)throw Error("Failed to update payment status");let s=await r.json();p(s)}catch(e){console.error("Error updating payment status:",e),D("Failed to update payment status")}finally{O(!1)}}};return!u||h?(0,s.jsxs)("div",{className:l().loadingContainer,children:[(0,s.jsx)("div",{className:l().spinner}),(0,s.jsx)("p",{children:"Loading order details..."})]}):o&&c?.is_staff?f?(0,s.jsxs)("div",{className:l().errorContainer,children:[(0,s.jsx)("h2",{children:"Error"}),(0,s.jsx)("p",{children:f}),(0,s.jsx)("button",{className:l().backButton,onClick:()=>t.push("/admin/orders"),children:"Back to Orders"})]}):m?(0,s.jsx)("div",{className:l().adminOrderDetailsPage,children:(0,s.jsxs)("div",{className:l().container,children:[(0,s.jsxs)("div",{className:l().header,children:[(0,s.jsx)("button",{className:l().backButton,onClick:()=>t.push("/admin/orders"),children:"← Back to Orders"}),(0,s.jsxs)("h1",{children:["Order Details - #",m.order_number]})]}),(0,s.jsxs)("div",{className:l().orderInfo,children:[(0,s.jsxs)("div",{className:l().infoCard,children:[(0,s.jsx)("h3",{children:"Order Information"}),(0,s.jsxs)("div",{className:l().infoGrid,children:[(0,s.jsxs)("div",{className:l().infoItem,children:[(0,s.jsx)("label",{children:"Order ID:"}),(0,s.jsx)("span",{children:m.order_id})]}),(0,s.jsxs)("div",{className:l().infoItem,children:[(0,s.jsx)("label",{children:"Order Number:"}),(0,s.jsx)("span",{children:m.order_number})]}),(0,s.jsxs)("div",{className:l().infoItem,children:[(0,s.jsx)("label",{children:"Customer:"}),(0,s.jsx)("span",{children:m.user_email})]}),(0,s.jsxs)("div",{className:l().infoItem,children:[(0,s.jsx)("label",{children:"Created:"}),(0,s.jsx)("span",{children:new Date(m.created_at).toLocaleString()})]}),(0,s.jsxs)("div",{className:l().infoItem,children:[(0,s.jsx)("label",{children:"Updated:"}),(0,s.jsx)("span",{children:new Date(m.updated_at).toLocaleString()})]})]})]}),(0,s.jsxs)("div",{className:l().statusCard,children:[(0,s.jsx)("h3",{children:"Status Management"}),(0,s.jsxs)("div",{className:l().statusSection,children:[(0,s.jsxs)("div",{className:l().currentStatus,children:[(0,s.jsx)("label",{children:"Order Status:"}),(0,s.jsx)("span",{className:`${l().statusBadge} ${l()[m.order_status||"pending_payment"]}`,children:(m.order_status||"pending_payment").toUpperCase().replace("_"," ")})]}),(0,s.jsxs)("div",{className:l().statusButtons,children:[(0,s.jsx)("button",{onClick:()=>g("pending_payment"),disabled:j||"pending_payment"===m.order_status,className:`${l().statusButton} ${l().pendingButton}`,children:"Pending Payment"}),(0,s.jsx)("button",{onClick:()=>g("processing"),disabled:j||"processing"===m.order_status,className:`${l().statusButton} ${l().processingButton}`,children:"Processing"}),(0,s.jsx)("button",{onClick:()=>g("shipped"),disabled:j||"shipped"===m.order_status,className:`${l().statusButton} ${l().shippedButton}`,children:"Shipped"}),(0,s.jsx)("button",{onClick:()=>g("delivered"),disabled:j||"delivered"===m.order_status,className:`${l().statusButton} ${l().deliveredButton}`,children:"Delivered"}),(0,s.jsx)("button",{onClick:()=>g("cancelled"),disabled:j||"cancelled"===m.order_status,className:`${l().statusButton} ${l().cancelledButton}`,children:"Cancelled"})]})]}),(0,s.jsxs)("div",{className:l().statusSection,children:[(0,s.jsxs)("div",{className:l().currentStatus,children:[(0,s.jsx)("label",{children:"Payment Status:"}),(0,s.jsx)("span",{className:`${l().statusBadge} ${l()[`payment_${m.payment_status||"pending"}`]}`,children:(m.payment_status||"pending").toUpperCase()})]}),(0,s.jsxs)("div",{className:l().statusButtons,children:[(0,s.jsx)("button",{onClick:()=>v("pending"),disabled:j||"pending"===m.payment_status,className:`${l().statusButton} ${l().pendingButton}`,children:"Pending"}),(0,s.jsx)("button",{onClick:()=>v("paid"),disabled:j||"paid"===m.payment_status,className:`${l().statusButton} ${l().paidButton}`,children:"Paid"}),(0,s.jsx)("button",{onClick:()=>v("failed"),disabled:j||"failed"===m.payment_status,className:`${l().statusButton} ${l().failedButton}`,children:"Failed"}),(0,s.jsx)("button",{onClick:()=>v("refunded"),disabled:j||"refunded"===m.payment_status,className:`${l().statusButton} ${l().refundedButton}`,children:"Refunded"})]})]})]}),(0,s.jsxs)("div",{className:l().amountCard,children:[(0,s.jsx)("h3",{children:"Order Amounts"}),(0,s.jsxs)("div",{className:l().amountGrid,children:[(0,s.jsxs)("div",{className:l().amountItem,children:[(0,s.jsx)("label",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["$",m.subtotal_amount]})]}),(0,s.jsxs)("div",{className:l().amountItem,children:[(0,s.jsx)("label",{children:"Shipping:"}),(0,s.jsxs)("span",{children:["$",m.shipping_cost||"0.00"]})]}),(0,s.jsxs)("div",{className:l().amountItem,children:[(0,s.jsx)("label",{children:"Total:"}),(0,s.jsxs)("span",{className:l().totalAmount,children:["$",m.total_amount]})]})]})]})]}),m.customer_notes&&(0,s.jsxs)("div",{className:l().notesCard,children:[(0,s.jsx)("h3",{children:"Customer Notes"}),(0,s.jsx)("p",{children:m.customer_notes})]}),m.tracking_number&&(0,s.jsxs)("div",{className:l().trackingCard,children:[(0,s.jsx)("h3",{children:"Tracking Information"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Tracking Number:"})," ",m.tracking_number]})]})]})}):(0,s.jsxs)("div",{className:l().errorContainer,children:[(0,s.jsx)("h2",{children:"Order Not Found"}),(0,s.jsx)("p",{children:"The requested order could not be found."}),(0,s.jsx)("button",{className:l().backButton,onClick:()=>t.push("/admin/orders"),children:"Back to Orders"})]}):null}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30913:e=>{e.exports={adminOrderDetailsPage:"adminOrderDetails_adminOrderDetailsPage__O__zK",container:"adminOrderDetails_container__Nzvrl",header:"adminOrderDetails_header__cHNlF",backButton:"adminOrderDetails_backButton__ziYSW",loadingContainer:"adminOrderDetails_loadingContainer__f48zS",errorContainer:"adminOrderDetails_errorContainer__xvoqn",spinner:"adminOrderDetails_spinner__neYqF",spin:"adminOrderDetails_spin__GDfto",orderInfo:"adminOrderDetails_orderInfo__pm3Cm",infoCard:"adminOrderDetails_infoCard__AFG6P",statusCard:"adminOrderDetails_statusCard__M1Ng5",amountCard:"adminOrderDetails_amountCard__NymCn",infoGrid:"adminOrderDetails_infoGrid__lzb19",amountGrid:"adminOrderDetails_amountGrid__9N6tA",infoItem:"adminOrderDetails_infoItem__QpsR9",amountItem:"adminOrderDetails_amountItem__rjJR3",totalAmount:"adminOrderDetails_totalAmount__uJ13e",statusSection:"adminOrderDetails_statusSection__mz_gS",currentStatus:"adminOrderDetails_currentStatus__7xEh8",statusBadge:"adminOrderDetails_statusBadge__z2_2w",pending_payment:"adminOrderDetails_pending_payment__6yQo6",pending:"adminOrderDetails_pending__aI1FL",payment_pending:"adminOrderDetails_payment_pending__3H1Qs",paid:"adminOrderDetails_paid__TuUv_",payment_paid:"adminOrderDetails_payment_paid__4oWxV",failed:"adminOrderDetails_failed__AtDJ6",payment_failed:"adminOrderDetails_payment_failed__nNmr4",refunded:"adminOrderDetails_refunded__1HpRW",payment_refunded:"adminOrderDetails_payment_refunded__IMpv8",processing:"adminOrderDetails_processing__pqBk3",shipped:"adminOrderDetails_shipped__Qjeaz",delivered:"adminOrderDetails_delivered__d7wV7",cancelled:"adminOrderDetails_cancelled__6bPyY",statusButtons:"adminOrderDetails_statusButtons__TVc5w",statusButton:"adminOrderDetails_statusButton__d6tIB",pendingButton:"adminOrderDetails_pendingButton___RxT0",processingButton:"adminOrderDetails_processingButton__NE6QN",shippedButton:"adminOrderDetails_shippedButton__6YHp0",deliveredButton:"adminOrderDetails_deliveredButton__huAb_",cancelledButton:"adminOrderDetails_cancelledButton__HHroi",paidButton:"adminOrderDetails_paidButton__zoAmG",failedButton:"adminOrderDetails_failedButton__5n223",refundedButton:"adminOrderDetails_refundedButton__wa3Dw",notesCard:"adminOrderDetails_notesCard__8_pa5",trackingCard:"adminOrderDetails_trackingCard__LH1RM",orderGrid:"adminOrderDetails_orderGrid__kUb_m",orderCard:"adminOrderDetails_orderCard__GXio9",orderCardTitle:"adminOrderDetails_orderCardTitle__dIGoE",infoRow:"adminOrderDetails_infoRow__4wN1L",infoLabel:"adminOrderDetails_infoLabel__rhaAp",infoValue:"adminOrderDetails_infoValue__SRDJg",statusManagement:"adminOrderDetails_statusManagement__KL8n9",statusGroup:"adminOrderDetails_statusGroup__iuN2d",statusSelect:"adminOrderDetails_statusSelect__UNIu5",updateButton:"adminOrderDetails_updateButton__7VUR1",itemsSection:"adminOrderDetails_itemsSection__4QQt0",itemsTitle:"adminOrderDetails_itemsTitle__BQwMf",itemsList:"adminOrderDetails_itemsList__yL034",itemCard:"adminOrderDetails_itemCard__Y4NhN",itemImage:"adminOrderDetails_itemImage__27iDu",itemDetails:"adminOrderDetails_itemDetails__g_0Fp",itemName:"adminOrderDetails_itemName___jJNw",itemMeta:"adminOrderDetails_itemMeta__D4jZN",itemPrice:"adminOrderDetails_itemPrice__e3f7G",addressSection:"adminOrderDetails_addressSection__C4D7T",addressGrid:"adminOrderDetails_addressGrid__Qnc_7",addressCard:"adminOrderDetails_addressCard__OiDmP",addressTitle:"adminOrderDetails_addressTitle__8_qF3",addressDetails:"adminOrderDetails_addressDetails__pxcBF",successMessage:"adminOrderDetails_successMessage__eP81m",errorMessage:"adminOrderDetails_errorMessage__lPsRF"}},33091:(e,t,r)=>{Promise.resolve().then(r.bind(r,17540))},33873:e=>{"use strict";e.exports=require("path")},38622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"c:\\\\Users\\\\alien\\\\Downloads\\\\Malikli-son - Preview\\\\frontend\\\\src\\\\app\\\\admin\\\\orders\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\orders\\[id]\\page.tsx","default")},50123:(e,t,r)=>{Promise.resolve().then(r.bind(r,38622))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[6707,7419,2941,2214,5748,2333,8187,5082,876,7698,1659,1866,7140,7593,1645,8188,6787,9398,2052,3854,2740,6566,9708,9059,8619,7916,7536,7901,1322,658,1410,518,5830,9078,3891,3281,1980,7265,2155,871,2759,2868,4681,9800,719,2664,2846,1847,6593,9243,9717,6886,1114,8146,4018,9272,6373,8852],()=>r(15856));module.exports=s})();