(()=>{var e={};e.id=2221,e.ids=[2221],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39736:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var i=r(65239),a=r(48088),s=r(88170),n=r.n(s),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["products",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,45471)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\products\\[slug]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,38132)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\products\\[slug]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/products/[slug]/page",pathname:"/products/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},45471:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"c:\\\\Users\\\\alien\\\\Downloads\\\\Malikli-son - Preview\\\\frontend\\\\src\\\\app\\\\products\\\\[slug]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\products\\[slug]\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55882:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var i=r(60687),a=r(43210),s=r(30474),n=r(85814),o=r.n(n),l=r(16189),c=r(54864);r(16322);var d=r(41970),u=r(72568),p=r.n(u);let _=({description:e})=>{let t=e=>(e=(e=(e=(e=e.replace(/✓/g,'<span class="checkmark">✓</span>')).replace(/\*([^*]+)\*/g,"<strong>$1</strong>")).replace(/(\d+%|\d+-\d+\s*[A-Z]+)/g,'<span class="highlight">$1</span>')).replace(/\n/g,"<br>"),(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e}})),{mainDescription:r,bullets:a,features:s}=(e=>{let t=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(/\.\s+|\n+/).filter(e=>e.trim()),r=[],i=[],a="";return t.forEach(e=>{let t=e.trim();/^[-•✓]\s*/.test(t)?r.push(t.replace(/^[-•✓]\s*/,"").trim()):/^\*[A-Za-z]/.test(t)?i.push(t.replace(/^\*/,"").trim()):t.length>20&&(a+=t+". ")}),{mainDescription:a.trim(),bullets:r,features:i}})(e);return a.length>0||s.length>0?(0,i.jsxs)("div",{className:p().descriptionContainer,children:[r&&(0,i.jsx)("div",{className:p().mainDescription,children:(0,i.jsx)("p",{children:t(r)})}),s.length>0&&(0,i.jsxs)("div",{className:p().featuresSection,children:[(0,i.jsx)("h3",{className:p().sectionTitle,children:"Key Features"}),(0,i.jsx)("div",{className:p().featuresList,children:s.map((e,r)=>{let[a,...s]=e.split(":");return(0,i.jsxs)("div",{className:p().featureItem,children:[(0,i.jsx)("h4",{className:p().featureTitle,children:a.trim()}),s.length>0&&(0,i.jsx)("p",{className:p().featureContent,children:t(s.join(":").trim())})]},r)})})]}),a.length>0&&(0,i.jsxs)("div",{className:p().highlightsSection,children:[(0,i.jsx)("h3",{className:p().sectionTitle,children:"Highlights"}),(0,i.jsx)("ul",{className:p().bulletList,children:a.map((e,r)=>(0,i.jsx)("li",{className:p().bulletItem,children:t(e)},r))})]})]}):(0,i.jsx)("div",{className:p().descriptionContainer,children:(0,i.jsx)("div",{className:p().formattedContent,children:(e=>{if(!e)return null;let r=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(/(?=\s*[-•]\s*|\s*\*[A-Za-z]+[\s:]*|\s*✓)|\n\n+/).filter(e=>e.trim()),a=[];return r.forEach(e=>{let t=e.trim();if(!t)return;let r=t.match(/^([^.]*\.)\s*(.+)$/);if(r&&!t.match(/^[-•✓\*]/)){let[,e,t]=r;if(t.match(/[-•✓\*]/)||t.length>50){a.push(e.trim()),a.push(t.trim());return}}a.push(t)}),a.map((e,r)=>{let a=e.trim();if(!a)return null;if(/^[-•✓]\s*/.test(a)){let e=a.replace(/^[-•✓]\s*/,"").trim();return(0,i.jsx)("li",{className:p().bulletItem,children:t(e)},r)}if(/^\*[A-Za-z]/.test(a)){let e=a.replace(/^\*/,"").trim(),[s,...n]=e.split(":");return n.length>0?(0,i.jsxs)("div",{className:p().featureSection,children:[(0,i.jsx)("h4",{className:p().featureTitle,children:s.trim()}),(0,i.jsx)("p",{className:p().featureContent,children:t(n.join(":").trim())})]},r):(0,i.jsx)("div",{className:p().featureSection,children:(0,i.jsx)("h4",{className:p().featureTitle,children:t(e)})},r)}return(0,i.jsx)("p",{className:p().paragraph,children:t(a)},r)})})(e)})})};var m=r(45067),h=r(58219),x=r.n(h);function v(){let{t:e}=(0,m.useI18n)(),t=(0,l.useParams)();t?.slug;let r=(0,l.useRouter)();(0,c.wA)(),(0,c.d4)(e=>!!e.auth.user);let[n,u]=(0,a.useState)(null),[p,h]=(0,a.useState)(!0),[v,f]=(0,a.useState)(null),[g,j]=(0,a.useState)(null),[b,D]=(0,a.useState)(null),[N,y]=(0,a.useState)(1),[k,I]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[w,P]=(0,a.useState)({x:0,y:0}),[T,q]=(0,a.useState)(!0),[M,$]=(0,a.useState)(!1),L=e=>{q(!0),j(e)},O=async()=>{if(n){$(!0);try{let e=b?parseFloat(n.base_price)+parseFloat(b.additional_price):parseFloat(n.base_price),t=new URLSearchParams({buyNow:"true",productId:n.id.toString(),productName:n.name,productSlug:n.slug,price:e.toString(),quantity:N.toString(),...b?.id&&{variantId:b.id.toString()},...g&&{image:g},...b?.color_info&&{color:b.color_info.name,colorCode:b.color_info.hex_code},...b?.size_info&&{size:b.size_info.name},...n.buy_now_link&&{buyNowLink:n.buy_now_link}});console.log("=== BUY NOW DEBUG - PRODUCT PAGE ==="),console.log("product.buy_now_link:",n.buy_now_link),console.log("buyNowLink in params:",n.buy_now_link?"YES":"NO"),console.log("Final URL params:",t.toString()),window.location.href=`/checkout?${t.toString()}`}catch(e){console.error("Error processing Buy Now:",e)}finally{$(!1)}}},z=[85,92,78,88,80];if(p)return(0,i.jsxs)("div",{className:x().loadingContainer,children:[(0,i.jsx)(d.A,{size:"large",color:"primary",text:e("product.loading.text")}),(0,i.jsx)("div",{className:x().skeletonFallback,children:(0,i.jsxs)("div",{className:x().productContainer,children:[(0,i.jsxs)("div",{className:x().galleryContainer,children:[(0,i.jsx)("div",{className:`${x().skeletonMainImage} ${x().skeleton}`}),(0,i.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:[1,2,3,4].map(e=>(0,i.jsx)("div",{className:`${x().skeletonThumbnail} ${x().skeleton}`},e))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:`${x().skeletonTitle} ${x().skeleton}`}),(0,i.jsx)("div",{className:`${x().skeletonPrice} ${x().skeleton}`}),[1,2,3,4,5].map(e=>(0,i.jsx)("div",{className:`${x().skeletonText} ${x().skeleton}`,style:{width:`${z[e-1]}%`}},e)),(0,i.jsx)("div",{className:`${x().skeletonButton} ${x().skeleton}`})]})]})})]});if(v)return(0,i.jsxs)("div",{className:x().errorContainer,children:[(0,i.jsx)("h1",{className:x().errorTitle,children:e("product.error.somethingWrong")}),(0,i.jsx)("p",{className:x().errorMessage,children:v}),(0,i.jsx)("button",{className:x().errorButton,onClick:()=>r.push("/"),children:e("product.error.backToHome")})]});if(!n)return(0,i.jsxs)("div",{className:x().errorContainer,children:[(0,i.jsx)("h1",{className:x().errorTitle,children:e("product.error.notFound")}),(0,i.jsx)("p",{className:x().errorMessage,children:e("product.error.notFoundMessage")}),(0,i.jsx)("button",{className:x().errorButton,onClick:()=>r.push("/"),children:e("product.error.backToHome")})]});let E=b?(parseFloat(n.base_price)+parseFloat(b.additional_price)).toFixed(2):n.base_price,A=x().inStock,F=x().inStockText;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:x().productContainer,children:[(0,i.jsxs)("div",{className:x().galleryContainer,children:[(0,i.jsxs)("div",{className:x().mainImageContainer,onMouseMove:e=>{let{left:t,top:r,width:i,height:a}=e.currentTarget.getBoundingClientRect();P({x:(e.clientX-t)/i*100,y:(e.clientY-r)/a*100})},children:[T&&(0,i.jsx)("div",{className:x().imageLoadingOverlay,children:(0,i.jsx)(d.A,{size:"medium",color:"primary"})}),(0,i.jsx)(s.default,{src:g||n.images[0]?.image||"/placeholder-product.jpg",alt:n.name,fill:!0,className:x().mainImage,style:{transformOrigin:`${w.x}% ${w.y}%`,opacity:T?.3:1},onLoad:()=>q(!1),onError:()=>q(!1)}),(0,i.jsx)("div",{className:x().zoomOverlay})]}),(0,i.jsx)("div",{className:x().thumbnailsContainer,children:n.images.map(e=>(0,i.jsx)("div",{className:`${x().thumbnailWrapper} ${g===e.image?x().active:""}`,onClick:()=>L(e.image),children:(0,i.jsx)(s.default,{src:e.image,alt:e.alt_text||n.name,width:80,height:80,className:x().thumbnail})},e.id))})]}),(0,i.jsxs)("div",{className:x().productInfo,children:["          ",(0,i.jsxs)("div",{className:x().breadcrumbs,children:[(0,i.jsx)(o(),{href:"/",className:x().breadcrumbItem,children:e("product.breadcrumbs.home")}),(0,i.jsx)("span",{className:x().breadcrumbSeparator,children:"/"}),n.category_name&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o(),{href:`/categories/${n.slug}`,className:x().breadcrumbItem,children:n.category_name}),(0,i.jsx)("span",{className:x().breadcrumbSeparator,children:"/"})]}),(0,i.jsx)("span",{className:x().breadcrumbItem,children:n.name})]}),(0,i.jsx)("h1",{className:x().productName,children:n.name}),"          ",(0,i.jsx)("div",{className:x().priceContainer,children:(0,i.jsxs)("span",{className:x().price,children:[E," ",e("product.price.currency")]})}),(0,i.jsxs)("div",{className:x().availabilitySection,children:[(0,i.jsx)("div",{className:`${x().availabilityDot} ${A}`}),"            ",(0,i.jsx)("span",{className:`${x().availabilityText} ${F}`,children:e("product.availability.inStock")})]}),"          ",(0,i.jsx)("div",{className:x().description,children:(0,i.jsx)(_,{description:n.description||e("product.description.noDescription")})}),(0,i.jsx)("div",{className:x().divider}),(()=>{if(!n||!n.variants)return null;let t=new Map;n.variants.forEach(e=>{e.size_info&&t.set(e.size_info.id,e.size_info)});let r=Array.from(t.values());return 0===r.length?null:(0,i.jsxs)("div",{className:x().variantSection,children:[(0,i.jsx)("div",{className:x().variantTitle,children:e("product.variants.size")}),(0,i.jsx)("div",{className:x().variantOptions,children:r.sort((e,t)=>e.display_order-t.display_order).map(e=>(0,i.jsx)("div",{className:`${x().sizeOption} ${k===e.id?x().selected:""}`,onClick:()=>I(e.id),children:e.name},e.id))})]})})(),(()=>{if(!n||!n.variants)return null;let t=new Map;n.variants.forEach(e=>{e.color_info&&t.set(e.color_info.id,e.color_info)});let r=Array.from(t.values());return 0===r.length?null:(0,i.jsxs)("div",{className:x().variantSection,children:[(0,i.jsx)("div",{className:x().variantTitle,children:e("product.variants.color")}),(0,i.jsx)("div",{className:x().variantOptions,children:r.sort((e,t)=>e.display_order-t.display_order).map(e=>(0,i.jsx)("div",{className:`${x().colorOption} ${S===e.id?x().selected:""}`,style:{backgroundColor:e.hex_code||"#000000"},onClick:()=>C(e.id),title:e.name},e.id))})]})})(),b?(0,i.jsxs)("div",{className:x().selectedVariantInfo,children:["        ",b.size_info&&(0,i.jsxs)("div",{className:x().variantInfoItem,children:[(0,i.jsx)("span",{className:x().variantInfoLabel,children:e("product.variants.selectedInfo.size")}),(0,i.jsx)("span",{className:x().variantInfoValue,children:b.size_info.name})]}),b.color_info&&(0,i.jsxs)("div",{className:x().variantInfoItem,children:[(0,i.jsx)("span",{className:x().variantInfoLabel,children:e("product.variants.selectedInfo.color")}),(0,i.jsxs)("span",{className:x().variantInfoValue,children:[b.color_info.hex_code&&(0,i.jsx)("span",{className:x().colorPreview,style:{backgroundColor:b.color_info.hex_code}}),b.color_info.name]})]}),b.name_suffix&&(0,i.jsxs)("div",{className:x().variantInfoItem,children:[(0,i.jsx)("span",{className:x().variantInfoLabel,children:e("product.variants.selectedInfo.variant")}),(0,i.jsx)("span",{className:x().variantInfoValue,children:b.name_suffix})]})]}):null,"          ",(0,i.jsxs)("div",{className:x().ctaSection,children:[(0,i.jsxs)("button",{className:`${x().addToCartButton} ${M?x().loading:""}`,onClick:O,disabled:M,children:["              ",M?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{size:"small",color:"white"}),(0,i.jsx)("span",{children:e("product.buttons.processing")})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,i.jsx)("path",{d:"M3 3h2l.4 2m0 0L7 13h10l4-8H5.4z"}),(0,i.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,i.jsx)("circle",{cx:"20",cy:"21",r:"1"})]}),e("product.buttons.buyNow")]})]}),"          "]})]})]})})}},58219:e=>{e.exports={loadingContainer:"productDetail_loadingContainer__loc0X",skeletonFallback:"productDetail_skeletonFallback___a_3L",productContainer:"productDetail_productContainer__1HO_y",productInfo:"productDetail_productInfo__SLHZK",productName:"productDetail_productName__XFLMi",price:"productDetail_price__7UkJ3",mainImageContainer:"productDetail_mainImageContainer__qWeql",thumbnailsContainer:"productDetail_thumbnailsContainer__sBEyu",ctaSection:"productDetail_ctaSection__1U4f9",addToCartButton:"productDetail_addToCartButton___Cv9p",quantityWrapper:"productDetail_quantityWrapper__0yxGw",variantSection:"productDetail_variantSection__IpsN4",sizeOption:"productDetail_sizeOption__Udw3x",colorOption:"productDetail_colorOption__47x_3",additionalInfoSection:"productDetail_additionalInfoSection__coIPB",descriptionContent:"productDetail_descriptionContent__EOBxF",thumbnailWrapper:"productDetail_thumbnailWrapper__tMS1u",variantOptions:"productDetail_variantOptions__kLImq",galleryContainer:"productDetail_galleryContainer__T3cNQ",mainImage:"productDetail_mainImage__Hgmb5",zoomOverlay:"productDetail_zoomOverlay__cYnhr",active:"productDetail_active__cc9y9",thumbnail:"productDetail_thumbnail__RWU84",breadcrumbs:"productDetail_breadcrumbs__rZt6Z",breadcrumbItem:"productDetail_breadcrumbItem__qaF23",breadcrumbSeparator:"productDetail_breadcrumbSeparator__btMpg",priceContainer:"productDetail_priceContainer__EA3Da",originalPrice:"productDetail_originalPrice__PVYPr",discount:"productDetail_discount__u0xd7",availabilitySection:"productDetail_availabilitySection__re5uw",availabilityDot:"productDetail_availabilityDot__GU07f",pulse:"productDetail_pulse__IqXby",inStock:"productDetail_inStock__XmiRa",outOfStock:"productDetail_outOfStock__KgMey",availabilityText:"productDetail_availabilityText__fuuO_",inStockText:"productDetail_inStockText__Dhak2",outOfStockText:"productDetail_outOfStockText__ZIxGp",description:"productDetail_description__qoe7M",divider:"productDetail_divider__Giejd",variantTitle:"productDetail_variantTitle__Ksxaj",selected:"productDetail_selected__qYnoV",selectedVariantInfo:"productDetail_selectedVariantInfo__dqNKk",variantInfoItem:"productDetail_variantInfoItem__jMAUo",variantInfoLabel:"productDetail_variantInfoLabel__yVPIf",variantInfoValue:"productDetail_variantInfoValue__SU3_B",colorPreview:"productDetail_colorPreview__wEmAA",quantityLabel:"productDetail_quantityLabel__EEiy_",quantityControls:"productDetail_quantityControls__uZN5v",quantityButton:"productDetail_quantityButton__8Y4E1",quantityInput:"productDetail_quantityInput__zPQFy",descriptionHeader:"productDetail_descriptionHeader__hkV3J",lowStock:"productDetail_lowStock__6NAvX",lowStockText:"productDetail_lowStockText__mzp3k",relatedProductsSection:"productDetail_relatedProductsSection__sinly",sectionTitle:"productDetail_sectionTitle__ZWTpv",productGrid:"productDetail_productGrid__WhiHI",skeleton:"productDetail_skeleton__sEZya",shimmer:"productDetail_shimmer__mBla8",skeletonMainImage:"productDetail_skeletonMainImage__HH03C",skeletonThumbnail:"productDetail_skeletonThumbnail__hFYyP",skeletonTitle:"productDetail_skeletonTitle__5stG8",skeletonPrice:"productDetail_skeletonPrice__y0vMy",skeletonText:"productDetail_skeletonText__vI0Gf",skeletonButton:"productDetail_skeletonButton__E6yMs",errorContainer:"productDetail_errorContainer__f73vZ",errorTitle:"productDetail_errorTitle__RJOQ_",errorMessage:"productDetail_errorMessage__eaf4M",errorButton:"productDetail_errorButton__flo_x",imageLoadingOverlay:"productDetail_imageLoadingOverlay__FX3H2",loading:"productDetail_loading__GE4qn"}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72568:e=>{e.exports={descriptionContainer:"ProductDescription_descriptionContainer__ALJvh",formattedContent:"ProductDescription_formattedContent__GXqwy",mainDescription:"ProductDescription_mainDescription__bQ8wQ",sectionTitle:"ProductDescription_sectionTitle__2GlDX",featuresSection:"ProductDescription_featuresSection__CqKks",featuresList:"ProductDescription_featuresList__0kDPN",featureItem:"ProductDescription_featureItem__uik5R",featureTitle:"ProductDescription_featureTitle__acjRV",featureContent:"ProductDescription_featureContent__gJQWV",featureSection:"ProductDescription_featureSection__R4oCO",highlightsSection:"ProductDescription_highlightsSection__mQl92",bulletList:"ProductDescription_bulletList__nM550",bulletItem:"ProductDescription_bulletItem__qAK3p",paragraph:"ProductDescription_paragraph__Z9Iwy"}},73051:(e,t,r)=>{Promise.resolve().then(r.bind(r,45471))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83667:(e,t,r)=>{Promise.resolve().then(r.bind(r,55882))},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[6707,7419,2941,2214,5748,2333,8187,5082,876,7698,1659,1866,7140,7593,1645,8188,6787,9398,2052,3854,2740,6566,9708,9059,8619,7916,7536,7901,1322,658,1410,518,5830,9078,3891,3281,1980,7265,2155,871,2759,2868,4681,9800,719,2664,2846,1847,6593,9243,9717,6886,1114,8146,4018,9272,6373,8852],()=>r(39736));module.exports=i})();