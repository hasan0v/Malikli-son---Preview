(()=>{var e={};e.id=6636,e.ids=[6636],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26597:(e,r,t)=>{Promise.resolve().then(t.bind(t,87283))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},75758:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"c:\\\\Users\\\\alien\\\\Downloads\\\\Malikli-son - Preview\\\\frontend\\\\src\\\\app\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\profile\\page.tsx","default")},76085:e=>{e.exports={profileContainer:"profile_profileContainer__4OeWo",profileCard:"profile_profileCard__HJ2Cz",profileHeader:"profile_profileHeader__Xf6f4",avatarSection:"profile_avatarSection__fZnTm",avatar:"profile_avatar__f2UDF",userInfo:"profile_userInfo__oWr8Y",userEmail:"profile_userEmail__ts0FE",actionButtons:"profile_actionButtons__rDFEg",button:"profile_button___xNux",editButton:"profile_editButton__oGUfC",logoutButton:"profile_logoutButton__Vjcxn",profileContent:"profile_profileContent__eyz94",section:"profile_section__RH7dI",sectionTitle:"profile_sectionTitle___Vi78",formGrid:"profile_formGrid__nDn3z",formGroup:"profile_formGroup__umLr_",formLabel:"profile_formLabel__dy9_j",formInput:"profile_formInput__r84gq",formValue:"profile_formValue__S31WS",saveActions:"profile_saveActions__PSj27",saveButton:"profile_saveButton__Vp6f_",primaryButton:"profile_primaryButton__MNKcw",secondaryButton:"profile_secondaryButton__qgiP9",settingsGrid:"profile_settingsGrid__VETua",settingItem:"profile_settingItem__Z5eF1",settingInfo:"profile_settingInfo__rp9Jq",settingDescription:"profile_settingDescription__Kr5b2",ordersPlaceholder:"profile_ordersPlaceholder__JRe7m",placeholderText:"profile_placeholderText__LSZEX",loadingSpinner:"profile_loadingSpinner__LmX3z",spinner:"profile_spinner__0gF1W",spin:"profile_spin__B8_d_"}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87283:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var s=t(60687),i=t(43210),o=t(16189),n=t(15471),a=t(83023),l=t(45067);function c({children:e,redirectTo:r="/auth/login"}){let{t}=(0,l.useI18n)(),{isAuthenticated:i,isLoading:a,isInitialized:c}=(0,n.G)(e=>e.auth);return((0,n.j)(),(0,o.useRouter)(),!c||a)?(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f4f6",borderTop:"4px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,s.jsx)("p",{style:{color:"#6b7280"},children:c?t("common.checkingAuth"):t("common.initializing")||"Initializing..."})]}):i?(0,s.jsx)(s.Fragment,{children:e}):null}var p=t(41970),d=t(76085),f=t.n(d);function u(){let{t:e}=(0,l.useI18n)(),[r,t]=(0,i.useState)(!1),[c,d]=(0,i.useState)({first_name:"",last_name:"",email:"",phone:""}),u=(0,n.j)(),m=(0,o.useRouter)(),{user:_,isLoading:h,isAuthenticated:x}=(0,n.G)(e=>e.auth),v=e=>{let{name:r,value:t}=e.target;d({...c,[r]:t})},g=async()=>{try{let e=localStorage.getItem("access_token");(await fetch("http://localhost:8000/api/v1/auth/profile/",{method:"PATCH",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(await u((0,a.l2)()),t(!1))}catch(e){console.error("Error updating profile:",e)}};return h?(0,s.jsx)("div",{className:f().profileContainer,children:(0,s.jsx)("div",{className:f().loadingContainer,children:(0,s.jsx)(p.A,{size:"large",color:"primary",text:e("profile.loading")})})}):_?(0,s.jsx)("div",{className:f().profileContainer,children:(0,s.jsxs)("div",{className:f().profileCard,children:[(0,s.jsxs)("div",{className:f().profileHeader,children:[(0,s.jsxs)("div",{className:f().avatarSection,children:[(0,s.jsx)("div",{className:f().avatar,children:_.first_name?_.first_name[0].toUpperCase():"ĞŸ"}),(0,s.jsxs)("div",{className:f().userInfo,children:[(0,s.jsxs)("h1",{className:f().userName,children:[_.first_name," ",_.last_name]}),(0,s.jsx)("p",{className:f().userEmail,children:_.email})]})]}),(0,s.jsxs)("div",{className:f().actionButtons,children:["            ",(0,s.jsx)("button",{onClick:()=>t(!r),className:`${f().button} ${f().editButton}`,children:e(r?"profile.cancel":"profile.edit")}),(0,s.jsx)("button",{onClick:()=>{u((0,a.ri)()),m.push("/")},className:`${f().button} ${f().logoutButton}`,children:e("profile.logout")})]})]}),(0,s.jsxs)("div",{className:f().profileContent,children:["          ",(0,s.jsxs)("div",{className:f().section,children:[(0,s.jsx)("h2",{className:f().sectionTitle,children:e("profile.personalInfo.title")}),(0,s.jsxs)("div",{className:f().formGrid,children:[(0,s.jsxs)("div",{className:f().formGroup,children:[(0,s.jsx)("label",{className:f().formLabel,children:e("profile.personalInfo.firstName")}),r?(0,s.jsx)("input",{type:"text",name:"first_name",value:c.first_name,onChange:v,className:f().formInput}):(0,s.jsx)("p",{className:f().formValue,children:_.first_name||e("profile.notSpecified")})]}),(0,s.jsxs)("div",{className:f().formGroup,children:[(0,s.jsx)("label",{className:f().formLabel,children:e("profile.personalInfo.lastName")}),r?(0,s.jsx)("input",{type:"text",name:"last_name",value:c.last_name,onChange:v,className:f().formInput}):(0,s.jsx)("p",{className:f().formValue,children:_.last_name||e("profile.notSpecified")})]}),(0,s.jsxs)("div",{className:f().formGroup,children:[(0,s.jsx)("label",{className:f().formLabel,children:e("profile.personalInfo.email")}),r?(0,s.jsx)("input",{type:"email",name:"email",value:c.email,onChange:v,className:f().formInput}):(0,s.jsx)("p",{className:f().formValue,children:_.email})]}),(0,s.jsxs)("div",{className:f().formGroup,children:[(0,s.jsx)("label",{className:f().formLabel,children:e("profile.personalInfo.phone")}),r?(0,s.jsx)("input",{type:"tel",name:"phone",value:c.phone,onChange:v,className:f().formInput,placeholder:e("profile.personalInfo.phonePlaceholder")}):(0,s.jsx)("p",{className:f().formValue,children:_.phone_number||e("profile.notSpecified")})]})]}),"            ",r&&(0,s.jsx)("div",{className:f().saveActions,children:(0,s.jsx)("button",{onClick:g,className:`${f().button} ${f().saveButton}`,children:e("profile.saveChanges")})})]}),(0,s.jsxs)("div",{className:f().section,children:[(0,s.jsx)("h2",{className:f().sectionTitle,children:e("profile.accountSettings.title")}),(0,s.jsxs)("div",{className:f().settingsGrid,children:[(0,s.jsxs)("div",{className:f().settingItem,children:[(0,s.jsxs)("div",{className:f().settingInfo,children:[(0,s.jsx)("h3",{className:f().settingTitle,children:e("profile.accountSettings.changePassword.title")}),(0,s.jsx)("p",{className:f().settingDescription,children:e("profile.accountSettings.changePassword.description")})]}),(0,s.jsx)("button",{className:`${f().button} ${f().secondaryButton}`,children:e("profile.accountSettings.changePassword.button")})]}),(0,s.jsxs)("div",{className:f().settingItem,children:[(0,s.jsxs)("div",{className:f().settingInfo,children:[(0,s.jsx)("h3",{className:f().settingTitle,children:e("profile.accountSettings.notifications.title")}),(0,s.jsx)("p",{className:f().settingDescription,children:e("profile.accountSettings.notifications.description")})]}),(0,s.jsx)("button",{className:`${f().button} ${f().secondaryButton}`,children:e("profile.accountSettings.notifications.button")})]})]})]}),(0,s.jsxs)("div",{className:f().section,children:[(0,s.jsx)("h2",{className:f().sectionTitle,children:e("profile.orders.title")}),(0,s.jsxs)("div",{className:f().ordersPlaceholder,children:[(0,s.jsx)("p",{className:f().placeholderText,children:e("profile.orders.noOrders")}),(0,s.jsx)("button",{className:`${f().button} ${f().primaryButton}`,children:e("profile.orders.startShopping")})]})]})]})]})}):null}function m(){return(0,s.jsx)(c,{children:(0,s.jsx)(u,{})})}},90149:(e,r,t)=>{Promise.resolve().then(t.bind(t,75758))},94735:e=>{"use strict";e.exports=require("events")},97928:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>d,pages:()=>p,routeModule:()=>f,tree:()=>c});var s=t(65239),i=t(48088),o=t(88170),n=t.n(o),a=t(30893),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let c={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,75758)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\profile\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,38132)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\profile\\page.tsx"],d={require:t,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[6707,7419,2941,2214,5748,2333,8187,5082,876,7698,1659,1866,7140,7593,1645,8188,6787,9398,2052,3854,2740,6566,9708,9059,8619,7916,7536,7901,1322,658,1410,518,5830,9078,3891,3281,1980,7265,2155,871,2759,2868,4681,9800,719,2664,2846,1847,6593,9243,9717,6886,1114,8146,4018,9272,6373,8852],()=>t(97928));module.exports=s})();