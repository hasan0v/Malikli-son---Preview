(()=>{var e={};e.id=6040,e.ids=[6040],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23990:(e,s,r)=>{Promise.resolve().then(r.bind(r,36076))},24408:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>_,tree:()=>d});var t=r(65239),a=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d={children:["",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,30566)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\orders\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,38132)),"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\orders\\[id]\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},_=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/orders/[id]/page",pathname:"/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30566:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"c:\\\\Users\\\\alien\\\\Downloads\\\\Malikli-son - Preview\\\\frontend\\\\src\\\\app\\\\orders\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"c:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\orders\\[id]\\page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},36076:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(60687),a=r(43210),i=r(54864),n=r(16189),o=r(45067);r(72725);var l=r(82600),d=r.n(l);function c(){let{t:e}=(0,o.useI18n)(),s=(0,n.useRouter)(),r=(0,n.useParams)(),{isAuthenticated:l,user:c}=(0,i.d4)(e=>e.auth),[m,_]=(0,a.useState)(null),[u,p]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),[v,j]=(0,a.useState)(!1);r?.id;let N=e=>"string"==typeof e?parseFloat(e):e,D=e=>N(e).toFixed(2);return v?u?(0,t.jsx)("div",{className:d().orderDetailsPage,children:(0,t.jsx)("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().loadingState,children:[(0,t.jsx)("div",{className:d().spinner}),(0,t.jsx)("p",{children:e("orders.loading")})]})})}):h||!m?(0,t.jsx)("div",{className:d().orderDetailsPage,children:(0,t.jsx)("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().errorState,children:[(0,t.jsx)("h2",{children:e("orders.error.title")}),(0,t.jsx)("p",{children:h||e("orders.error.orderNotFound")}),(0,t.jsx)("button",{onClick:()=>s.push("/orders"),className:d().backButton,children:e("orders.error.backToOrders")})]})})}):(0,t.jsx)("div",{className:d().orderDetailsPage,children:(0,t.jsxs)("div",{className:d().container,children:[(0,t.jsxs)("div",{className:d().header,children:[(0,t.jsxs)("button",{onClick:()=>s.push("/orders"),className:d().backButton,children:["â† ",e("orders.actions.backToOrders")]}),(0,t.jsxs)("div",{className:d().headerContent,children:[(0,t.jsx)("h1",{className:d().orderNumber,children:m.order_number}),(0,t.jsxs)("div",{className:d().orderStatus,children:[(0,t.jsx)("span",{className:d().status,style:{backgroundColor:(e=>{switch(e){case"pending":return"var(--warning-color)";case"confirmed":return"var(--color-info)";case"processing":return"var(--color-primary)";case"shipped":return"var(--color-secondary)";case"delivered":return"var(--color-success)";case"cancelled":return"var(--error-color)";default:return"var(--color-text-secondary)"}})(m.status)},children:e(`orders.status.${m.status}`)}),(0,t.jsx)("span",{className:d().paymentStatus,style:{color:(e=>{switch(e){case"paid":return"var(--color-success)";case"pending":return"var(--warning-color)";case"failed":return"var(--color-error)";case"refunded":return"var(--color-info)";default:return"var(--color-text-secondary)"}})(m.payment_status)},children:e(`orders.paymentStatus.${m.payment_status}`)})]})]})]}),(0,t.jsxs)("div",{className:d().content,children:["          ",(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("orderDetails.summary.title")}),(0,t.jsxs)("div",{className:d().summaryGrid,children:[(0,t.jsxs)("div",{className:d().summaryItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orders.orderDate"),":"]}),(0,t.jsx)("span",{className:d().value,children:new Date(m.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{className:d().summaryItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orders.total"),":"]}),(0,t.jsxs)("span",{className:d().value,children:["$",D(m.total_amount)]})]})]})]}),(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("orderDetails.customer.title")}),(0,t.jsxs)("div",{className:d().customerInfo,children:[(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.customer.name"),":"]}),(0,t.jsxs)("span",{className:d().value,children:[m.customer_info?.first_name||""," ",m.customer_info?.last_name||"",!m.customer_info?.first_name&&!m.customer_info?.last_name&&(0,t.jsx)("span",{className:d().missingInfo,children:"Name not provided"})]})]}),(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.customer.email"),":"]}),(0,t.jsx)("span",{className:d().value,children:m.customer_info?.email||(0,t.jsx)("span",{className:d().missingInfo,children:"Email not provided"})})]}),(0,t.jsxs)("div",{className:d().infoItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.customer.phone"),":"]}),(0,t.jsx)("span",{className:d().value,children:m.customer_info?.phone||(0,t.jsx)("span",{className:d().missingInfo,children:"Phone not provided"})})]})]})]}),(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("orderDetails.shipping.title")}),(0,t.jsxs)("div",{className:d().shippingInfo,children:[(0,t.jsxs)("div",{className:d().addressInfo,children:[(0,t.jsx)("h3",{children:e("orderDetails.shipping.address")}),(0,t.jsxs)("div",{className:d().address,children:[(0,t.jsx)("p",{children:m.shipping_address.street_address}),(0,t.jsxs)("p",{children:[m.shipping_address.city,", ",m.shipping_address.state]}),(0,t.jsx)("p",{children:m.shipping_address.postal_code})]})]}),m.tracking_number&&(0,t.jsxs)("div",{className:d().trackingInfo,children:[(0,t.jsx)("h3",{children:e("orders.delivery.trackingNumber")}),(0,t.jsxs)("div",{className:d().trackingDetails,children:[(0,t.jsx)("span",{className:d().trackingNumber,children:m.tracking_number}),(0,t.jsx)("button",{className:d().trackButton,onClick:()=>{alert(`Track order: ${m.tracking_number}`)},children:e("orders.delivery.track")})]})]}),m.estimated_delivery&&(0,t.jsxs)("div",{className:d().deliveryInfo,children:[(0,t.jsx)("h3",{children:e("orders.delivery.estimated")}),(0,t.jsx)("p",{children:new Date(m.estimated_delivery).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("orderDetails.items.title")}),(0,t.jsx)("div",{className:d().itemsList,children:m.items.map(s=>(0,t.jsxs)("div",{className:d().orderItem,children:[(0,t.jsx)("div",{className:d().itemImage,children:(0,t.jsx)("img",{src:s.image,alt:s.name})}),(0,t.jsxs)("div",{className:d().itemDetails,children:[(0,t.jsx)("h4",{className:d().itemName,children:s.name}),(0,t.jsxs)("div",{className:d().itemVariants,children:[s.color&&(0,t.jsxs)("span",{className:d().variant,children:[e("orders.item.color"),": ",s.color]}),s.size&&(0,t.jsxs)("span",{className:d().variant,children:[e("orders.item.size"),": ",s.size]})]}),(0,t.jsxs)("div",{className:d().itemPricing,children:[(0,t.jsxs)("span",{className:d().quantity,children:[e("orders.item.quantity"),": ",s.quantity]}),"                      ",(0,t.jsxs)("span",{className:d().unitPrice,children:["$",D(s.price)," ",e("orderDetails.items.each")]}),(0,t.jsxs)("span",{className:d().totalPrice,children:["$",D(N(s.price)*s.quantity)]})]})]})]},s.id))})]}),(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("orderDetails.total.title")}),"            ",(0,t.jsxs)("div",{className:d().orderTotal,children:[(0,t.jsxs)("div",{className:d().totalItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.total.subtotal"),":"]}),(0,t.jsxs)("span",{className:d().value,children:["$",D(N(m.total_amount)-N(m.shipping_cost)+N(m.discount_amount))]})]}),(0,t.jsxs)("div",{className:d().totalItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.total.shipping"),":"]}),(0,t.jsx)("span",{className:d().value,children:0===N(m.shipping_cost)?e("orderDetails.total.free"):`$${D(m.shipping_cost)}`})]}),N(m.discount_amount)>0&&(0,t.jsxs)("div",{className:d().totalItem,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.total.discount"),":"]}),(0,t.jsxs)("span",{className:d().value,children:["-$",D(m.discount_amount)]})]}),(0,t.jsxs)("div",{className:d().totalItem+" "+d().grandTotal,children:[(0,t.jsxs)("span",{className:d().label,children:[e("orderDetails.total.total"),":"]}),(0,t.jsxs)("span",{className:d().value,children:["$",D(m.total_amount)]})]})]})]}),"          ",(0,t.jsxs)("div",{className:d().actions,children:["            ","pending"===m.payment_status&&"cancelled"!==m.status&&(0,t.jsx)("button",{className:d().retryPaymentButton,onClick:()=>{if(!m)return;let e=parseFloat(m.total_amount||"0"),s=`https://payment.gateway.com/pay?amount=${e.toFixed(2)}&currency=EUR&orderid=${m.id}&returnUrl=${encodeURIComponent(window.location.origin+"/payment-result?status=success&orderid="+m.id)}&cancelUrl=${encodeURIComponent(window.location.origin+"/payment-result?status=cancelled&orderid="+m.id)}`;window.location.href=s},children:e("orders.actions.retryPayment")||"Retry Payment"}),"delivered"===m.status&&(0,t.jsx)("button",{className:d().reorderButton,onClick:()=>{alert("Items added to cart!")},children:e("orders.actions.reorder")}),("pending"===m.status||"confirmed"===m.status)&&(0,t.jsx)("button",{className:d().cancelButton,onClick:()=>{confirm(e("orders.actions.confirmCancel"))&&alert("Order cancelled")},children:e("orders.actions.cancel")}),(0,t.jsx)("button",{className:d().printButton,onClick:()=>window.print(),children:e("orderDetails.actions.print")})]})]})]})}):(0,t.jsx)("div",{className:d().orderDetailsPage,children:(0,t.jsx)("div",{className:d().container,children:(0,t.jsxs)("div",{className:d().loadingState,children:[(0,t.jsx)("div",{className:d().spinner}),(0,t.jsx)("p",{children:"Loading..."})]})})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82600:e=>{e.exports={orderDetailsPage:"orderDetails_orderDetailsPage__8xsKV",backgroundShift:"orderDetails_backgroundShift__Z68OD",container:"orderDetails_container__q_ZRG",loadingState:"orderDetails_loadingState__YcIes",errorState:"orderDetails_errorState__oVWwn",fadeInUp:"orderDetails_fadeInUp__k5dG3",spinner:"orderDetails_spinner__cXtDg",spin:"orderDetails_spin__A3bka",pulse:"orderDetails_pulse__s4fE3",header:"orderDetails_header__s5m5H",slideInFromTop:"orderDetails_slideInFromTop__KIsnm",shimmer:"orderDetails_shimmer__jINuf",backButton:"orderDetails_backButton__Y17To",headerContent:"orderDetails_headerContent__L9Gsr",fadeInRight:"orderDetails_fadeInRight__2ObWb",orderNumber:"orderDetails_orderNumber__tHPFC",expandWidth:"orderDetails_expandWidth__ww7nR",orderStatus:"orderDetails_orderStatus__atFwX",status:"orderDetails_status__kCY0s",paymentStatus:"orderDetails_paymentStatus__oSZqz",content:"orderDetails_content__2qOGm",section:"orderDetails_section__l3nqU",sectionTitle:"orderDetails_sectionTitle__SfsmT",slideInFromLeft:"orderDetails_slideInFromLeft___LQsD",summaryGrid:"orderDetails_summaryGrid__m2EFv",summaryItem:"orderDetails_summaryItem__WYEpt",label:"orderDetails_label__yFzGW",value:"orderDetails_value__6hGc_",customerInfo:"orderDetails_customerInfo__iuGWo",infoItem:"orderDetails_infoItem__Z8gmI",missingInfo:"orderDetails_missingInfo__nG1IG",shippingInfo:"orderDetails_shippingInfo___Dpbp",addressInfo:"orderDetails_addressInfo__wEhH7",trackingInfo:"orderDetails_trackingInfo__aHmbx",deliveryInfo:"orderDetails_deliveryInfo__T8RZk",address:"orderDetails_address___39I_",trackingDetails:"orderDetails_trackingDetails__lYWvT",trackingNumber:"orderDetails_trackingNumber__VCkuA",trackButton:"orderDetails_trackButton__E4SKl",itemsList:"orderDetails_itemsList__5snSz",orderItem:"orderDetails_orderItem__PX1in",itemImage:"orderDetails_itemImage__2lCm5",itemDetails:"orderDetails_itemDetails__J0jAM",itemName:"orderDetails_itemName__u8ACM",itemVariants:"orderDetails_itemVariants__0YZk3",variant:"orderDetails_variant__4s2ZY",itemPricing:"orderDetails_itemPricing__hZjEP",quantity:"orderDetails_quantity__R04Iz",unitPrice:"orderDetails_unitPrice__RRYNW",totalPrice:"orderDetails_totalPrice__7BjVS",orderTotal:"orderDetails_orderTotal__HaH6J",totalItem:"orderDetails_totalItem__a697F",grandTotal:"orderDetails_grandTotal__22uV_",actions:"orderDetails_actions__oRBNJ",reorderButton:"orderDetails_reorderButton__RrrG2",cancelButton:"orderDetails_cancelButton__EH3Gj",printButton:"orderDetails_printButton__7AUCe",retryPaymentButton:"orderDetails_retryPaymentButton__UXngL",fadeIn:"orderDetails_fadeIn__oUx5p",slideInUp:"orderDetails_slideInUp__cdNnk",glow:"orderDetails_glow__l5I2N"}},84238:(e,s,r)=>{Promise.resolve().then(r.bind(r,30566))},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[6707,7419,2941,2214,5748,2333,8187,5082,876,7698,1659,1866,7140,7593,1645,8188,6787,9398,2052,3854,2740,6566,9708,9059,8619,7916,7536,7901,1322,658,1410,518,5830,9078,3891,3281,1980,7265,2155,871,2759,2868,4681,9800,719,2664,2846,1847,6593,9243,9717,6886,1114,8146,4018,9272,6373,8852],()=>r(24408));module.exports=t})();