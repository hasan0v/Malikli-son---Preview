{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/home.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"home-module__Hx0lNG__active\",\n  \"add-to-cart-button\": \"home-module__Hx0lNG__add-to-cart-button\",\n  \"addToCartButton\": \"home-module__Hx0lNG__addToCartButton\",\n  \"bounce\": \"home-module__Hx0lNG__bounce\",\n  \"clickableSlide\": \"home-module__Hx0lNG__clickableSlide\",\n  \"collection-section\": \"home-module__Hx0lNG__collection-section\",\n  \"collection-title\": \"home-module__Hx0lNG__collection-title\",\n  \"imageContainer\": \"home-module__Hx0lNG__imageContainer\",\n  \"page-container\": \"home-module__Hx0lNG__page-container\",\n  \"product-card\": \"home-module__Hx0lNG__product-card\",\n  \"product-grid\": \"home-module__Hx0lNG__product-grid\",\n  \"product-image\": \"home-module__Hx0lNG__product-image\",\n  \"product-image-container\": \"home-module__Hx0lNG__product-image-container\",\n  \"product-name\": \"home-module__Hx0lNG__product-name\",\n  \"product-price\": \"home-module__Hx0lNG__product-price\",\n  \"productCard\": \"home-module__Hx0lNG__productCard\",\n  \"productCardSkeleton\": \"home-module__Hx0lNG__productCardSkeleton\",\n  \"productGrid\": \"home-module__Hx0lNG__productGrid\",\n  \"productGridLoading\": \"home-module__Hx0lNG__productGridLoading\",\n  \"productImage\": \"home-module__Hx0lNG__productImage\",\n  \"productImageContainer\": \"home-module__Hx0lNG__productImageContainer\",\n  \"productName\": \"home-module__Hx0lNG__productName\",\n  \"productPrice\": \"home-module__Hx0lNG__productPrice\",\n  \"productsContainer\": \"home-module__Hx0lNG__productsContainer\",\n  \"productsLoading\": \"home-module__Hx0lNG__productsLoading\",\n  \"scrollArrow\": \"home-module__Hx0lNG__scrollArrow\",\n  \"scrollIndicator\": \"home-module__Hx0lNG__scrollIndicator\",\n  \"sectionLoading\": \"home-module__Hx0lNG__sectionLoading\",\n  \"skeletonLoading\": \"home-module__Hx0lNG__skeletonLoading\",\n  \"slide\": \"home-module__Hx0lNG__slide\",\n  \"slideButton\": \"home-module__Hx0lNG__slideButton\",\n  \"slideCaption\": \"home-module__Hx0lNG__slideCaption\",\n  \"slider-controls\": \"home-module__Hx0lNG__slider-controls\",\n  \"slider-dot\": \"home-module__Hx0lNG__slider-dot\",\n  \"slider-section\": \"home-module__Hx0lNG__slider-section\",\n  \"sliderContainer\": \"home-module__Hx0lNG__sliderContainer\",\n  \"sliderImage\": \"home-module__Hx0lNG__sliderImage\",\n  \"sliderLoading\": \"home-module__Hx0lNG__sliderLoading\",\n  \"sliderLoadingContent\": \"home-module__Hx0lNG__sliderLoadingContent\",\n  \"sliderSection\": \"home-module__Hx0lNG__sliderSection\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/services/productService.ts"],"sourcesContent":["// Product Service for handling API calls to the products endpoints\r\nimport { Product, ProductCategory } from '../types/product';\r\nimport apiClient from './api';\r\n\r\n// Interface for paginated responses from Django REST Framework\r\ninterface PaginatedResponse<T> {\r\n  count: number;\r\n  next: string | null;\r\n  previous: string | null;\r\n  results: T[];\r\n}\r\n\r\nexport const categoryToSliderItem = (category: ProductCategory, index: number) => {\r\n  // Use category image if available, otherwise use a placeholder\r\n  const imageSrc = category.image || '/placeholder-slider.jpg';\r\n  return {\r\n    id: category.id || index + 1,\r\n    type: 'image' as const,\r\n    src: imageSrc,\r\n    alt: category.name || `Category ${index + 1}`,\r\n    slug: category.slug,\r\n    title: category.name,\r\n    description: category.description || 'Explore our collection'\r\n  };\r\n};\r\n\r\n/**\r\n * Fetch all products from the API\r\n */\r\nexport async function getProducts(): Promise<Product[]> {\r\n  try {\r\n    const response = await apiClient.get<PaginatedResponse<Product>>('/products/');\r\n    // Return the results array from the paginated response\r\n    return response.data.results || [];\r\n  } catch (error) {\r\n    console.error(\"Error fetching products:\", error);\r\n    return []; // Return empty array on error\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch a single product by slug\r\n */\r\nexport async function getProductBySlug(slug: string): Promise<Product | null> {\r\n  try {\r\n    const response = await apiClient.get(`/products/${slug}/`);\r\n    return response.data;\r\n  } catch (error: any) {\r\n    if (error.response?.status === 404) {\r\n      return null;\r\n    }\r\n    console.error(`Error fetching product with slug ${slug}:`, error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch all categories\r\n * @param featured Optional flag to fetch only featured categories\r\n */\r\nexport async function getCategories(featured?: boolean): Promise<ProductCategory[]> {\r\n  try {\r\n    let url = '/categories/';\r\n    if (featured) {\r\n      url += '?is_featured=true';\r\n    }\r\n      const response = await apiClient.get<PaginatedResponse<ProductCategory>>(url);\r\n    return response.data.results || [];\r\n  } catch (error) {\r\n    console.error(\"Error fetching categories:\", error);\r\n    return []; // Return empty array on error\r\n  }\r\n}\r\n\r\n/**\r\n * Fetch products by category slug\r\n */\r\nexport async function getProductsByCategory(categorySlug: string): Promise<Product[]> {\r\n  try {\r\n    const response = await apiClient.get<PaginatedResponse<Product>>(`/products/?category__slug=${categorySlug}`);\r\n    return response.data.results || [];\r\n  } catch (error) {\r\n    console.error(`Error fetching products for category ${categorySlug}:`, error);\r\n    return []; // Return empty array on error\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,mEAAmE;;;;;;;;AAEnE;;AAUO,MAAM,uBAAuB,CAAC,UAA2B;IAC9D,+DAA+D;IAC/D,MAAM,WAAW,SAAS,KAAK,IAAI;IACnC,OAAO;QACL,IAAI,SAAS,EAAE,IAAI,QAAQ;QAC3B,MAAM;QACN,KAAK;QACL,KAAK,SAAS,IAAI,IAAI,CAAC,SAAS,EAAE,QAAQ,GAAG;QAC7C,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,IAAI;QACpB,aAAa,SAAS,WAAW,IAAI;IACvC;AACF;AAKO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAA6B;QACjE,uDAAuD;QACvD,OAAO,SAAS,IAAI,CAAC,OAAO,IAAI,EAAE;IACpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,EAAE,EAAE,8BAA8B;IAC3C;AACF;AAKO,eAAe,iBAAiB,IAAY;IACjD,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;QACzD,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAY;QACnB,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,OAAO;QACT;QACA,QAAQ,KAAK,CAAC,CAAC,iCAAiC,EAAE,KAAK,CAAC,CAAC,EAAE;QAC3D,OAAO;IACT;AACF;AAMO,eAAe,cAAc,QAAkB;IACpD,IAAI;QACF,IAAI,MAAM;QACV,IAAI,UAAU;YACZ,OAAO;QACT;QACE,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAAqC;QAC3E,OAAO,SAAS,IAAI,CAAC,OAAO,IAAI,EAAE;IACpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,EAAE,EAAE,8BAA8B;IAC3C;AACF;AAKO,eAAe,sBAAsB,YAAoB;IAC9D,IAAI;QACF,MAAM,WAAW,MAAM,sHAAA,CAAA,UAAS,CAAC,GAAG,CAA6B,CAAC,0BAA0B,EAAE,cAAc;QAC5G,OAAO,SAAS,IAAI,CAAC,OAAO,IAAI,EAAE;IACpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,qCAAqC,EAAE,aAAa,CAAC,CAAC,EAAE;QACvE,OAAO,EAAE,EAAE,8BAA8B;IAC3C;AACF","debugId":null}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/components/ImageSlider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport styles from '../app/home.module.css';\r\n\r\ninterface SliderItem {\r\n  id: number;\r\n  type: 'image';\r\n  src: string;\r\n  alt: string;\r\n  slug?: string;\r\n  title?: string;\r\n  description?: string;\r\n}\r\n\r\ninterface ImageSliderProps {\r\n  items: SliderItem[];\r\n}\r\n\r\nconst ImageSlider: React.FC<ImageSliderProps> = ({ items }) => {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  // Add a client-side only flag to handle hydration\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Mark component as client-side rendered after mount\r\n    setIsClient(true);\r\n    \r\n    const timer = setTimeout(() => {\r\n      setCurrentIndex((prevIndex) => (prevIndex + 1) % items.length);\r\n    }, 5000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [currentIndex, items.length]);\r\n  // Add a function to handle clicks on slides\r\n  // const handleSlideClick = (slug?: string) => {\r\n  //   if (slug) {\r\n  //     window.location.href = `/categories/${slug}`;\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <div className={styles.sliderSection}>\r\n      {items.map((item, index) => (        <div\r\n          key={item.id}\r\n          className={`${styles.slide} ${index === currentIndex ? styles.active : ''}`}\r\n          // onClick={() => handleSlideClick(item.slug)}\r\n          // role={item.slug ? \"button\" : undefined}\r\n          // tabIndex={item.slug ? 0 : undefined}\r\n          // aria-label={item.slug ? `View ${item.title || item.slug} collection` : undefined}\r\n          // onKeyDown={(e) => {\r\n          //   if (item.slug && (e.key === 'Enter' || e.key === ' ')) {\r\n          //     handleSlideClick(item.slug);\r\n          //     e.preventDefault();\r\n          //   }\r\n          // }}\r\n        >\r\n          {item.type === 'image' && (\r\n            <div className={styles.imageContainer}>\r\n              <Image \r\n                src={item.src} \r\n                alt={item.alt} \r\n                fill\r\n                sizes=\"100vw\"\r\n                style={{ objectFit: 'cover' }}\r\n                priority={index === 0} \r\n                className={styles.sliderImage}\r\n              />              {(item.title || item.description) && (\r\n                <div className={styles.slideCaption}>\r\n                  {/* {item.title && <h2>{item.title}</h2>}\r\n                  {item.description && <p>{item.description}</p>} */}\r\n                  {/* {item.slug && (\r\n                    <Link href={`/categories/${item.slug}`} className={styles.slideButton}>\r\n                      Смотреть Коллекцию\r\n                    </Link>\r\n                  )} */}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageSlider;"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AALA;;;;;AAqBA,MAAM,cAA0C,CAAC,EAAE,KAAK,EAAE;IACxD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,kDAAkD;IAClD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,qDAAqD;QACrD,YAAY;QAEZ,MAAM,QAAQ,WAAW;YACvB,gBAAgB,CAAC,YAAc,CAAC,YAAY,CAAC,IAAI,MAAM,MAAM;QAC/D,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAc,MAAM,MAAM;KAAC;IAC/B,4CAA4C;IAC5C,gDAAgD;IAChD,gBAAgB;IAChB,oDAAoD;IACpD,MAAM;IACN,KAAK;IAEL,qBACE,8OAAC;QAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,aAAa;kBACjC,MAAM,GAAG,CAAC,CAAC,MAAM,sBAAmB,8OAAC;gBAElC,WAAW,GAAG,8HAAA,CAAA,UAAM,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,eAAe,8HAAA,CAAA,UAAM,CAAC,MAAM,GAAG,IAAI;0BAY1E,KAAK,IAAI,KAAK,yBACb,8OAAC;oBAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,cAAc;;sCACnC,8OAAC,6HAAA,CAAA,UAAK;4BACJ,KAAK,KAAK,GAAG;4BACb,KAAK,KAAK,GAAG;4BACb,IAAI;4BACJ,OAAM;4BACN,OAAO;gCAAE,WAAW;4BAAQ;4BAC5B,UAAU,UAAU;4BACpB,WAAW,8HAAA,CAAA,UAAM,CAAC,WAAW;;;;;;wBAC7B;wBAAe,CAAC,KAAK,KAAK,IAAI,KAAK,WAAW,mBAC9C,8OAAC;4BAAI,WAAW,8HAAA,CAAA,UAAM,CAAC,YAAY;;;;;;;;;;;;eAxBpC,KAAK,EAAE;;;;;;;;;;AAwCtB;uCAEe","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/components/SafeImage.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from 'react';\r\nimport Image from 'next/image';\r\n\r\ninterface SafeImageProps {\r\n  src: string;\r\n  alt: string;\r\n  width: number;\r\n  height: number;\r\n  className?: string;\r\n  priority?: boolean;\r\n}\r\n\r\nconst SafeImage: React.FC<SafeImageProps> = ({\r\n  src,\r\n  alt,\r\n  width,\r\n  height,\r\n  className,\r\n  priority = false\r\n}) => {\r\n  const [imageSrc, setImageSrc] = useState(src);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  const handleError = () => {\r\n    if (!hasError) {\r\n      setHasError(true);\r\n      setImageSrc('/placeholder-product.jpg');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Image\r\n      src={imageSrc}\r\n      alt={alt}\r\n      width={width}\r\n      height={height}\r\n      className={className}\r\n      priority={priority}\r\n      onError={handleError}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SafeImage;"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAcA,MAAM,YAAsC,CAAC,EAC3C,GAAG,EACH,GAAG,EACH,KAAK,EACL,MAAM,EACN,SAAS,EACT,WAAW,KAAK,EACjB;IACC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,cAAc;QAClB,IAAI,CAAC,UAAU;YACb,YAAY;YACZ,YAAY;QACd;IACF;IAEA,qBACE,8OAAC,6HAAA,CAAA,UAAK;QACJ,KAAK;QACL,KAAK;QACL,OAAO;QACP,QAAQ;QACR,WAAW;QACX,UAAU;QACV,SAAS;;;;;;AAGf;uCAEe","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/utils/variantUtils.ts"],"sourcesContent":["import { Product, ProductVariant } from '../types/product';\r\n\r\n/**\r\n * Find a product variant that matches the selected color and size\r\n */\r\nexport const findMatchingVariant = (\r\n  product: Product, \r\n  selectedColor?: string, \r\n  selectedSize?: string\r\n): ProductVariant | undefined => {\r\n  if (!product.variants || product.variants.length === 0) {\r\n    return undefined;\r\n  }\r\n\r\n  // Try to find an exact match first (both color and size)\r\n  if (selectedColor && selectedSize) {\r\n    const exactMatch = product.variants.find(variant => {\r\n      const colorMatch = variant.color_info?.hex_code === selectedColor || \r\n                        variant.color_info?.name === selectedColor ||\r\n                        variant.attributes?.color === selectedColor;\r\n      const sizeMatch = variant.size_info?.name === selectedSize ||\r\n                       variant.attributes?.size === selectedSize;\r\n      return colorMatch && sizeMatch;\r\n    });\r\n    if (exactMatch) return exactMatch;\r\n  }\r\n\r\n  // Try to find a color match\r\n  if (selectedColor) {\r\n    const colorMatch = product.variants.find(variant => {\r\n      return variant.color_info?.hex_code === selectedColor || \r\n             variant.color_info?.name === selectedColor ||\r\n             variant.attributes?.color === selectedColor;\r\n    });\r\n    if (colorMatch) return colorMatch;\r\n  }\r\n\r\n  // Try to find a size match\r\n  if (selectedSize) {\r\n    const sizeMatch = product.variants.find(variant => {\r\n      return variant.size_info?.name === selectedSize ||\r\n             variant.attributes?.size === selectedSize;\r\n    });\r\n    if (sizeMatch) return sizeMatch;\r\n  }\r\n\r\n  // Return the first active variant as fallback\r\n  return product.variants.find(variant => variant.is_active) || product.variants[0];\r\n};\r\n\r\n/**\r\n * Calculate the total price for a product variant\r\n */\r\nexport const calculateVariantPrice = (product: Product, variant?: ProductVariant): number => {\r\n  const basePrice = parseFloat(product.base_price);\r\n  const additionalPrice = variant ? parseFloat(variant.additional_price) : 0;\r\n  return basePrice + additionalPrice;\r\n};\r\n\r\n/**\r\n * Get the display name for a variant\r\n */\r\nexport const getVariantDisplayName = (product: Product, variant?: ProductVariant): string => {\r\n  if (!variant) return product.name;\r\n\r\n  const parts = [product.name];\r\n  \r\n  if (variant.size_info?.name) {\r\n    parts.push(variant.size_info.name);\r\n  }\r\n  \r\n  if (variant.color_info?.name) {\r\n    parts.push(variant.color_info.name);\r\n  }\r\n  \r\n  if (variant.name_suffix) {\r\n    parts.push(variant.name_suffix);\r\n  }\r\n\r\n  return parts.join(' - ');\r\n};\r\n"],"names":[],"mappings":";;;;;AAKO,MAAM,sBAAsB,CACjC,SACA,eACA;IAEA,IAAI,CAAC,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,MAAM,KAAK,GAAG;QACtD,OAAO;IACT;IAEA,yDAAyD;IACzD,IAAI,iBAAiB,cAAc;QACjC,MAAM,aAAa,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAA;YACvC,MAAM,aAAa,QAAQ,UAAU,EAAE,aAAa,iBAClC,QAAQ,UAAU,EAAE,SAAS,iBAC7B,QAAQ,UAAU,EAAE,UAAU;YAChD,MAAM,YAAY,QAAQ,SAAS,EAAE,SAAS,gBAC7B,QAAQ,UAAU,EAAE,SAAS;YAC9C,OAAO,cAAc;QACvB;QACA,IAAI,YAAY,OAAO;IACzB;IAEA,4BAA4B;IAC5B,IAAI,eAAe;QACjB,MAAM,aAAa,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAA;YACvC,OAAO,QAAQ,UAAU,EAAE,aAAa,iBACjC,QAAQ,UAAU,EAAE,SAAS,iBAC7B,QAAQ,UAAU,EAAE,UAAU;QACvC;QACA,IAAI,YAAY,OAAO;IACzB;IAEA,2BAA2B;IAC3B,IAAI,cAAc;QAChB,MAAM,YAAY,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAA;YACtC,OAAO,QAAQ,SAAS,EAAE,SAAS,gBAC5B,QAAQ,UAAU,EAAE,SAAS;QACtC;QACA,IAAI,WAAW,OAAO;IACxB;IAEA,8CAA8C;IAC9C,OAAO,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAA,UAAW,QAAQ,SAAS,KAAK,QAAQ,QAAQ,CAAC,EAAE;AACnF;AAKO,MAAM,wBAAwB,CAAC,SAAkB;IACtD,MAAM,YAAY,WAAW,QAAQ,UAAU;IAC/C,MAAM,kBAAkB,UAAU,WAAW,QAAQ,gBAAgB,IAAI;IACzE,OAAO,YAAY;AACrB;AAKO,MAAM,wBAAwB,CAAC,SAAkB;IACtD,IAAI,CAAC,SAAS,OAAO,QAAQ,IAAI;IAEjC,MAAM,QAAQ;QAAC,QAAQ,IAAI;KAAC;IAE5B,IAAI,QAAQ,SAAS,EAAE,MAAM;QAC3B,MAAM,IAAI,CAAC,QAAQ,SAAS,CAAC,IAAI;IACnC;IAEA,IAAI,QAAQ,UAAU,EAAE,MAAM;QAC5B,MAAM,IAAI,CAAC,QAAQ,UAAU,CAAC,IAAI;IACpC;IAEA,IAAI,QAAQ,WAAW,EAAE;QACvB,MAAM,IAAI,CAAC,QAAQ,WAAW;IAChC;IAEA,OAAO,MAAM,IAAI,CAAC;AACpB","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/ProductCard.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"addToCartButton\": \"ProductCard-module__t53O_a__addToCartButton\",\n  \"colorOptions\": \"ProductCard-module__t53O_a__colorOptions\",\n  \"colorSwatch\": \"ProductCard-module__t53O_a__colorSwatch\",\n  \"imageContainer\": \"ProductCard-module__t53O_a__imageContainer\",\n  \"loading\": \"ProductCard-module__t53O_a__loading\",\n  \"price\": \"ProductCard-module__t53O_a__price\",\n  \"priceContainer\": \"ProductCard-module__t53O_a__priceContainer\",\n  \"productCard\": \"ProductCard-module__t53O_a__productCard\",\n  \"productImage\": \"ProductCard-module__t53O_a__productImage\",\n  \"productInfo\": \"ProductCard-module__t53O_a__productInfo\",\n  \"productName\": \"ProductCard-module__t53O_a__productName\",\n  \"quickAddButton\": \"ProductCard-module__t53O_a__quickAddButton\",\n  \"quickAddOverlay\": \"ProductCard-module__t53O_a__quickAddOverlay\",\n  \"selectBounce\": \"ProductCard-module__t53O_a__selectBounce\",\n  \"selectedColor\": \"ProductCard-module__t53O_a__selectedColor\",\n  \"selectedSize\": \"ProductCard-module__t53O_a__selectedSize\",\n  \"shimmer\": \"ProductCard-module__t53O_a__shimmer\",\n  \"sizeButton\": \"ProductCard-module__t53O_a__sizeButton\",\n  \"sizeOptions\": \"ProductCard-module__t53O_a__sizeOptions\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/components/ProductCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport Link from 'next/link';\r\nimport SafeImage from './SafeImage';\r\nimport { addToCart } from '@/store/cartSlice';\r\nimport { findMatchingVariant, calculateVariantPrice, getVariantDisplayName } from '@/utils/variantUtils';\r\nimport { useI18n } from '@/hooks/useI18n';\r\nimport styles from './ProductCard.module.css';\r\n\r\ninterface ProductCardProps {\r\n  id: number;\r\n  name: string;\r\n  slug: string;\r\n  price: string;\r\n  imageUrl: string;\r\n  secondaryImageUrl?: string; // For hover effect\r\n  color?: string;\r\n  colorName?: string;\r\n  size?: string;\r\n  sizeName?: string;\r\n  availableColors?: Array<{id?: number, code: string, name: string, image?: string}>;\r\n  availableSizes?: Array<{id?: number, code: string, name: string}>;\r\n  product?: any; // We'll use this for more advanced variant handling\r\n}\r\n\r\nconst ProductCard: React.FC<ProductCardProps> = ({\r\n  id,\r\n  name,\r\n  slug,\r\n  price,\r\n  imageUrl,\r\n  secondaryImageUrl,\r\n  color,\r\n  colorName,\r\n  size,\r\n  sizeName,\r\n  availableColors = [],\r\n  availableSizes = [],\r\n  product\r\n}) => {\r\n  const { t } = useI18n();\r\n  const dispatch = useDispatch();\r\n\r\n  const [selectedColor, setSelectedColor] = useState<string | undefined>(color);\r\n  const [selectedColorName, setSelectedColorName] = useState<string | undefined>(colorName);\r\n  const [selectedSize, setSelectedSize] = useState<string | undefined>(size);\r\n  const [selectedSizeName, setSelectedSizeName] = useState<string | undefined>(sizeName);\r\n  const [selectedVariantId, setSelectedVariantId] = useState<number | undefined>(undefined);\r\n  const [currentPrice, setCurrentPrice] = useState<number>(parseFloat(price));\r\n  const [currentImageUrl, setCurrentImageUrl] = useState(imageUrl);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [showQuickAdd, setShowQuickAdd] = useState(false);\r\n  const [isClient, setIsClient] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsClient(true);\r\n    \r\n    // Initialize with default selections if provided\r\n    if (color && colorName) {\r\n      setSelectedColor(color);\r\n      setSelectedColorName(colorName);\r\n    }\r\n    \r\n    if (size && sizeName) {\r\n      setSelectedSize(size);\r\n      setSelectedSizeName(sizeName);\r\n    }\r\n    \r\n    // Set initial variant and price\r\n    if (product) {\r\n      updateVariant(color, size);\r\n    }\r\n  }, [product]);\r\n\r\n  // Function to update variant based on current selections\r\n  const updateVariant = (newColor?: string, newSize?: string) => {\r\n    if (product) {\r\n      const matchingVariant = findMatchingVariant(product, newColor || selectedColor, newSize || selectedSize);\r\n      if (matchingVariant) {\r\n        setSelectedVariantId(matchingVariant.id);\r\n        const newPrice = calculateVariantPrice(product, matchingVariant);\r\n        setCurrentPrice(newPrice);\r\n        \r\n        // Update image if variant has a specific image\r\n        if (matchingVariant.image && matchingVariant.image !== currentImageUrl) {\r\n          setCurrentImageUrl(matchingVariant.image);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  const handleAddToCart = () => {\r\n    // Original Add to Cart functionality - commented out but preserved\r\n    /*\r\n    const cartItemName = getVariantDisplayName(product || { name, base_price: price }, \r\n      product?.variants?.find((v: any) => v.id === selectedVariantId));\r\n      \r\n    dispatch(addToCart({\r\n      id,\r\n      variantId: selectedVariantId,\r\n      name: cartItemName,\r\n      price: currentPrice,\r\n      quantity: 1,\r\n      image: currentImageUrl,\r\n      color: selectedColorName,\r\n      colorCode: selectedColor,\r\n      size: selectedSizeName\r\n    }));\r\n    */\r\n  };  // New Buy Now functionality\r\n  const handleBuyNow = () => {\r\n    // Redirect to checkout page with product information\r\n    const params = new URLSearchParams({\r\n      buyNow: 'true',\r\n      productId: id.toString(),\r\n      productName: name,\r\n      productSlug: slug || '',\r\n      image: currentImageUrl,\r\n      ...(product?.buy_now_link && { buyNowLink: product.buy_now_link }),\r\n      ...(selectedVariantId && { variantId: selectedVariantId.toString() }),\r\n      ...(selectedColor && { color: selectedColor }),\r\n      ...(selectedColorName && { colorName: selectedColorName }),\r\n      ...(selectedSize && { size: selectedSize }),\r\n      ...(selectedSizeName && { sizeName: selectedSizeName }),\r\n      price: currentPrice.toString(),\r\n      quantity: '1'\r\n    });\r\n    \r\n    window.location.href = `/checkout?${params.toString()}`;\r\n  };\r\n\r\n  const handleColorSelect = (colorCode: string, colorName: string, colorImage?: string, variantId?: number) => {\r\n    setSelectedColor(colorCode);\r\n    setSelectedColorName(colorName);\r\n    \r\n    // Update the displayed image if this color has an image\r\n    if (colorImage) {\r\n      setCurrentImageUrl(colorImage);\r\n    }\r\n    \r\n    // Update variant based on new color selection\r\n    updateVariant(colorCode, selectedSize);\r\n  };\r\n\r\n  const handleSizeSelect = (sizeCode: string, sizeName: string, variantId?: number) => {\r\n    setSelectedSize(sizeCode);\r\n    setSelectedSizeName(sizeName);\r\n    \r\n    // Update variant based on new size selection\r\n    updateVariant(selectedColor, sizeCode);\r\n  };\r\n\r\n  // Use the first available variant or the default one\r\n  const effectiveColor = selectedColor || color;\r\n  const effectiveColorName = selectedColorName || colorName;\r\n  const effectiveSize = selectedSize || size;\r\n  const effectiveSizeName = selectedSizeName || sizeName;\r\n  const handleQuickAdd = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    // Use Buy Now instead of Add to Cart\r\n    handleBuyNow();\r\n  };\r\n\r\n  const isSelectionComplete = \r\n    (availableColors.length === 0 || effectiveColor) && \r\n    (availableSizes.length === 0 || effectiveSize);\r\n\r\n  return (\r\n    <div \r\n      className={styles.productCard}\r\n      onMouseEnter={() => setIsHovered(true)}\r\n      onMouseLeave={() => {\r\n        setIsHovered(false);\r\n        setShowQuickAdd(false);\r\n      }}\r\n    >\r\n      {/* Product Image Container with Hover Effects */}\r\n      <div className={styles.imageContainer}>\r\n        <Link href={`/products/${slug}`}>\r\n          <div className={styles.imageWrapper}>\r\n            <SafeImage\r\n              src={isHovered && secondaryImageUrl ? secondaryImageUrl : currentImageUrl}\r\n              alt={name}\r\n              width={300}\r\n              height={400}\r\n              className={styles.productImage}\r\n            />\r\n            \r\n            {/* Quick Add Overlay */}\r\n            {isHovered && isSelectionComplete && (\r\n              <div className={styles.quickAddOverlay}>                <button \r\n                  className={styles.quickAddButton}\r\n                  onClick={handleQuickAdd}\r\n                >\r\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                    <path d=\"M12 5V19M5 12H19\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n                  </svg>\r\n                  {t('common.buyNow')}\r\n                </button>\r\n              </div>\r\n            )}\r\n              {/* Badge for multiple variants */}\r\n            {(availableColors.length > 1 || availableSizes.length > 1) && (\r\n              <div className={styles.variantBadge}>\r\n                {availableColors.length > 1 && t('productCard.variants.colors', { count: availableColors.length })}\r\n                {availableColors.length > 1 && availableSizes.length > 1 && ' • '}\r\n                {availableSizes.length > 1 && t('productCard.variants.sizes', { count: availableSizes.length })}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Product Info */}\r\n      <div className={styles.productInfo}>\r\n        {/* Product Name */}\r\n        <h3 className={styles.productName}>\r\n          <Link href={`/products/${slug}`}>\r\n            {name}\r\n          </Link>\r\n        </h3>\r\n          {/* Price */}\r\n        <div className={styles.priceContainer}>\r\n          <span className={styles.currentPrice}>{currentPrice.toFixed(2)} {t('product.price.currency')}</span>\r\n          {parseFloat(price) !== currentPrice && (\r\n            <span className={styles.originalPrice}>{parseFloat(price).toFixed(2)} {t('product.price.currency')}</span>\r\n          )}\r\n        </div>\r\n\r\n        {isClient && (\r\n          <>            {/* Color Selection */}\r\n            {availableColors.length > 0 && (\r\n              <div className={styles.colorSelection}>\r\n                <div className={styles.selectionHeader}>\r\n                  <span className={styles.selectionLabel}>{t('product.variants.color')}:</span>\r\n                  {effectiveColorName && (\r\n                    <span className={styles.selectedValue}>{effectiveColorName}</span>\r\n                  )}\r\n                </div>\r\n                <div className={styles.colorOptions}>\r\n                  {availableColors.map((colorOption, index) => (\r\n                    <button\r\n                      key={colorOption.id || index}\r\n                      className={`${styles.colorSwatch} ${\r\n                        colorOption.code === effectiveColor ? styles.selectedSwatch : ''\r\n                      }`}\r\n                      style={{ backgroundColor: colorOption.code }}\r\n                      title={colorOption.name}\r\n                      onClick={() => handleColorSelect(colorOption.code, colorOption.name, colorOption.image, colorOption.id)}\r\n                    >\r\n                      {colorOption.code === effectiveColor && (\r\n                        <svg className={styles.checkmark} width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\">\r\n                          <path d=\"M20 6L9 17L4 12\" stroke=\"white\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                        </svg>\r\n                      )}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}            {/* Size Selection */}\r\n            {availableSizes.length > 0 && (\r\n              <div className={styles.sizeSelection}>\r\n                <div className={styles.selectionHeader}>\r\n                  <span className={styles.selectionLabel}>{t('product.variants.size')}:</span>\r\n                  {effectiveSizeName && (\r\n                    <span className={styles.selectedValue}>{effectiveSizeName}</span>\r\n                  )}\r\n                </div>\r\n                <div className={styles.sizeOptions}>\r\n                  {availableSizes.map((sizeOption, index) => (\r\n                    <button\r\n                      key={sizeOption.id || index}\r\n                      className={`${styles.sizeButton} ${\r\n                        sizeOption.code === effectiveSize ? styles.selectedSize : ''\r\n                      }`}\r\n                      onClick={() => handleSizeSelect(sizeOption.code, sizeOption.name, sizeOption.id)}\r\n                    >\r\n                      {sizeOption.name}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}        {/* Buy Now Button - replaced Add to Cart */}\r\n        <button \r\n          className={`${styles.addToCartButton} ${\r\n            !isSelectionComplete ? styles.addToCartDisabled : ''\r\n          }`}\r\n          onClick={handleBuyNow}\r\n          disabled={!isSelectionComplete}\r\n        >\r\n          {!isSelectionComplete ? t('common.selectOptions') : t('common.buyNow')}\r\n        </button>\r\n        \r\n        {/* Original Add to Cart Button - commented out but preserved \r\n        <button \r\n          className={`${styles.addToCartButton} ${\r\n            !isSelectionComplete ? styles.addToCartDisabled : ''\r\n          }`}\r\n          onClick={handleAddToCart}\r\n          disabled={!isSelectionComplete}\r\n        >\r\n          {!isSelectionComplete ? 'Выберите варианты' : 'В корзину'}\r\n        </button>\r\n        */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/components/LoadingCircle.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"bounce1\": \"LoadingCircle-module__d_8MDa__bounce1\",\n  \"bounce2\": \"LoadingCircle-module__d_8MDa__bounce2\",\n  \"bounce3\": \"LoadingCircle-module__d_8MDa__bounce3\",\n  \"cardSkeleton\": \"LoadingCircle-module__d_8MDa__cardSkeleton\",\n  \"circleSpinner\": \"LoadingCircle-module__d_8MDa__circleSpinner\",\n  \"fullPageOverlay\": \"LoadingCircle-module__d_8MDa__fullPageOverlay\",\n  \"gray\": \"LoadingCircle-module__d_8MDa__gray\",\n  \"large\": \"LoadingCircle-module__d_8MDa__large\",\n  \"loading\": \"LoadingCircle-module__d_8MDa__loading\",\n  \"loadingContainer\": \"LoadingCircle-module__d_8MDa__loadingContainer\",\n  \"loadingText\": \"LoadingCircle-module__d_8MDa__loadingText\",\n  \"medium\": \"LoadingCircle-module__d_8MDa__medium\",\n  \"primary\": \"LoadingCircle-module__d_8MDa__primary\",\n  \"productCardSkeleton\": \"LoadingCircle-module__d_8MDa__productCardSkeleton\",\n  \"productGridLoading\": \"LoadingCircle-module__d_8MDa__productGridLoading\",\n  \"sectionLoading\": \"LoadingCircle-module__d_8MDa__sectionLoading\",\n  \"sk-bouncedelay\": \"LoadingCircle-module__d_8MDa__sk-bouncedelay\",\n  \"small\": \"LoadingCircle-module__d_8MDa__small\",\n  \"spin\": \"LoadingCircle-module__d_8MDa__spin\",\n  \"spinner\": \"LoadingCircle-module__d_8MDa__spinner\",\n  \"white\": \"LoadingCircle-module__d_8MDa__white\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/components/LoadingCircle.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from 'react';\r\nimport styles from './LoadingCircle.module.css';\r\n\r\ninterface LoadingCircleProps {\r\n  size?: 'small' | 'medium' | 'large';\r\n  color?: 'primary' | 'white' | 'gray';\r\n  text?: string;\r\n  className?: string;\r\n}\r\n\r\nconst LoadingCircle: React.FC<LoadingCircleProps> = ({\r\n  size = 'medium',\r\n  color = 'primary',\r\n  text,\r\n  className = ''\r\n}) => {\r\n  return (\r\n    <div className={`${styles.loadingContainer} ${className}`}>\r\n      <div className={`${styles.spinner} ${styles[size]} ${styles[color]}`}>\r\n        <div className={styles.bounce1}></div>\r\n        <div className={styles.bounce2}></div>\r\n        <div className={styles.bounce3}></div>\r\n      </div>\r\n      {text && <p className={styles.loadingText}>{text}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingCircle;\r\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAYA,MAAM,gBAA8C,CAAC,EACnD,OAAO,QAAQ,EACf,QAAQ,SAAS,EACjB,IAAI,EACJ,YAAY,EAAE,EACf;IACC,qBACE,8OAAC;QAAI,WAAW,GAAG,8IAAA,CAAA,UAAM,CAAC,gBAAgB,CAAC,CAAC,EAAE,WAAW;;0BACvD,8OAAC;gBAAI,WAAW,GAAG,8IAAA,CAAA,UAAM,CAAC,OAAO,CAAC,CAAC,EAAE,8IAAA,CAAA,UAAM,CAAC,KAAK,CAAC,CAAC,EAAE,8IAAA,CAAA,UAAM,CAAC,MAAM,EAAE;;kCAClE,8OAAC;wBAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,OAAO;;;;;;kCAC9B,8OAAC;wBAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,OAAO;;;;;;kCAC9B,8OAAC;wBAAI,WAAW,8IAAA,CAAA,UAAM,CAAC,OAAO;;;;;;;;;;;;YAE/B,sBAAQ,8OAAC;gBAAE,WAAW,8IAAA,CAAA,UAAM,CAAC,WAAW;0BAAG;;;;;;;;;;;;AAGlD;uCAEe","debugId":null}},
    {"offset": {"line": 895, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/utils/imageUtils.ts"],"sourcesContent":["import { Product, ProductVariant } from '../types/product';\r\n\r\n/**\r\n * Gets the primary image URL for a product or returns a placeholder\r\n */\r\nexport const getPrimaryImageUrl = (product: Product): string => {\r\n  try {\r\n    // First try to get the primary image\r\n    const primaryImage = product.images?.find(img => img.is_primary && img.image);\r\n    if (primaryImage?.image) return primaryImage.image;\r\n    \r\n    // Fallback to the first image if no primary is set\r\n    if (product.images?.length > 0 && product.images[0].image) return product.images[0].image;\r\n    \r\n    // Fallback for variant image if product has variants and the first variant has an image\r\n    if (product.variants?.length > 0 && product.variants[0].image) return product.variants[0].image;\r\n    \r\n    // If no image is found, use a placeholder\r\n    return '/placeholder-product.png'; // Generic placeholder\r\n  } catch (error) {\r\n    console.error('Error getting product image URL:', error);\r\n    return '/placeholder-product.png'; // Return placeholder on error\r\n  }\r\n};\r\n\r\n/**\r\n * Gets the image URL for a specific color variant\r\n */\r\nexport const getColorImageUrl = (product: Product, colorCode: string): string | undefined => {\r\n  try {\r\n    // Look for a variant with matching color code\r\n    const matchingVariant = product.variants?.find(variant => {\r\n      const attributes = variant.attributes || {};\r\n      return attributes.color === colorCode || \r\n             attributes.colour === colorCode || \r\n             attributes.color_code === colorCode;\r\n    });\r\n    \r\n    // If we found a matching variant with an image, return it\r\n    if (matchingVariant?.image) {\r\n      return matchingVariant.image;\r\n    }\r\n    \r\n    // Check if this variant has associated images\r\n    if (matchingVariant?.images && matchingVariant.images.length > 0) {\r\n      const primaryVariantImage = matchingVariant.images.find(img => img.is_primary);\r\n      if (primaryVariantImage?.image) return primaryVariantImage.image;\r\n      return matchingVariant.images[0].image;\r\n    }\r\n    \r\n    // If we can't find a variant-specific image, fall back to the product's primary image\r\n    return getPrimaryImageUrl(product);\r\n  } catch (error) {\r\n    console.error('Error getting color variant image URL:', error);\r\n    return undefined;\r\n  }\r\n};\r\n\r\n/**\r\n * Extract color and size information from a product variant\r\n */\r\nexport const extractVariantInfo = (variant: ProductVariant) => {\r\n  // Use the structured size_info and color_info from the backend\r\n  const sizeInfo = variant.size_info;\r\n  const colorInfo = variant.color_info;\r\n  \r\n  // Fallback to attributes for legacy support\r\n  const attributes = variant.attributes || {};\r\n  \r\n  // For color: prioritize color_info, then fallback to attributes\r\n  let color: string | undefined;\r\n  let colorName: string | undefined;\r\n  \r\n  if (colorInfo) {\r\n    color = colorInfo.hex_code || `#${colorInfo.name.toLowerCase()}`;\r\n    colorName = colorInfo.name;\r\n  } else {\r\n    // Fallback to attributes-based extraction\r\n    color = attributes.color || attributes.colour || attributes.color_code;\r\n    const isHexColor = typeof color === 'string' && \r\n      (color.startsWith('#') || /^[0-9A-F]{6}$/i.test(color));\r\n    colorName = attributes.color_name || \r\n                attributes.colour_name || \r\n                (!isHexColor && typeof color === 'string' ? color : undefined);\r\n  }\r\n  \r\n  // For size: prioritize size_info, then fallback to attributes\r\n  let size: string | undefined;\r\n  let sizeName: string | undefined;\r\n  \r\n  if (sizeInfo) {\r\n    size = sizeInfo.name;\r\n    sizeName = sizeInfo.name;\r\n  } else {\r\n    // Fallback to attributes-based extraction\r\n    size = attributes.size;\r\n    sizeName = attributes.size_name || attributes.size;\r\n  }\r\n  \r\n  return {\r\n    color,\r\n    colorName,\r\n    size,\r\n    sizeName,\r\n    image: variant.image, // Include variant image\r\n    variantId: variant.id // Include variant ID for cart operations\r\n  };\r\n};\r\n\r\n/**\r\n * Get variant info for a product, returning the first available variant with color/size\r\n */\r\nexport const getProductVariantInfo = (product: Product) => {\r\n  if (!product.variants || product.variants.length === 0) {\r\n    return {\r\n      color: undefined,\r\n      colorName: undefined,\r\n      size: undefined,\r\n      sizeName: undefined,\r\n      image: undefined,\r\n      variantId: undefined\r\n    };\r\n  }\r\n  \r\n  // Try to find a variant with color or size information\r\n  for (const variant of product.variants) {\r\n    const info = extractVariantInfo(variant);\r\n    if (info.color || info.size) {\r\n      return info;\r\n    }\r\n  }\r\n  \r\n  // Default to first variant if none have color/size\r\n  return extractVariantInfo(product.variants[0]);\r\n};\r\n\r\n/**\r\n * Extract all available colors from product variants\r\n */\r\nexport const extractAvailableColors = (product: Product) => {\r\n  if (!product.variants || product.variants.length === 0) {\r\n    return [];\r\n  }\r\n  \r\n  const colorMap = new Map(); // Use Map to ensure uniqueness\r\n  \r\n  product.variants.forEach(variant => {\r\n    const { color, colorName, image, variantId } = extractVariantInfo(variant);\r\n    \r\n    if (color && !colorMap.has(color)) {\r\n      colorMap.set(color, {\r\n        id: variantId,\r\n        code: color,\r\n        name: colorName || color,\r\n        image: image || getColorImageUrl(product, color)\r\n      });\r\n    }\r\n  });\r\n  \r\n  return Array.from(colorMap.values());\r\n};\r\n\r\n/**\r\n * Extract all available sizes from product variants\r\n */\r\nexport const extractAvailableSizes = (product: Product) => {\r\n  if (!product.variants || product.variants.length === 0) {\r\n    return [];\r\n  }\r\n  \r\n  const sizeMap = new Map(); // Use Map to ensure uniqueness\r\n  \r\n  product.variants.forEach(variant => {\r\n    const { size, sizeName, variantId } = extractVariantInfo(variant);\r\n    \r\n    if (size && !sizeMap.has(size)) {\r\n      sizeMap.set(size, {\r\n        id: variantId,\r\n        code: size,\r\n        name: sizeName || size\r\n      });\r\n    }\r\n  });\r\n  \r\n  return Array.from(sizeMap.values());\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1043, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/components/ProductGrid.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport ProductCard from './ProductCard';\r\nimport { Product } from '../types/product';\r\nimport LoadingCircle from './LoadingCircle';\r\nimport { useI18n } from '@/hooks/useI18n';\r\nimport { \r\n  getPrimaryImageUrl, \r\n  getProductVariantInfo, \r\n  extractAvailableColors, \r\n  extractAvailableSizes \r\n} from '../utils/imageUtils';\r\n\r\ninterface ProductGridProps {\r\n  products: Product[];\r\n  styles?: any; // Make styles optional\r\n  isLoading?: boolean;\r\n}\r\n\r\nconst ProductGrid: React.FC<ProductGridProps> = ({ \r\n  products, \r\n  styles = {},  // Default empty object for styles\r\n  isLoading = false\r\n}) => {\r\n  const { t } = useI18n();\r\n  const [isImageLoading, setIsImageLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (products && products.length > 0) {\r\n      // Simulate image loading delay\r\n      const timer = setTimeout(() => {\r\n        setIsImageLoading(false);\r\n      }, 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [products]);\r\n  if (isLoading || isImageLoading) {\r\n    return (\r\n      <div className={styles.sectionLoading || 'sectionLoading'}>\r\n        <LoadingCircle \r\n          size=\"medium\" \r\n          color=\"primary\" \r\n          text={t('home.loading.products')} \r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!products || products.length === 0) {\r\n    return <p>{t('home.noProducts')}</p>;\r\n  }\r\n\r\n  return (\r\n    <div className={styles.productGrid || ''}>\r\n      {products.map(product => {\r\n        const { color, colorName, size, sizeName } = getProductVariantInfo(product);\r\n        const availableColors = extractAvailableColors(product);\r\n        const availableSizes = extractAvailableSizes(product);\r\n          return (\r\n          <ProductCard\r\n            key={product.id}\r\n            id={product.id}\r\n            name={product.name}\r\n            slug={product.slug}\r\n            price={product.base_price}\r\n            imageUrl={getPrimaryImageUrl(product)}\r\n            color={color}\r\n            colorName={colorName}\r\n            size={size}\r\n            sizeName={sizeName}\r\n            availableColors={availableColors}\r\n            availableSizes={availableSizes}\r\n            product={product}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductGrid;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AACA;AAPA;;;;;;;AAoBA,MAAM,cAA0C,CAAC,EAC/C,QAAQ,EACR,SAAS,CAAC,CAAC,EACX,YAAY,KAAK,EAClB;IACC,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IACpB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,YAAY,SAAS,MAAM,GAAG,GAAG;YACnC,+BAA+B;YAC/B,MAAM,QAAQ,WAAW;gBACvB,kBAAkB;YACpB,GAAG;YACH,OAAO,IAAM,aAAa;QAC5B;IACF,GAAG;QAAC;KAAS;IACb,IAAI,aAAa,gBAAgB;QAC/B,qBACE,8OAAC;YAAI,WAAW,OAAO,cAAc,IAAI;sBACvC,cAAA,8OAAC,mIAAA,CAAA,UAAa;gBACZ,MAAK;gBACL,OAAM;gBACN,MAAM,EAAE;;;;;;;;;;;IAIhB;IAEA,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;QACtC,qBAAO,8OAAC;sBAAG,EAAE;;;;;;IACf;IAEA,qBACE,8OAAC;QAAI,WAAW,OAAO,WAAW,IAAI;kBACnC,SAAS,GAAG,CAAC,CAAA;YACZ,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,0HAAA,CAAA,wBAAqB,AAAD,EAAE;YACnE,MAAM,kBAAkB,CAAA,GAAA,0HAAA,CAAA,yBAAsB,AAAD,EAAE;YAC/C,MAAM,iBAAiB,CAAA,GAAA,0HAAA,CAAA,wBAAqB,AAAD,EAAE;YAC3C,qBACA,8OAAC,iIAAA,CAAA,UAAW;gBAEV,IAAI,QAAQ,EAAE;gBACd,MAAM,QAAQ,IAAI;gBAClB,MAAM,QAAQ,IAAI;gBAClB,OAAO,QAAQ,UAAU;gBACzB,UAAU,CAAA,GAAA,0HAAA,CAAA,qBAAkB,AAAD,EAAE;gBAC7B,OAAO;gBACP,WAAW;gBACX,MAAM;gBACN,UAAU;gBACV,iBAAiB;gBACjB,gBAAgB;gBAChB,SAAS;eAZJ,QAAQ,EAAE;;;;;QAerB;;;;;;AAGN;uCAEe","debugId":null}},
    {"offset": {"line": 1138, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alien/Downloads/Malikli-son%20-%20Preview/frontend/src/components/HomePageClient.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport styles from '../app/home.module.css';\r\nimport Link from 'next/link';\r\nimport { getProducts, getCategories, categoryToSliderItem } from '../services/productService';\r\nimport { Product, GroupedProducts } from '../types/product';\r\nimport ImageSlider from '../components/ImageSlider';\r\nimport ProductGrid from '../components/ProductGrid';\r\nimport LoadingCircle from '../components/LoadingCircle';\r\nimport { useI18n } from '../hooks/useI18n';\r\n\r\nconst HomePageClient = () => {\r\n  const { t } = useI18n();\r\n  \r\n  // Fallback slider items in case we don't get any categories with images\r\n  const fallbackSliderItems = [\r\n    { id: 1, type: 'image' as const, src: '/placeholder-slider-1.jpg', alt: t('home.slider.promo1Alt'), slug: 'promo-1', title: t('home.slider.promo1Title'), description: t('home.slider.promo1Description') },\r\n    { id: 2, type: 'image' as const, src: '/placeholder-slider-2.jpg', alt: t('home.slider.promo2Alt'), slug: 'promo-2', title: t('home.slider.promo2Title'), description: t('home.slider.promo2Description') },\r\n    { id: 3, type: 'image' as const, src: '/placeholder-slider-3.jpg', alt: t('home.slider.newCollectionAlt'), slug: 'new-collection', title: t('home.slider.newCollectionTitle'), description: t('home.slider.newCollectionDescription') },\r\n  ];\r\n  \r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [sliderItems, setSliderItems] = useState<any[]>([]);\r\n  const [isLoadingSlider, setIsLoadingSlider] = useState(true);\r\n  const [isLoadingProducts, setIsLoadingProducts] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        // Load slider data first\r\n        setIsLoadingSlider(true);\r\n        const categories = await getCategories(true);\r\n        \r\n        // Create slider items from categories with images\r\n        let items = categories\r\n          .filter(category => category.image)\r\n          .map((category, index) => categoryToSliderItem(category, index));\r\n        \r\n        // If no categories with images were found, use fallback images\r\n        if (items.length === 0) {\r\n          items = fallbackSliderItems;\r\n        }\r\n        \r\n        setSliderItems(items);\r\n        setIsLoadingSlider(false);\r\n\r\n        // Load products\r\n        setIsLoadingProducts(true);\r\n        const productsData = await getProducts();\r\n        setProducts(productsData);\r\n        setIsLoadingProducts(false);      } catch (err) {\r\n        console.error('Error loading homepage data:', err);\r\n        setError(t('common.error'));\r\n        setIsLoadingSlider(false);\r\n        setIsLoadingProducts(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  const groupedProducts = products.reduce<GroupedProducts>((acc, product) => {\r\n    const categoryName = product.category_name || 'Uncategorized';\r\n    if (!acc[categoryName]) {\r\n      acc[categoryName] = [];\r\n    }\r\n    acc[categoryName].push(product);\r\n    return acc;\r\n  }, {});\r\n  if (error) {\r\n    return (\r\n      <div className={styles[\"page-container\"]}>\r\n        <div className=\"text-center py-20\">\r\n          <h1 className=\"text-3xl font-bold mb-6 text-red-600\">\r\n            {t('home.error.title')}\r\n          </h1>\r\n          <p className=\"text-xl text-gray-600 mb-8\">\r\n            {error}\r\n          </p>\r\n          <button \r\n            onClick={() => window.location.reload()} \r\n            className=\"btn-primary text-lg py-3 px-8\"\r\n          >\r\n            {t('home.error.button')}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles[\"page-container\"]}>\r\n      {/* Featured categories slider at the top */}\r\n      <div className={styles.sliderContainer}>        {isLoadingSlider ? (\r\n          <div className={styles.sliderLoading}>\r\n            <LoadingCircle \r\n              size=\"large\" \r\n              color=\"white\" \r\n              text={t('home.loading.slider')} \r\n              className={styles.sliderLoadingContent}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <ImageSlider items={sliderItems} />\r\n        )}\r\n      </div>\r\n      \r\n      {/* Product categories below the slider */}\r\n      <div className={styles.productsContainer}>        {isLoadingProducts ? (\r\n          <div className={styles.productsLoading}>\r\n            <LoadingCircle \r\n              size=\"large\" \r\n              color=\"primary\" \r\n              text={t('home.loading.products')} \r\n            />\r\n            \r\n            {/* Loading skeleton for products */}\r\n            <div className={styles.productGridLoading}>\r\n              {[...Array(8)].map((_, index) => (\r\n                <div key={index} className={styles.productCardSkeleton}></div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (          <>\r\n            {Object.entries(groupedProducts).map(([categoryName, productsInCategory]) => (\r\n              <section key={categoryName} className={styles[\"collection-section\"]}>\r\n                <h2 className={styles[\"collection-title\"]}>{categoryName}</h2>\r\n                <ProductGrid \r\n                  products={productsInCategory} \r\n                  styles={styles} \r\n                />\r\n              </section>\r\n            ))}{products.length === 0 && (\r\n              <div className=\"text-center py-20\">\r\n                <h1 className=\"text-3xl font-bold mb-6 text-brand-navy\">\r\n                  {t('home.welcome.title')}<span className=\"text-brand-malikli-blue\">1992</span>!\r\n                </h1>\r\n                <p className=\"text-xl text-brand-charcoal mb-8\">\r\n                  {t('home.welcome.subtitle')}\r\n                </p>\r\n                <Link href=\"/drops\">\r\n                  <button className=\"btn-primary text-lg py-3 px-8\">\r\n                    {t('home.welcome.viewDrops')}\r\n                  </button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePageClient;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}