(()=>{var e={};e.id=124,e.ids=[124],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},17540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(60687),a=r(43210),i=r(54864),n=r(16189),d=r(2381),l=r(30913),o=r.n(l);let c="http://localhost:8000/api/v1";function _(){let{t:e}=(0,d.useI18n)(),t=(0,n.useRouter)(),r=(0,n.useParams)(),{isAuthenticated:l,user:_,isInitialized:u}=(0,i.d4)(e=>e.auth),[m,p]=(0,a.useState)(null),[h,x]=(0,a.useState)(!0),[f,D]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1);r?.id;let O=async e=>{if(m&&!g){j(!0);try{let t=localStorage.getItem("access_token");if(!t)return void D("No access token found");let r=await fetch(`${c}/admin/orders/${m.order_id}/update_status/`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({order_status:e})});if(!r.ok)throw Error("Failed to update order status");let s=await r.json();p(s)}catch(e){console.error("Error updating order status:",e),D("Failed to update order status")}finally{j(!1)}}},v=async e=>{if(m&&!g){j(!0);try{let t=localStorage.getItem("access_token");if(!t)return void D("No access token found");let r=await fetch(`${c}/admin/orders/${m.order_id}/update_payment_status/`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({payment_status:e})});if(!r.ok)throw Error("Failed to update payment status");let s=await r.json();p(s)}catch(e){console.error("Error updating payment status:",e),D("Failed to update payment status")}finally{j(!1)}}};return!u||h?(0,s.jsxs)("div",{className:o().loadingContainer,children:[(0,s.jsx)("div",{className:o().spinner}),(0,s.jsx)("p",{children:"Loading order details..."})]}):l&&_?.is_staff?f?(0,s.jsxs)("div",{className:o().errorContainer,children:[(0,s.jsx)("h2",{children:"Error"}),(0,s.jsx)("p",{children:f}),(0,s.jsx)("button",{className:o().backButton,onClick:()=>t.push("/admin/orders"),children:"Back to Orders"})]}):m?(0,s.jsx)("div",{className:o().adminOrderDetailsPage,children:(0,s.jsxs)("div",{className:o().container,children:[(0,s.jsxs)("div",{className:o().header,children:[(0,s.jsx)("button",{className:o().backButton,onClick:()=>t.push("/admin/orders"),children:"â† Back to Orders"}),(0,s.jsxs)("h1",{children:["Order Details - #",m.order_number]})]}),(0,s.jsxs)("div",{className:o().orderInfo,children:[(0,s.jsxs)("div",{className:o().infoCard,children:[(0,s.jsx)("h3",{children:"Order Information"}),(0,s.jsxs)("div",{className:o().infoGrid,children:[(0,s.jsxs)("div",{className:o().infoItem,children:[(0,s.jsx)("label",{children:"Order ID:"}),(0,s.jsx)("span",{children:m.order_id})]}),(0,s.jsxs)("div",{className:o().infoItem,children:[(0,s.jsx)("label",{children:"Order Number:"}),(0,s.jsx)("span",{children:m.order_number})]}),(0,s.jsxs)("div",{className:o().infoItem,children:[(0,s.jsx)("label",{children:"Customer:"}),(0,s.jsx)("span",{children:m.user_email})]}),(0,s.jsxs)("div",{className:o().infoItem,children:[(0,s.jsx)("label",{children:"Created:"}),(0,s.jsx)("span",{children:new Date(m.created_at).toLocaleString()})]}),(0,s.jsxs)("div",{className:o().infoItem,children:[(0,s.jsx)("label",{children:"Updated:"}),(0,s.jsx)("span",{children:new Date(m.updated_at).toLocaleString()})]})]})]}),(0,s.jsxs)("div",{className:o().statusCard,children:[(0,s.jsx)("h3",{children:"Status Management"}),(0,s.jsxs)("div",{className:o().statusSection,children:[(0,s.jsxs)("div",{className:o().currentStatus,children:[(0,s.jsx)("label",{children:"Order Status:"}),(0,s.jsx)("span",{className:`${o().statusBadge} ${o()[m.order_status||"pending_payment"]}`,children:(m.order_status||"pending_payment").toUpperCase().replace("_"," ")})]}),(0,s.jsxs)("div",{className:o().statusButtons,children:[(0,s.jsx)("button",{onClick:()=>O("pending_payment"),disabled:g||"pending_payment"===m.order_status,className:`${o().statusButton} ${o().pendingButton}`,children:"Pending Payment"}),(0,s.jsx)("button",{onClick:()=>O("processing"),disabled:g||"processing"===m.order_status,className:`${o().statusButton} ${o().processingButton}`,children:"Processing"}),(0,s.jsx)("button",{onClick:()=>O("shipped"),disabled:g||"shipped"===m.order_status,className:`${o().statusButton} ${o().shippedButton}`,children:"Shipped"}),(0,s.jsx)("button",{onClick:()=>O("delivered"),disabled:g||"delivered"===m.order_status,className:`${o().statusButton} ${o().deliveredButton}`,children:"Delivered"}),(0,s.jsx)("button",{onClick:()=>O("cancelled"),disabled:g||"cancelled"===m.order_status,className:`${o().statusButton} ${o().cancelledButton}`,children:"Cancelled"})]})]}),(0,s.jsxs)("div",{className:o().statusSection,children:[(0,s.jsxs)("div",{className:o().currentStatus,children:[(0,s.jsx)("label",{children:"Payment Status:"}),(0,s.jsx)("span",{className:`${o().statusBadge} ${o()[`payment_${m.payment_status||"pending"}`]}`,children:(m.payment_status||"pending").toUpperCase()})]}),(0,s.jsxs)("div",{className:o().statusButtons,children:[(0,s.jsx)("button",{onClick:()=>v("pending"),disabled:g||"pending"===m.payment_status,className:`${o().statusButton} ${o().pendingButton}`,children:"Pending"}),(0,s.jsx)("button",{onClick:()=>v("paid"),disabled:g||"paid"===m.payment_status,className:`${o().statusButton} ${o().paidButton}`,children:"Paid"}),(0,s.jsx)("button",{onClick:()=>v("failed"),disabled:g||"failed"===m.payment_status,className:`${o().statusButton} ${o().failedButton}`,children:"Failed"}),(0,s.jsx)("button",{onClick:()=>v("refunded"),disabled:g||"refunded"===m.payment_status,className:`${o().statusButton} ${o().refundedButton}`,children:"Refunded"})]})]})]}),(0,s.jsxs)("div",{className:o().amountCard,children:[(0,s.jsx)("h3",{children:"Order Amounts"}),(0,s.jsxs)("div",{className:o().amountGrid,children:[(0,s.jsxs)("div",{className:o().amountItem,children:[(0,s.jsx)("label",{children:"Subtotal:"}),(0,s.jsxs)("span",{children:["$",m.subtotal_amount]})]}),(0,s.jsxs)("div",{className:o().amountItem,children:[(0,s.jsx)("label",{children:"Shipping:"}),(0,s.jsxs)("span",{children:["$",m.shipping_cost||"0.00"]})]}),(0,s.jsxs)("div",{className:o().amountItem,children:[(0,s.jsx)("label",{children:"Total:"}),(0,s.jsxs)("span",{className:o().totalAmount,children:["$",m.total_amount]})]})]})]})]}),m.customer_notes&&(0,s.jsxs)("div",{className:o().notesCard,children:[(0,s.jsx)("h3",{children:"Customer Notes"}),(0,s.jsx)("p",{children:m.customer_notes})]}),m.tracking_number&&(0,s.jsxs)("div",{className:o().trackingCard,children:[(0,s.jsx)("h3",{children:"Tracking Information"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Tracking Number:"})," ",m.tracking_number]})]})]})}):(0,s.jsxs)("div",{className:o().errorContainer,children:[(0,s.jsx)("h2",{children:"Order Not Found"}),(0,s.jsx)("p",{children:"The requested order could not be found."}),(0,s.jsx)("button",{className:o().backButton,onClick:()=>t.push("/admin/orders"),children:"Back to Orders"})]}):null}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30913:e=>{e.exports={adminOrderDetailsPage:"adminOrderDetails_adminOrderDetailsPage__O__zK",container:"adminOrderDetails_container__Nzvrl",header:"adminOrderDetails_header__cHNlF",backButton:"adminOrderDetails_backButton__ziYSW",loadingContainer:"adminOrderDetails_loadingContainer__f48zS",errorContainer:"adminOrderDetails_errorContainer__xvoqn",spinner:"adminOrderDetails_spinner__neYqF",spin:"adminOrderDetails_spin__GDfto",orderInfo:"adminOrderDetails_orderInfo__pm3Cm",infoCard:"adminOrderDetails_infoCard__AFG6P",statusCard:"adminOrderDetails_statusCard__M1Ng5",amountCard:"adminOrderDetails_amountCard__NymCn",infoGrid:"adminOrderDetails_infoGrid__lzb19",amountGrid:"adminOrderDetails_amountGrid__9N6tA",infoItem:"adminOrderDetails_infoItem__QpsR9",amountItem:"adminOrderDetails_amountItem__rjJR3",totalAmount:"adminOrderDetails_totalAmount__uJ13e",statusSection:"adminOrderDetails_statusSection__mz_gS",currentStatus:"adminOrderDetails_currentStatus__7xEh8",statusBadge:"adminOrderDetails_statusBadge__z2_2w",pending_payment:"adminOrderDetails_pending_payment__6yQo6",pending:"adminOrderDetails_pending__aI1FL",payment_pending:"adminOrderDetails_payment_pending__3H1Qs",paid:"adminOrderDetails_paid__TuUv_",payment_paid:"adminOrderDetails_payment_paid__4oWxV",failed:"adminOrderDetails_failed__AtDJ6",payment_failed:"adminOrderDetails_payment_failed__nNmr4",refunded:"adminOrderDetails_refunded__1HpRW",payment_refunded:"adminOrderDetails_payment_refunded__IMpv8",processing:"adminOrderDetails_processing__pqBk3",shipped:"adminOrderDetails_shipped__Qjeaz",delivered:"adminOrderDetails_delivered__d7wV7",cancelled:"adminOrderDetails_cancelled__6bPyY",statusButtons:"adminOrderDetails_statusButtons__TVc5w",statusButton:"adminOrderDetails_statusButton__d6tIB",pendingButton:"adminOrderDetails_pendingButton___RxT0",processingButton:"adminOrderDetails_processingButton__NE6QN",shippedButton:"adminOrderDetails_shippedButton__6YHp0",deliveredButton:"adminOrderDetails_deliveredButton__huAb_",cancelledButton:"adminOrderDetails_cancelledButton__HHroi",paidButton:"adminOrderDetails_paidButton__zoAmG",failedButton:"adminOrderDetails_failedButton__5n223",refundedButton:"adminOrderDetails_refundedButton__wa3Dw",notesCard:"adminOrderDetails_notesCard__8_pa5",trackingCard:"adminOrderDetails_trackingCard__LH1RM",orderGrid:"adminOrderDetails_orderGrid__kUb_m",orderCard:"adminOrderDetails_orderCard__GXio9",orderCardTitle:"adminOrderDetails_orderCardTitle__dIGoE",infoRow:"adminOrderDetails_infoRow__4wN1L",infoLabel:"adminOrderDetails_infoLabel__rhaAp",infoValue:"adminOrderDetails_infoValue__SRDJg",statusManagement:"adminOrderDetails_statusManagement__KL8n9",statusGroup:"adminOrderDetails_statusGroup__iuN2d",statusSelect:"adminOrderDetails_statusSelect__UNIu5",updateButton:"adminOrderDetails_updateButton__7VUR1",itemsSection:"adminOrderDetails_itemsSection__4QQt0",itemsTitle:"adminOrderDetails_itemsTitle__BQwMf",itemsList:"adminOrderDetails_itemsList__yL034",itemCard:"adminOrderDetails_itemCard__Y4NhN",itemImage:"adminOrderDetails_itemImage__27iDu",itemDetails:"adminOrderDetails_itemDetails__g_0Fp",itemName:"adminOrderDetails_itemName___jJNw",itemMeta:"adminOrderDetails_itemMeta__D4jZN",itemPrice:"adminOrderDetails_itemPrice__e3f7G",addressSection:"adminOrderDetails_addressSection__C4D7T",addressGrid:"adminOrderDetails_addressGrid__Qnc_7",addressCard:"adminOrderDetails_addressCard__OiDmP",addressTitle:"adminOrderDetails_addressTitle__8_qF3",addressDetails:"adminOrderDetails_addressDetails__pxcBF",successMessage:"adminOrderDetails_successMessage__eP81m",errorMessage:"adminOrderDetails_errorMessage__lPsRF"}},32572:()=>{},33873:e=>{"use strict";e.exports=require("path")},38622:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\alien\\\\Downloads\\\\Malikli-son - Preview\\\\frontend\\\\src\\\\app\\\\admin\\\\orders\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\orders\\[id]\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57121:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>_,pages:()=>c,routeModule:()=>u,tree:()=>o});var s=r(65239),a=r(48088),i=r(88170),n=r.n(i),d=r(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);r.d(t,l);let o={children:["",{children:["admin",{children:["orders",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,38622)),"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\orders\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,99111)),"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\admin\\orders\\[id]\\page.tsx"],_={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/orders/[id]/page",pathname:"/admin/orders/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68963:(e,t,r)=>{Promise.resolve().then(r.bind(r,17540))},70221:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_333572",variable:"__variable_333572"}},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"256x256",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},90716:()=>{},92939:(e,t,r)=>{Promise.resolve().then(r.bind(r,38622))},94735:e=>{"use strict";e.exports=require("events")},99111:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>n});var s=r(37413),a=r(70221),i=r.n(a);r(61135);let n={title:"Admin - Malikli1992",description:"Admin panel for Malikli1992"};function d({children:e}){return(0,s.jsx)("div",{className:i().variable,children:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:e})})})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,966,658,325],()=>r(57121));module.exports=s})();