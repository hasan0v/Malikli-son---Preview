(()=>{var e={};e.id=221,e.ids=[221],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5197:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(60687),i=r(43210),o=r(30474),n=r(85814),s=r.n(n),l=r(16189),c=r(54864);r(16322);var d=r(41970),u=r(2381),_=r(58219),p=r.n(_);function m(){let{t:e}=(0,u.useI18n)(),t=(0,l.useParams)();t?.slug;let r=(0,l.useRouter)();(0,c.wA)(),(0,c.d4)(e=>!!e.auth.user);let[n,_]=(0,i.useState)(null),[m,x]=(0,i.useState)(!0),[g,v]=(0,i.useState)(null),[h,f]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[j,k]=(0,i.useState)(1),[N,D]=(0,i.useState)(null),[C,w]=(0,i.useState)(null),[S,I]=(0,i.useState)({x:0,y:0}),[L,P]=(0,i.useState)(!0),[T,$]=(0,i.useState)(!1),q=e=>{P(!0),f(e)},M=async()=>{if(n){$(!0);try{let e=b?parseFloat(n.base_price)+parseFloat(b.additional_price):parseFloat(n.base_price),t=new URLSearchParams({buyNow:"true",productId:n.id.toString(),productName:n.name,productSlug:n.slug,price:e.toString(),quantity:j.toString(),...b?.id&&{variantId:b.id.toString()},...h&&{image:h},...b?.color_info&&{color:b.color_info.name,colorCode:b.color_info.hex_code},...b?.size_info&&{size:b.size_info.name},...n.buy_now_link&&{buyNowLink:n.buy_now_link}});console.log("=== BUY NOW DEBUG - PRODUCT PAGE ==="),console.log("product.buy_now_link:",n.buy_now_link),console.log("buyNowLink in params:",n.buy_now_link?"YES":"NO"),console.log("Final URL params:",t.toString()),window.location.href=`/checkout?${t.toString()}`}catch(e){console.error("Error processing Buy Now:",e)}finally{$(!1)}}},O=[85,92,78,88,80];if(m)return(0,a.jsxs)("div",{className:p().loadingContainer,children:[(0,a.jsx)(d.A,{size:"large",color:"primary",text:e("product.loading.text")}),(0,a.jsx)("div",{className:p().skeletonFallback,children:(0,a.jsxs)("div",{className:p().productContainer,children:[(0,a.jsxs)("div",{className:p().galleryContainer,children:[(0,a.jsx)("div",{className:`${p().skeletonMainImage} ${p().skeleton}`}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:`${p().skeletonThumbnail} ${p().skeleton}`},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:`${p().skeletonTitle} ${p().skeleton}`}),(0,a.jsx)("div",{className:`${p().skeletonPrice} ${p().skeleton}`}),[1,2,3,4,5].map(e=>(0,a.jsx)("div",{className:`${p().skeletonText} ${p().skeleton}`,style:{width:`${O[e-1]}%`}},e)),(0,a.jsx)("div",{className:`${p().skeletonButton} ${p().skeleton}`})]})]})})]});if(g)return(0,a.jsxs)("div",{className:p().errorContainer,children:[(0,a.jsx)("h1",{className:p().errorTitle,children:e("product.error.somethingWrong")}),(0,a.jsx)("p",{className:p().errorMessage,children:g}),(0,a.jsx)("button",{className:p().errorButton,onClick:()=>r.push("/"),children:e("product.error.backToHome")})]});if(!n)return(0,a.jsxs)("div",{className:p().errorContainer,children:[(0,a.jsx)("h1",{className:p().errorTitle,children:e("product.error.notFound")}),(0,a.jsx)("p",{className:p().errorMessage,children:e("product.error.notFoundMessage")}),(0,a.jsx)("button",{className:p().errorButton,onClick:()=>r.push("/"),children:e("product.error.backToHome")})]});let z=b?(parseFloat(n.base_price)+parseFloat(b.additional_price)).toFixed(2):n.base_price,E=p().inStock,F=p().inStockText;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:p().productContainer,children:[(0,a.jsxs)("div",{className:p().galleryContainer,children:[(0,a.jsxs)("div",{className:p().mainImageContainer,onMouseMove:e=>{let{left:t,top:r,width:a,height:i}=e.currentTarget.getBoundingClientRect();I({x:(e.clientX-t)/a*100,y:(e.clientY-r)/i*100})},children:[L&&(0,a.jsx)("div",{className:p().imageLoadingOverlay,children:(0,a.jsx)(d.A,{size:"medium",color:"primary"})}),(0,a.jsx)(o.default,{src:h||n.images[0]?.image||"/placeholder-product.jpg",alt:n.name,fill:!0,className:p().mainImage,style:{transformOrigin:`${S.x}% ${S.y}%`,opacity:L?.3:1},onLoad:()=>P(!1),onError:()=>P(!1)}),(0,a.jsx)("div",{className:p().zoomOverlay})]}),(0,a.jsx)("div",{className:p().thumbnailsContainer,children:n.images.map(e=>(0,a.jsx)("div",{className:`${p().thumbnailWrapper} ${h===e.image?p().active:""}`,onClick:()=>q(e.image),children:(0,a.jsx)(o.default,{src:e.image,alt:e.alt_text||n.name,width:80,height:80,className:p().thumbnail})},e.id))})]}),(0,a.jsxs)("div",{className:p().productInfo,children:["          ",(0,a.jsxs)("div",{className:p().breadcrumbs,children:[(0,a.jsx)(s(),{href:"/",className:p().breadcrumbItem,children:e("product.breadcrumbs.home")}),(0,a.jsx)("span",{className:p().breadcrumbSeparator,children:"/"}),n.category_name&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{href:`/categories/${n.slug}`,className:p().breadcrumbItem,children:n.category_name}),(0,a.jsx)("span",{className:p().breadcrumbSeparator,children:"/"})]}),(0,a.jsx)("span",{className:p().breadcrumbItem,children:n.name})]}),(0,a.jsx)("h1",{className:p().productName,children:n.name}),"          ",(0,a.jsx)("div",{className:p().priceContainer,children:(0,a.jsxs)("span",{className:p().price,children:[z," ",e("product.price.currency")]})}),(0,a.jsxs)("div",{className:p().availabilitySection,children:[(0,a.jsx)("div",{className:`${p().availabilityDot} ${E}`}),"            ",(0,a.jsx)("span",{className:`${p().availabilityText} ${F}`,children:e("product.availability.inStock")})]}),(0,a.jsxs)("div",{className:p().description,children:["            ",n.description||e("product.description.noDescription")]}),(0,a.jsx)("div",{className:p().divider}),(()=>{if(!n||!n.variants)return null;let t=new Map;n.variants.forEach(e=>{e.size_info&&t.set(e.size_info.id,e.size_info)});let r=Array.from(t.values());return 0===r.length?null:(0,a.jsxs)("div",{className:p().variantSection,children:[(0,a.jsx)("div",{className:p().variantTitle,children:e("product.variants.size")}),(0,a.jsx)("div",{className:p().variantOptions,children:r.sort((e,t)=>e.display_order-t.display_order).map(e=>(0,a.jsx)("div",{className:`${p().sizeOption} ${N===e.id?p().selected:""}`,onClick:()=>D(e.id),children:e.name},e.id))})]})})(),(()=>{if(!n||!n.variants)return null;let t=new Map;n.variants.forEach(e=>{e.color_info&&t.set(e.color_info.id,e.color_info)});let r=Array.from(t.values());return 0===r.length?null:(0,a.jsxs)("div",{className:p().variantSection,children:[(0,a.jsx)("div",{className:p().variantTitle,children:e("product.variants.color")}),(0,a.jsx)("div",{className:p().variantOptions,children:r.sort((e,t)=>e.display_order-t.display_order).map(e=>(0,a.jsx)("div",{className:`${p().colorOption} ${C===e.id?p().selected:""}`,style:{backgroundColor:e.hex_code||"#000000"},onClick:()=>w(e.id),title:e.name},e.id))})]})})(),b?(0,a.jsxs)("div",{className:p().selectedVariantInfo,children:["        ",b.size_info&&(0,a.jsxs)("div",{className:p().variantInfoItem,children:[(0,a.jsx)("span",{className:p().variantInfoLabel,children:e("product.variants.selectedInfo.size")}),(0,a.jsx)("span",{className:p().variantInfoValue,children:b.size_info.name})]}),b.color_info&&(0,a.jsxs)("div",{className:p().variantInfoItem,children:[(0,a.jsx)("span",{className:p().variantInfoLabel,children:e("product.variants.selectedInfo.color")}),(0,a.jsxs)("span",{className:p().variantInfoValue,children:[b.color_info.hex_code&&(0,a.jsx)("span",{className:p().colorPreview,style:{backgroundColor:b.color_info.hex_code}}),b.color_info.name]})]}),b.name_suffix&&(0,a.jsxs)("div",{className:p().variantInfoItem,children:[(0,a.jsx)("span",{className:p().variantInfoLabel,children:e("product.variants.selectedInfo.variant")}),(0,a.jsx)("span",{className:p().variantInfoValue,children:b.name_suffix})]})]}):null,"          ",(0,a.jsxs)("div",{className:p().ctaSection,children:[(0,a.jsxs)("button",{className:`${p().addToCartButton} ${T?p().loading:""}`,onClick:M,disabled:T,children:["              ",T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{size:"small",color:"white"}),(0,a.jsx)("span",{children:e("product.buttons.processing")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M3 3h2l.4 2m0 0L7 13h10l4-8H5.4z"}),(0,a.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,a.jsx)("circle",{cx:"20",cy:"21",r:"1"})]}),e("product.buttons.buyNow")]})]}),"          "]})]})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16322:(e,t,r)=>{"use strict";r.d(t,{M$:()=>n,bW:()=>s,d$:()=>o,ow:()=>i});var a=r(64298);let i=(e,t)=>{let r=e.image||"/placeholder-slider.jpg";return{id:e.id||t+1,type:"image",src:r,alt:e.name||`Category ${t+1}`,slug:e.slug,title:e.name,description:e.description||"Explore our collection"}};async function o(){try{return(await a.A.get("/products/")).data.results||[]}catch(e){return console.error("Error fetching products:",e),[]}}async function n(e){try{return(await a.A.get(`/products/${e}/`)).data}catch(t){if(t.response?.status===404)return null;return console.error(`Error fetching product with slug ${e}:`,t),null}}async function s(e){try{let t="/categories/";return e&&(t+="?is_featured=true"),(await a.A.get(t)).data.results||[]}catch(e){return console.error("Error fetching categories:",e),[]}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29907:(e,t,r)=>{Promise.resolve().then(r.bind(r,5197))},33873:e=>{"use strict";e.exports=require("path")},41970:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(60687);r(43210);var i=r(50375),o=r.n(i);let n=({size:e="medium",color:t="primary",text:r,className:i=""})=>(0,a.jsxs)("div",{className:`${o().loadingContainer} ${i}`,children:[(0,a.jsxs)("div",{className:`${o().spinner} ${o()[e]} ${o()[t]}`,children:[(0,a.jsx)("div",{className:o().bounce1}),(0,a.jsx)("div",{className:o().bounce2}),(0,a.jsx)("div",{className:o().bounce3})]}),r&&(0,a.jsx)("p",{className:o().loadingText,children:r})]})},45471:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\alien\\\\Downloads\\\\Malikli-son - Preview\\\\frontend\\\\src\\\\app\\\\products\\\\[slug]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\products\\[slug]\\page.tsx","default")},50375:e=>{e.exports={loadingContainer:"LoadingCircle_loadingContainer__4xet2",spinner:"LoadingCircle_spinner__dFWsr","sk-bouncedelay":"LoadingCircle_sk-bouncedelay__pRt6I",small:"LoadingCircle_small__1YWT6",medium:"LoadingCircle_medium__2mbND",large:"LoadingCircle_large__LczEg",primary:"LoadingCircle_primary__11h_B",white:"LoadingCircle_white__DwiPc",gray:"LoadingCircle_gray__uCF8K",bounce1:"LoadingCircle_bounce1__A8X52",bounce2:"LoadingCircle_bounce2__exQJN",bounce3:"LoadingCircle_bounce3__mC4DJ",loadingText:"LoadingCircle_loadingText__EsdSU",circleSpinner:"LoadingCircle_circleSpinner__ziTn7",spin:"LoadingCircle_spin___kJ5O",fullPageOverlay:"LoadingCircle_fullPageOverlay__7R5zF",sectionLoading:"LoadingCircle_sectionLoading__fnPMj",cardSkeleton:"LoadingCircle_cardSkeleton__V99_0",loading:"LoadingCircle_loading__68KHW",productGridLoading:"LoadingCircle_productGridLoading__sV__P",productCardSkeleton:"LoadingCircle_productCardSkeleton__urXAf"}},55017:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>_,tree:()=>c});var a=r(65239),i=r(48088),o=r(88170),n=r.n(o),s=r(30893),l={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);r.d(t,l);let c={children:["",{children:["products",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,45471)),"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\products\\[slug]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\alien\\Downloads\\Malikli-son - Preview\\frontend\\src\\app\\products\\[slug]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},_=new a.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/products/[slug]/page",pathname:"/products/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58219:e=>{e.exports={loadingContainer:"productDetail_loadingContainer__loc0X",skeletonFallback:"productDetail_skeletonFallback___a_3L",productContainer:"productDetail_productContainer__1HO_y",productInfo:"productDetail_productInfo__SLHZK",productName:"productDetail_productName__XFLMi",price:"productDetail_price__7UkJ3",mainImageContainer:"productDetail_mainImageContainer__qWeql",thumbnailsContainer:"productDetail_thumbnailsContainer__sBEyu",ctaSection:"productDetail_ctaSection__1U4f9",addToCartButton:"productDetail_addToCartButton___Cv9p",quantityWrapper:"productDetail_quantityWrapper__0yxGw",variantSection:"productDetail_variantSection__IpsN4",sizeOption:"productDetail_sizeOption__Udw3x",colorOption:"productDetail_colorOption__47x_3",additionalInfoSection:"productDetail_additionalInfoSection__coIPB",descriptionContent:"productDetail_descriptionContent__EOBxF",thumbnailWrapper:"productDetail_thumbnailWrapper__tMS1u",variantOptions:"productDetail_variantOptions__kLImq",galleryContainer:"productDetail_galleryContainer__T3cNQ",mainImage:"productDetail_mainImage__Hgmb5",zoomOverlay:"productDetail_zoomOverlay__cYnhr",active:"productDetail_active__cc9y9",thumbnail:"productDetail_thumbnail__RWU84",breadcrumbs:"productDetail_breadcrumbs__rZt6Z",breadcrumbItem:"productDetail_breadcrumbItem__qaF23",breadcrumbSeparator:"productDetail_breadcrumbSeparator__btMpg",priceContainer:"productDetail_priceContainer__EA3Da",originalPrice:"productDetail_originalPrice__PVYPr",discount:"productDetail_discount__u0xd7",availabilitySection:"productDetail_availabilitySection__re5uw",availabilityDot:"productDetail_availabilityDot__GU07f",pulse:"productDetail_pulse__IqXby",inStock:"productDetail_inStock__XmiRa",outOfStock:"productDetail_outOfStock__KgMey",availabilityText:"productDetail_availabilityText__fuuO_",inStockText:"productDetail_inStockText__Dhak2",outOfStockText:"productDetail_outOfStockText__ZIxGp",description:"productDetail_description__qoe7M",divider:"productDetail_divider__Giejd",variantTitle:"productDetail_variantTitle__Ksxaj",selected:"productDetail_selected__qYnoV",selectedVariantInfo:"productDetail_selectedVariantInfo__dqNKk",variantInfoItem:"productDetail_variantInfoItem__jMAUo",variantInfoLabel:"productDetail_variantInfoLabel__yVPIf",variantInfoValue:"productDetail_variantInfoValue__SU3_B",colorPreview:"productDetail_colorPreview__wEmAA",quantityLabel:"productDetail_quantityLabel__EEiy_",quantityControls:"productDetail_quantityControls__uZN5v",quantityButton:"productDetail_quantityButton__8Y4E1",quantityInput:"productDetail_quantityInput__zPQFy",descriptionHeader:"productDetail_descriptionHeader__hkV3J",lowStock:"productDetail_lowStock__6NAvX",lowStockText:"productDetail_lowStockText__mzp3k",relatedProductsSection:"productDetail_relatedProductsSection__sinly",sectionTitle:"productDetail_sectionTitle__ZWTpv",productGrid:"productDetail_productGrid__WhiHI",skeleton:"productDetail_skeleton__sEZya",shimmer:"productDetail_shimmer__mBla8",skeletonMainImage:"productDetail_skeletonMainImage__HH03C",skeletonThumbnail:"productDetail_skeletonThumbnail__hFYyP",skeletonTitle:"productDetail_skeletonTitle__5stG8",skeletonPrice:"productDetail_skeletonPrice__y0vMy",skeletonText:"productDetail_skeletonText__vI0Gf",skeletonButton:"productDetail_skeletonButton__E6yMs",errorContainer:"productDetail_errorContainer__f73vZ",errorTitle:"productDetail_errorTitle__RJOQ_",errorMessage:"productDetail_errorMessage__eaf4M",errorButton:"productDetail_errorButton__flo_x",imageLoadingOverlay:"productDetail_imageLoadingOverlay__FX3H2",loading:"productDetail_loading__GE4qn"}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(31658);let i=async e=>[{type:"image/x-icon",sizes:"256x256",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},93115:(e,t,r)=>{Promise.resolve().then(r.bind(r,45471))},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[447,966,658,325],()=>r(55017));module.exports=a})();