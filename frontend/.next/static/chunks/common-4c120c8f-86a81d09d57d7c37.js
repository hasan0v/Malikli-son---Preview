(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6886],{171:(e,t,o)=>{"use strict";o.d(t,{C:()=>l,useI18n:()=>_});var a=o(5155),r=o(2115),n=o(8083),i=o(7501);let s=(0,r.createContext)(void 0),c={en:n,ru:i};function l(e){let{children:t}=e,[o,n]=(0,r.useState)("en");return(0,r.useEffect)(()=>{let e=localStorage.getItem("locale"),t=navigator.language.split("-")[0];n(e||("ru"===t?"ru":"en"))},[]),(0,a.jsx)(s.Provider,{value:{locale:o,setLocale:e=>{n(e),localStorage.setItem("locale",e),"undefined"!=typeof document&&(document.documentElement.lang=e)},t:(e,t)=>{let a=e.split("."),r=c[o];for(let t of a)if(!r||"object"!=typeof r)return e;else r=r[t];return"string"!=typeof r?e:t?r.replace(/\{\{(\w+)\}\}/g,(e,o)=>{var a;return(null==(a=t[o])?void 0:a.toString())||e}):r},availableLocales:["en","ru"]},children:t})}function _(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useI18n must be used within an I18nProvider");return e}},1410:e=>{e.exports={loadingContainer:"LoadingCircle_loadingContainer__4xet2",spinner:"LoadingCircle_spinner__dFWsr","sk-bouncedelay":"LoadingCircle_sk-bouncedelay__pRt6I",small:"LoadingCircle_small__1YWT6",medium:"LoadingCircle_medium__2mbND",large:"LoadingCircle_large__LczEg",primary:"LoadingCircle_primary__11h_B",white:"LoadingCircle_white__DwiPc",gray:"LoadingCircle_gray__uCF8K",bounce1:"LoadingCircle_bounce1__A8X52",bounce2:"LoadingCircle_bounce2__exQJN",bounce3:"LoadingCircle_bounce3__mC4DJ",loadingText:"LoadingCircle_loadingText__EsdSU",circleSpinner:"LoadingCircle_circleSpinner__ziTn7",spin:"LoadingCircle_spin___kJ5O",fullPageOverlay:"LoadingCircle_fullPageOverlay__7R5zF",sectionLoading:"LoadingCircle_sectionLoading__fnPMj",cardSkeleton:"LoadingCircle_cardSkeleton__V99_0",loading:"LoadingCircle_loading__68KHW",productGridLoading:"LoadingCircle_productGridLoading__sV__P",productCardSkeleton:"LoadingCircle_productCardSkeleton__urXAf"}},4060:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});var a=o(5155);o(2115);var r=o(1410),n=o.n(r);let i=e=>{let{size:t="medium",color:o="primary",text:r,className:i=""}=e;return(0,a.jsxs)("div",{className:"".concat(n().loadingContainer," ").concat(i),children:[(0,a.jsxs)("div",{className:"".concat(n().spinner," ").concat(n()[t]," ").concat(n()[o]),children:[(0,a.jsx)("div",{className:n().bounce1}),(0,a.jsx)("div",{className:n().bounce2}),(0,a.jsx)("div",{className:n().bounce3})]}),r&&(0,a.jsx)("p",{className:n().loadingText,children:r})]})}},5910:e=>{e.exports={authContainer:"auth_authContainer__uW_6b",authCard:"auth_authCard__Ir0GS",authHeader:"auth_authHeader__oHCrb",authTitle:"auth_authTitle__VlD_J",authSubtitle:"auth_authSubtitle__Hjn_W",authForm:"auth_authForm__VDzMx",errorMessage:"auth_errorMessage__bXq6j",successMessage:"auth_successMessage__SdDwc",successIcon:"auth_successIcon__gIoJv",helpText:"auth_helpText__4jxL0",linkButton:"auth_linkButton__3nRC2",inputGroup:"auth_inputGroup__6KdsB",inputLabel:"auth_inputLabel__ugLRU",inputWrapper:"auth_inputWrapper__R6pbg",input:"auth_input__2iiLT",inputIcon:"auth_inputIcon__W7Oq3",passwordToggle:"auth_passwordToggle__uDS6d",checkboxGroup:"auth_checkboxGroup__ybg5C",checkboxLabel:"auth_checkboxLabel__wRPUh",checkbox:"auth_checkbox__b78an",checkboxCustom:"auth_checkboxCustom__zuQto",forgotLink:"auth_forgotLink__4mgFs",submitButton:"auth_submitButton__wgua0",loading:"auth_loading__7pVgz",spinner:"auth_spinner__9RFYX",spin:"auth_spin__6DziB",authFooter:"auth_authFooter__0bLSJ",footerText:"auth_footerText__BmQwI",footerLink:"auth_footerLink__QdQjs",socialDivider:"auth_socialDivider__Fa8_5",dividerText:"auth_dividerText__CL9D0",socialButtons:"auth_socialButtons__PAqk6",socialButton:"auth_socialButton__ZEAbp",redirectInfo:"auth_redirectInfo__F_HcC",redirectActions:"auth_redirectActions__ojM4k",proceedButton:"auth_proceedButton__oUwqa",cancelButton:"auth_cancelButton__fO4QL",formRow:"auth_formRow__SIR7i"}},6866:(e,t,o)=>{"use strict";o.d(t,{JR:()=>a});let a=(()=>{let e="http://localhost:8000/api/v1";if(e)return e;{let e=window.location.protocol,t=window.location.hostname;return"localhost"===t||"127.0.0.1"===t?"http://localhost:8000/api/v1":"".concat(e,"//").concat(t,"/api/v1")}})()},9493:(e,t,o)=>{"use strict";o.d(t,{FK:()=>r,It:()=>i,N4:()=>c,fS:()=>n,mK:()=>u,p:()=>s,u:()=>l});let a="http://localhost:8000/api/v1";async function r(e,t){let o=new URL("".concat(a,"/orders/"));t&&(t.status&&"all"!==t.status&&o.searchParams.append("status",t.status),t.ordering&&o.searchParams.append("ordering",t.ordering),t.page&&o.searchParams.append("page",t.page.toString()),t.page_size&&o.searchParams.append("page_size",t.page_size.toString()));let r=await fetch(o.toString(),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!r.ok){if(401===r.status)throw Error("Unauthorized - please log in again");throw Error("Failed to fetch orders: ".concat(r.statusText))}let n=await r.json();return{...n,results:n.results.map(d)}}async function n(e,t){console.log("=== CREATE ORDER API CALLED ==="),console.log("API URL:","".concat(a,"/orders/create/")),console.log("Order data:",e),console.log("Token available:",!!t);let o=await fetch("".concat(a,"/orders/create/"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("=== CREATE ORDER RESPONSE ==="),console.log("Status:",o.status),console.log("Status text:",o.statusText),console.log("Response OK:",o.ok),!o.ok){let e=await o.json();throw console.error("=== CREATE ORDER ERROR RESPONSE ==="),console.error("Error data:",e),Error(e.message||"Failed to create order")}let r=await o.json();console.log("=== CREATE ORDER SUCCESS ==="),console.log("Backend order response:",r);let n=d(r);return console.log("Transformed order:",n),n}async function i(e,t,o){let r={"Content-Type":"application/json"};o&&(r.Authorization="Bearer ".concat(o));let n=await fetch("".concat(a,"/orders/payment-callback/"),{method:"POST",headers:r,body:JSON.stringify({uid:e,status:"paid"===t?"success":"failed"})});if(!n.ok)throw Error((await n.json()).message||"Failed to update order payment status");if((await n.json()).success&&o)return s(String(e),o);throw Error("Payment status update failed")}async function s(e,t){let o=await fetch("".concat(a,"/orders/").concat(e,"/"),{method:"GET",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!o.ok){if(401===o.status)throw Error("Unauthorized - please log in again");if(404===o.status)throw Error("Order not found");throw Error("Failed to fetch order: ".concat(o.statusText))}return d(await o.json())}async function c(e,t){let o=await fetch("".concat(a,"/orders/").concat(e,"/cancel/"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!o.ok){if(401===o.status)throw Error("Unauthorized - please log in again");if(404===o.status)throw Error("Order not found");if(400===o.status)throw Error((await o.json()).detail||"Cannot cancel this order");throw Error("Failed to cancel order: ".concat(o.statusText))}return d(await o.json())}async function l(e,t){let o=await fetch("".concat(a,"/orders/").concat(e,"/reorder/"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!o.ok){if(401===o.status)throw Error("Unauthorized - please log in again");if(404===o.status)throw Error("Order not found");if(400===o.status)throw Error((await o.json()).detail||"Cannot reorder these items");throw Error("Failed to reorder items: ".concat(o.statusText))}return o.json()}function _(e){return{id:e.id,product_id:e.product_id,variant_id:e.variant_id,product_name:e.product_name,variant_name:e.variant_name,product_image:e.product_image,product_slug:e.product_slug,price:e.price,quantity:e.quantity,color:e.color,size:e.size,subtotal:e.subtotal,sku_snapshot:e.sku_snapshot,name:e.product_name,image:e.product_image||"/placeholder-product.png",variant:e.variant_name}}function d(e){var t,o,a,r,n,i;console.log("Transforming backend order:",e);let s=e.shipping_address_details||e.shipping_address||{};return console.log("Shipping address details:",s),console.log("User fields from backend:",{user_first_name:e.user_first_name,user_last_name:e.user_last_name,user_email:e.user_email,user_phone:e.user_phone,email_for_guest:e.email_for_guest}),{id:e.order_id||e.id,order_number:e.order_number,status:({pending_payment:"pending",processing:"processing",shipped:"shipped",delivered:"delivered",cancelled:"cancelled",refunded:"cancelled",failed:"cancelled"})[e.order_status]||"pending",payment_status:({pending:"pending",paid:"paid",failed:"failed",refunded_partial:"refunded",refunded_full:"refunded"})[e.payment_status]||"pending",created_at:e.created_at,updated_at:e.updated_at,total_amount:e.total_amount,shipping_cost:e.shipping_cost,discount_amount:e.discount_amount,subtotal_amount:e.subtotal_amount,items:(null==(t=e.items)?void 0:t.map(_))||[],shipping_address:{first_name:(null==(o=s.recipient_name)?void 0:o.split(" ")[0])||s.first_name||"",last_name:(null==(a=s.recipient_name)?void 0:a.split(" ").slice(1).join(" "))||s.last_name||"",street_address:s.street_address||s.address_line_1||"",city:s.city||"",state:s.state_province||s.state||s.region||"",postal_code:s.postal_code||s.zip_code||"",country:s.country_code||s.country||"",phone:s.phone_number||s.phone||""},shipping_method:(null==(r=e.shipping_method_details)?void 0:r.name)||e.shipping_method||"Standard",shipping_method_details:e.shipping_method_details,tracking_number:e.tracking_number,estimated_delivery:e.estimated_delivery,customer_info:{first_name:e.user_first_name||(null==(n=s.recipient_name)?void 0:n.split(" ")[0])||"",last_name:e.user_last_name||(null==(i=s.recipient_name)?void 0:i.split(" ").slice(1).join(" "))||"",email:e.user_email||e.email_for_guest||"",phone:e.user_phone||s.phone_number||""}}}async function u(e,t){console.log("=== CREATE DIRECT ORDER API CALLED ==="),console.log("API URL:","".concat(a,"/orders/create-direct/")),console.log("Order data:",e),console.log("Token available:",!!t);let o={"Content-Type":"application/json"};t&&(o.Authorization="Bearer ".concat(t));let r=await fetch("".concat(a,"/orders/create-direct/"),{method:"POST",headers:o,body:JSON.stringify(e)});if(console.log("=== CREATE DIRECT ORDER RESPONSE ==="),console.log("Status:",r.status),console.log("Status text:",r.statusText),console.log("Response OK:",r.ok),!r.ok){let e=await r.json();throw console.error("=== CREATE DIRECT ORDER ERROR RESPONSE ==="),console.error("Error data:",e),Error(e.message||"Failed to create direct order")}let n=await r.json();console.log("=== CREATE DIRECT ORDER SUCCESS ==="),console.log("Backend order response:",n);let i=d(n);return console.log("Transformed direct order:",i),i}}}]);