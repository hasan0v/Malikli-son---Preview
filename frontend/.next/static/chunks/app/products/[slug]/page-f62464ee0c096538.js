(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2221],{722:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});let r=t(3464).A.create({baseURL:"http://localhost:8000/api/v1",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let a=localStorage.getItem("access_token");a&&(e.headers.Authorization="Bearer ".concat(a))}return e},e=>(console.error("API Request Error:",e),Promise.reject(e))),r.interceptors.response.use(e=>e,e=>{var a;return e.response&&401===e.response.status&&console.error("Authentication error. Please login again."),console.error("API Response Error:",(null==(a=e.response)?void 0:a.data)||e.message),Promise.reject(e)});let i=r},1410:e=>{e.exports={loadingContainer:"LoadingCircle_loadingContainer__4xet2",spinner:"LoadingCircle_spinner__dFWsr","sk-bouncedelay":"LoadingCircle_sk-bouncedelay__pRt6I",small:"LoadingCircle_small__1YWT6",medium:"LoadingCircle_medium__2mbND",large:"LoadingCircle_large__LczEg",primary:"LoadingCircle_primary__11h_B",white:"LoadingCircle_white__DwiPc",gray:"LoadingCircle_gray__uCF8K",bounce1:"LoadingCircle_bounce1__A8X52",bounce2:"LoadingCircle_bounce2__exQJN",bounce3:"LoadingCircle_bounce3__mC4DJ",loadingText:"LoadingCircle_loadingText__EsdSU",circleSpinner:"LoadingCircle_circleSpinner__ziTn7",spin:"LoadingCircle_spin___kJ5O",fullPageOverlay:"LoadingCircle_fullPageOverlay__7R5zF",sectionLoading:"LoadingCircle_sectionLoading__fnPMj",cardSkeleton:"LoadingCircle_cardSkeleton__V99_0",loading:"LoadingCircle_loading__68KHW",productGridLoading:"LoadingCircle_productGridLoading__sV__P",productCardSkeleton:"LoadingCircle_productCardSkeleton__urXAf"}},2699:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(5155),i=t(2115),o=t(6766),n=t(6874),c=t.n(n),l=t(5695),s=t(4540),d=t(9604),u=t(4060),_=t(5295),p=t(8166),m=t.n(p);function g(){var e;let{t:a}=(0,_.useI18n)(),t=(0,l.useParams)(),n=null==t?void 0:t.slug,p=(0,l.useRouter)();(0,s.wA)(),(0,s.d4)(e=>!!e.auth.user);let[g,h]=(0,i.useState)(null),[v,x]=(0,i.useState)(!0),[f,y]=(0,i.useState)(null),[b,j]=(0,i.useState)(null),[N,k]=(0,i.useState)(null),[D,C]=(0,i.useState)(1),[S,I]=(0,i.useState)(null),[L,w]=(0,i.useState)(null),[T,P]=(0,i.useState)({x:0,y:0}),[O,z]=(0,i.useState)(!0),[E,F]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{if(!n||"string"!=typeof n){y(a("product.error.invalidSlug")),x(!1);return}try{let e=await (0,d.M$)(n);if(!e){y(a("product.error.notFound")),x(!1);return}if(h(e),e.images&&e.images.length>0){let a=e.images.find(e=>e.is_primary);j(a?a.image:e.images[0].image)}e.variants&&e.variants.length>0&&M(e.variants),x(!1)}catch(e){console.error("Error fetching product:",e),y(a("common.error")),x(!1)}})()},[n]);let M=e=>{if(1===e.length){k(e[0]),e[0].size_info&&I(e[0].size_info.id),e[0].color_info&&w(e[0].color_info.id);return}let a=e.find(e=>e.is_active);a&&(k(a),a.size_info&&I(a.size_info.id),a.color_info&&w(a.color_info.id))};(0,i.useEffect)(()=>{if(!g||!g.variants)return;let e=g.variants.find(e=>{let a=null===S||e.size_info&&e.size_info.id===S,t=null===L||e.color_info&&e.color_info.id===L;return a&&t});if(e){if(k(e),e.image)z(!0),j(e.image);else if(e.images&&e.images.length>0){z(!0);let a=e.images.find(e=>e.is_primary);j(a?a.image:e.images[0].image)}}},[S,L,g]);let A=e=>{z(!0),j(e)},B=async()=>{if(g){F(!0);try{let e=N?parseFloat(g.base_price)+parseFloat(N.additional_price):parseFloat(g.base_price),a=new URLSearchParams({buyNow:"true",productId:g.id.toString(),productName:g.name,productSlug:g.slug,price:e.toString(),quantity:D.toString(),...(null==N?void 0:N.id)&&{variantId:N.id.toString()},...b&&{image:b},...(null==N?void 0:N.color_info)&&{color:N.color_info.name,colorCode:N.color_info.hex_code},...(null==N?void 0:N.size_info)&&{size:N.size_info.name},...g.buy_now_link&&{buyNowLink:g.buy_now_link}});console.log("=== BUY NOW DEBUG - PRODUCT PAGE ==="),console.log("product.buy_now_link:",g.buy_now_link),console.log("buyNowLink in params:",g.buy_now_link?"YES":"NO"),console.log("Final URL params:",a.toString()),window.location.href="/checkout?".concat(a.toString())}catch(e){console.error("Error processing Buy Now:",e)}finally{F(!1)}}},q=[85,92,78,88,80];if(v)return(0,r.jsxs)("div",{className:m().loadingContainer,children:[(0,r.jsx)(u.A,{size:"large",color:"primary",text:a("product.loading.text")}),(0,r.jsx)("div",{className:m().skeletonFallback,children:(0,r.jsxs)("div",{className:m().productContainer,children:[(0,r.jsxs)("div",{className:m().galleryContainer,children:[(0,r.jsx)("div",{className:"".concat(m().skeletonMainImage," ").concat(m().skeleton)}),(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:[1,2,3,4].map(e=>(0,r.jsx)("div",{className:"".concat(m().skeletonThumbnail," ").concat(m().skeleton)},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"".concat(m().skeletonTitle," ").concat(m().skeleton)}),(0,r.jsx)("div",{className:"".concat(m().skeletonPrice," ").concat(m().skeleton)}),[1,2,3,4,5].map(e=>(0,r.jsx)("div",{className:"".concat(m().skeletonText," ").concat(m().skeleton),style:{width:"".concat(q[e-1],"%")}},e)),(0,r.jsx)("div",{className:"".concat(m().skeletonButton," ").concat(m().skeleton)})]})]})})]});if(f)return(0,r.jsxs)("div",{className:m().errorContainer,children:[(0,r.jsx)("h1",{className:m().errorTitle,children:a("product.error.somethingWrong")}),(0,r.jsx)("p",{className:m().errorMessage,children:f}),(0,r.jsx)("button",{className:m().errorButton,onClick:()=>p.push("/"),children:a("product.error.backToHome")})]});if(!g)return(0,r.jsxs)("div",{className:m().errorContainer,children:[(0,r.jsx)("h1",{className:m().errorTitle,children:a("product.error.notFound")}),(0,r.jsx)("p",{className:m().errorMessage,children:a("product.error.notFoundMessage")}),(0,r.jsx)("button",{className:m().errorButton,onClick:()=>p.push("/"),children:a("product.error.backToHome")})]});let W=N?(parseFloat(g.base_price)+parseFloat(N.additional_price)).toFixed(2):g.base_price,R=m().inStock,U=m().inStockText;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:m().productContainer,children:[(0,r.jsxs)("div",{className:m().galleryContainer,children:[(0,r.jsxs)("div",{className:m().mainImageContainer,onMouseMove:e=>{let{left:a,top:t,width:r,height:i}=e.currentTarget.getBoundingClientRect();P({x:(e.clientX-a)/r*100,y:(e.clientY-t)/i*100})},children:[O&&(0,r.jsx)("div",{className:m().imageLoadingOverlay,children:(0,r.jsx)(u.A,{size:"medium",color:"primary"})}),(0,r.jsx)(o.default,{src:b||(null==(e=g.images[0])?void 0:e.image)||"/placeholder-product.jpg",alt:g.name,fill:!0,className:m().mainImage,style:{transformOrigin:"".concat(T.x,"% ").concat(T.y,"%"),opacity:O?.3:1},onLoad:()=>z(!1),onError:()=>z(!1)}),(0,r.jsx)("div",{className:m().zoomOverlay})]}),(0,r.jsx)("div",{className:m().thumbnailsContainer,children:g.images.map(e=>(0,r.jsx)("div",{className:"".concat(m().thumbnailWrapper," ").concat(b===e.image?m().active:""),onClick:()=>A(e.image),children:(0,r.jsx)(o.default,{src:e.image,alt:e.alt_text||g.name,width:80,height:80,className:m().thumbnail})},e.id))})]}),(0,r.jsxs)("div",{className:m().productInfo,children:["          ",(0,r.jsxs)("div",{className:m().breadcrumbs,children:[(0,r.jsx)(c(),{href:"/",className:m().breadcrumbItem,children:a("product.breadcrumbs.home")}),(0,r.jsx)("span",{className:m().breadcrumbSeparator,children:"/"}),g.category_name&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c(),{href:"/categories/".concat(g.slug),className:m().breadcrumbItem,children:g.category_name}),(0,r.jsx)("span",{className:m().breadcrumbSeparator,children:"/"})]}),(0,r.jsx)("span",{className:m().breadcrumbItem,children:g.name})]}),(0,r.jsx)("h1",{className:m().productName,children:g.name}),"          ",(0,r.jsx)("div",{className:m().priceContainer,children:(0,r.jsxs)("span",{className:m().price,children:[W," ",a("product.price.currency")]})}),(0,r.jsxs)("div",{className:m().availabilitySection,children:[(0,r.jsx)("div",{className:"".concat(m().availabilityDot," ").concat(R)}),"            ",(0,r.jsx)("span",{className:"".concat(m().availabilityText," ").concat(U),children:a("product.availability.inStock")})]}),(0,r.jsxs)("div",{className:m().description,children:["            ",g.description||a("product.description.noDescription")]}),(0,r.jsx)("div",{className:m().divider}),(()=>{if(!g||!g.variants)return null;let e=new Map;g.variants.forEach(a=>{a.size_info&&e.set(a.size_info.id,a.size_info)});let t=Array.from(e.values());return 0===t.length?null:(0,r.jsxs)("div",{className:m().variantSection,children:[(0,r.jsx)("div",{className:m().variantTitle,children:a("product.variants.size")}),(0,r.jsx)("div",{className:m().variantOptions,children:t.sort((e,a)=>e.display_order-a.display_order).map(e=>(0,r.jsx)("div",{className:"".concat(m().sizeOption," ").concat(S===e.id?m().selected:""),onClick:()=>I(e.id),children:e.name},e.id))})]})})(),(()=>{if(!g||!g.variants)return null;let e=new Map;g.variants.forEach(a=>{a.color_info&&e.set(a.color_info.id,a.color_info)});let t=Array.from(e.values());return 0===t.length?null:(0,r.jsxs)("div",{className:m().variantSection,children:[(0,r.jsx)("div",{className:m().variantTitle,children:a("product.variants.color")}),(0,r.jsx)("div",{className:m().variantOptions,children:t.sort((e,a)=>e.display_order-a.display_order).map(e=>(0,r.jsx)("div",{className:"".concat(m().colorOption," ").concat(L===e.id?m().selected:""),style:{backgroundColor:e.hex_code||"#000000"},onClick:()=>w(e.id),title:e.name},e.id))})]})})(),N?(0,r.jsxs)("div",{className:m().selectedVariantInfo,children:["        ",N.size_info&&(0,r.jsxs)("div",{className:m().variantInfoItem,children:[(0,r.jsx)("span",{className:m().variantInfoLabel,children:a("product.variants.selectedInfo.size")}),(0,r.jsx)("span",{className:m().variantInfoValue,children:N.size_info.name})]}),N.color_info&&(0,r.jsxs)("div",{className:m().variantInfoItem,children:[(0,r.jsx)("span",{className:m().variantInfoLabel,children:a("product.variants.selectedInfo.color")}),(0,r.jsxs)("span",{className:m().variantInfoValue,children:[N.color_info.hex_code&&(0,r.jsx)("span",{className:m().colorPreview,style:{backgroundColor:N.color_info.hex_code}}),N.color_info.name]})]}),N.name_suffix&&(0,r.jsxs)("div",{className:m().variantInfoItem,children:[(0,r.jsx)("span",{className:m().variantInfoLabel,children:a("product.variants.selectedInfo.variant")}),(0,r.jsx)("span",{className:m().variantInfoValue,children:N.name_suffix})]})]}):null,"          ",(0,r.jsxs)("div",{className:m().ctaSection,children:[(0,r.jsxs)("button",{className:"".concat(m().addToCartButton," ").concat(E?m().loading:""),onClick:B,disabled:E,children:["              ",E?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.A,{size:"small",color:"white"}),(0,r.jsx)("span",{children:a("product.buttons.processing")})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M3 3h2l.4 2m0 0L7 13h10l4-8H5.4z"}),(0,r.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,r.jsx)("circle",{cx:"20",cy:"21",r:"1"})]}),a("product.buttons.buyNow")]})]}),"          "]})]})]})})}},4060:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(5155);t(2115);var i=t(1410),o=t.n(i);let n=e=>{let{size:a="medium",color:t="primary",text:i,className:n=""}=e;return(0,r.jsxs)("div",{className:"".concat(o().loadingContainer," ").concat(n),children:[(0,r.jsxs)("div",{className:"".concat(o().spinner," ").concat(o()[a]," ").concat(o()[t]),children:[(0,r.jsx)("div",{className:o().bounce1}),(0,r.jsx)("div",{className:o().bounce2}),(0,r.jsx)("div",{className:o().bounce3})]}),i&&(0,r.jsx)("p",{className:o().loadingText,children:i})]})}},5450:(e,a,t)=>{Promise.resolve().then(t.bind(t,2699))},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},8166:e=>{e.exports={loadingContainer:"productDetail_loadingContainer__loc0X",skeletonFallback:"productDetail_skeletonFallback___a_3L",productContainer:"productDetail_productContainer__1HO_y",productInfo:"productDetail_productInfo__SLHZK",productName:"productDetail_productName__XFLMi",price:"productDetail_price__7UkJ3",mainImageContainer:"productDetail_mainImageContainer__qWeql",thumbnailsContainer:"productDetail_thumbnailsContainer__sBEyu",ctaSection:"productDetail_ctaSection__1U4f9",addToCartButton:"productDetail_addToCartButton___Cv9p",quantityWrapper:"productDetail_quantityWrapper__0yxGw",variantSection:"productDetail_variantSection__IpsN4",sizeOption:"productDetail_sizeOption__Udw3x",colorOption:"productDetail_colorOption__47x_3",additionalInfoSection:"productDetail_additionalInfoSection__coIPB",descriptionContent:"productDetail_descriptionContent__EOBxF",thumbnailWrapper:"productDetail_thumbnailWrapper__tMS1u",variantOptions:"productDetail_variantOptions__kLImq",galleryContainer:"productDetail_galleryContainer__T3cNQ",mainImage:"productDetail_mainImage__Hgmb5",zoomOverlay:"productDetail_zoomOverlay__cYnhr",active:"productDetail_active__cc9y9",thumbnail:"productDetail_thumbnail__RWU84",breadcrumbs:"productDetail_breadcrumbs__rZt6Z",breadcrumbItem:"productDetail_breadcrumbItem__qaF23",breadcrumbSeparator:"productDetail_breadcrumbSeparator__btMpg",priceContainer:"productDetail_priceContainer__EA3Da",originalPrice:"productDetail_originalPrice__PVYPr",discount:"productDetail_discount__u0xd7",availabilitySection:"productDetail_availabilitySection__re5uw",availabilityDot:"productDetail_availabilityDot__GU07f",pulse:"productDetail_pulse__IqXby",inStock:"productDetail_inStock__XmiRa",outOfStock:"productDetail_outOfStock__KgMey",availabilityText:"productDetail_availabilityText__fuuO_",inStockText:"productDetail_inStockText__Dhak2",outOfStockText:"productDetail_outOfStockText__ZIxGp",description:"productDetail_description__qoe7M",divider:"productDetail_divider__Giejd",variantTitle:"productDetail_variantTitle__Ksxaj",selected:"productDetail_selected__qYnoV",selectedVariantInfo:"productDetail_selectedVariantInfo__dqNKk",variantInfoItem:"productDetail_variantInfoItem__jMAUo",variantInfoLabel:"productDetail_variantInfoLabel__yVPIf",variantInfoValue:"productDetail_variantInfoValue__SU3_B",colorPreview:"productDetail_colorPreview__wEmAA",quantityLabel:"productDetail_quantityLabel__EEiy_",quantityControls:"productDetail_quantityControls__uZN5v",quantityButton:"productDetail_quantityButton__8Y4E1",quantityInput:"productDetail_quantityInput__zPQFy",descriptionHeader:"productDetail_descriptionHeader__hkV3J",lowStock:"productDetail_lowStock__6NAvX",lowStockText:"productDetail_lowStockText__mzp3k",relatedProductsSection:"productDetail_relatedProductsSection__sinly",sectionTitle:"productDetail_sectionTitle__ZWTpv",productGrid:"productDetail_productGrid__WhiHI",skeleton:"productDetail_skeleton__sEZya",shimmer:"productDetail_shimmer__mBla8",skeletonMainImage:"productDetail_skeletonMainImage__HH03C",skeletonThumbnail:"productDetail_skeletonThumbnail__hFYyP",skeletonTitle:"productDetail_skeletonTitle__5stG8",skeletonPrice:"productDetail_skeletonPrice__y0vMy",skeletonText:"productDetail_skeletonText__vI0Gf",skeletonButton:"productDetail_skeletonButton__E6yMs",errorContainer:"productDetail_errorContainer__f73vZ",errorTitle:"productDetail_errorTitle__RJOQ_",errorMessage:"productDetail_errorMessage__eaf4M",errorButton:"productDetail_errorButton__flo_x",imageLoadingOverlay:"productDetail_imageLoadingOverlay__FX3H2",loading:"productDetail_loading__GE4qn"}},9604:(e,a,t)=>{"use strict";t.d(a,{M$:()=>n,bW:()=>c,d$:()=>o,ow:()=>i});var r=t(722);let i=(e,a)=>{let t=e.image||"/placeholder-slider.jpg";return{id:e.id||a+1,type:"image",src:t,alt:e.name||"Category ".concat(a+1),slug:e.slug,title:e.name,description:e.description||"Explore our collection"}};async function o(){try{return(await r.A.get("/products/")).data.results||[]}catch(e){return console.error("Error fetching products:",e),[]}}async function n(e){try{return(await r.A.get("/products/".concat(e,"/"))).data}catch(t){var a;if((null==(a=t.response)?void 0:a.status)===404)return null;return console.error("Error fetching product with slug ".concat(e,":"),t),null}}async function c(e){try{let a="/categories/";return e&&(a+="?is_featured=true"),(await r.A.get(a)).data.results||[]}catch(e){return console.error("Error fetching categories:",e),[]}}}},e=>{var a=a=>e(e.s=a);e.O(0,[2181,4540,6874,3464,6766,5295,8441,1684,7358],()=>a(5450)),_N_E=e.O()}]);