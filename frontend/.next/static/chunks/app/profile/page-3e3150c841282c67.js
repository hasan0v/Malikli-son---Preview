(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{2621:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>u});var n=i(5155),t=i(2115),o=i(5695),a=i(2045),r=i(2265),l=i(171);function c(e){let{children:s,redirectTo:i="/auth/login"}=e,{t:r}=(0,l.useI18n)(),{isAuthenticated:c,isLoading:p,isInitialized:f}=(0,a.G)(e=>e.auth);(0,a.j)();let d=(0,o.useRouter)();return((0,t.useEffect)(()=>{f&&!c&&d.push(i)},[f,c,d,i]),!f||p)?(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f4f6",borderTop:"4px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,n.jsx)("p",{style:{color:"#6b7280"},children:f?r("common.checkingAuth"):r("common.initializing")||"Initializing..."})]}):c?(0,n.jsx)(n.Fragment,{children:s}):null}var p=i(4060),f=i(6866),d=i(7687),m=i.n(d);function _(){let{t:e}=(0,l.useI18n)(),[s,i]=(0,t.useState)(!1),[c,d]=(0,t.useState)({first_name:"",last_name:"",email:"",phone:""}),_=(0,a.j)(),u=(0,o.useRouter)(),{user:h,isLoading:x,isAuthenticated:j}=(0,a.G)(e=>e.auth);(0,t.useEffect)(()=>{h?d({first_name:h.first_name||"",last_name:h.last_name||"",email:h.email||"",phone:h.phone_number||""}):_((0,r.l2)())},[_,h]);let N=e=>{let{name:s,value:i}=e.target;d({...c,[s]:i})},g=async()=>{try{let e=localStorage.getItem("access_token");(await fetch("".concat(f.JR,"/auth/profile/"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(await _((0,r.l2)()),i(!1))}catch(e){console.error("Error updating profile:",e)}};return x?(0,n.jsx)("div",{className:m().profileContainer,children:(0,n.jsx)("div",{className:m().loadingContainer,children:(0,n.jsx)(p.A,{size:"large",color:"primary",text:e("profile.loading")})})}):h?(0,n.jsx)("div",{className:m().profileContainer,children:(0,n.jsxs)("div",{className:m().profileCard,children:[(0,n.jsxs)("div",{className:m().profileHeader,children:[(0,n.jsxs)("div",{className:m().avatarSection,children:[(0,n.jsx)("div",{className:m().avatar,children:h.first_name?h.first_name[0].toUpperCase():"ÐŸ"}),(0,n.jsxs)("div",{className:m().userInfo,children:[(0,n.jsxs)("h1",{className:m().userName,children:[h.first_name," ",h.last_name]}),(0,n.jsx)("p",{className:m().userEmail,children:h.email})]})]}),(0,n.jsxs)("div",{className:m().actionButtons,children:["            ",(0,n.jsx)("button",{onClick:()=>i(!s),className:"".concat(m().button," ").concat(m().editButton),children:e(s?"profile.cancel":"profile.edit")}),(0,n.jsx)("button",{onClick:()=>{_((0,r.ri)()),u.push("/")},className:"".concat(m().button," ").concat(m().logoutButton),children:e("profile.logout")})]})]}),(0,n.jsxs)("div",{className:m().profileContent,children:["          ",(0,n.jsxs)("div",{className:m().section,children:[(0,n.jsx)("h2",{className:m().sectionTitle,children:e("profile.personalInfo.title")}),(0,n.jsxs)("div",{className:m().formGrid,children:[(0,n.jsxs)("div",{className:m().formGroup,children:[(0,n.jsx)("label",{className:m().formLabel,children:e("profile.personalInfo.firstName")}),s?(0,n.jsx)("input",{type:"text",name:"first_name",value:c.first_name,onChange:N,className:m().formInput}):(0,n.jsx)("p",{className:m().formValue,children:h.first_name||e("profile.notSpecified")})]}),(0,n.jsxs)("div",{className:m().formGroup,children:[(0,n.jsx)("label",{className:m().formLabel,children:e("profile.personalInfo.lastName")}),s?(0,n.jsx)("input",{type:"text",name:"last_name",value:c.last_name,onChange:N,className:m().formInput}):(0,n.jsx)("p",{className:m().formValue,children:h.last_name||e("profile.notSpecified")})]}),(0,n.jsxs)("div",{className:m().formGroup,children:[(0,n.jsx)("label",{className:m().formLabel,children:e("profile.personalInfo.email")}),s?(0,n.jsx)("input",{type:"email",name:"email",value:c.email,onChange:N,className:m().formInput}):(0,n.jsx)("p",{className:m().formValue,children:h.email})]}),(0,n.jsxs)("div",{className:m().formGroup,children:[(0,n.jsx)("label",{className:m().formLabel,children:e("profile.personalInfo.phone")}),s?(0,n.jsx)("input",{type:"tel",name:"phone",value:c.phone,onChange:N,className:m().formInput,placeholder:e("profile.personalInfo.phonePlaceholder")}):(0,n.jsx)("p",{className:m().formValue,children:h.phone_number||e("profile.notSpecified")})]})]}),"            ",s&&(0,n.jsx)("div",{className:m().saveActions,children:(0,n.jsx)("button",{onClick:g,className:"".concat(m().button," ").concat(m().saveButton),children:e("profile.saveChanges")})})]}),(0,n.jsxs)("div",{className:m().section,children:[(0,n.jsx)("h2",{className:m().sectionTitle,children:e("profile.accountSettings.title")}),(0,n.jsxs)("div",{className:m().settingsGrid,children:[(0,n.jsxs)("div",{className:m().settingItem,children:[(0,n.jsxs)("div",{className:m().settingInfo,children:[(0,n.jsx)("h3",{className:m().settingTitle,children:e("profile.accountSettings.changePassword.title")}),(0,n.jsx)("p",{className:m().settingDescription,children:e("profile.accountSettings.changePassword.description")})]}),(0,n.jsx)("button",{className:"".concat(m().button," ").concat(m().secondaryButton),children:e("profile.accountSettings.changePassword.button")})]}),(0,n.jsxs)("div",{className:m().settingItem,children:[(0,n.jsxs)("div",{className:m().settingInfo,children:[(0,n.jsx)("h3",{className:m().settingTitle,children:e("profile.accountSettings.notifications.title")}),(0,n.jsx)("p",{className:m().settingDescription,children:e("profile.accountSettings.notifications.description")})]}),(0,n.jsx)("button",{className:"".concat(m().button," ").concat(m().secondaryButton),children:e("profile.accountSettings.notifications.button")})]})]})]}),(0,n.jsxs)("div",{className:m().section,children:[(0,n.jsx)("h2",{className:m().sectionTitle,children:e("profile.orders.title")}),(0,n.jsxs)("div",{className:m().ordersPlaceholder,children:[(0,n.jsx)("p",{className:m().placeholderText,children:e("profile.orders.noOrders")}),(0,n.jsx)("button",{className:"".concat(m().button," ").concat(m().primaryButton),children:e("profile.orders.startShopping")})]})]})]})]})}):null}function u(){return(0,n.jsx)(c,{children:(0,n.jsx)(_,{})})}},4515:(e,s,i)=>{Promise.resolve().then(i.bind(i,2621))},7687:e=>{e.exports={profileContainer:"profile_profileContainer__4OeWo",profileCard:"profile_profileCard__HJ2Cz",profileHeader:"profile_profileHeader__Xf6f4",avatarSection:"profile_avatarSection__fZnTm",avatar:"profile_avatar__f2UDF",userInfo:"profile_userInfo__oWr8Y",userEmail:"profile_userEmail__ts0FE",actionButtons:"profile_actionButtons__rDFEg",button:"profile_button___xNux",editButton:"profile_editButton__oGUfC",logoutButton:"profile_logoutButton__Vjcxn",profileContent:"profile_profileContent__eyz94",section:"profile_section__RH7dI",sectionTitle:"profile_sectionTitle___Vi78",formGrid:"profile_formGrid__nDn3z",formGroup:"profile_formGroup__umLr_",formLabel:"profile_formLabel__dy9_j",formInput:"profile_formInput__r84gq",formValue:"profile_formValue__S31WS",saveActions:"profile_saveActions__PSj27",saveButton:"profile_saveButton__Vp6f_",primaryButton:"profile_primaryButton__MNKcw",secondaryButton:"profile_secondaryButton__qgiP9",settingsGrid:"profile_settingsGrid__VETua",settingItem:"profile_settingItem__Z5eF1",settingInfo:"profile_settingInfo__rp9Jq",settingDescription:"profile_settingDescription__Kr5b2",ordersPlaceholder:"profile_ordersPlaceholder__JRe7m",placeholderText:"profile_placeholderText__LSZEX",loadingSpinner:"profile_loadingSpinner__LmX3z",spinner:"profile_spinner__0gF1W",spin:"profile_spin__B8_d_"}}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,7137,1880,4297,2868,4681,4833,6986,9717,6886,7692,6451,6373,8852,8096,7358],()=>s(4515)),_N_E=e.O()}]);