(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{2621:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>_});var t=i(5155),n=i(2115),o=i(5695),a=i(2045),l=i(2265),r=i(171);function c(e){let{children:s,redirectTo:i="/auth/login"}=e,{t:l}=(0,r.useI18n)(),{isAuthenticated:c,isLoading:p,isInitialized:f}=(0,a.G)(e=>e.auth);(0,a.j)();let d=(0,o.useRouter)();return((0,n.useEffect)(()=>{f&&!c&&d.push(i)},[f,c,d,i]),!f||p)?(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[(0,t.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f4f6",borderTop:"4px solid #6366f1",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,t.jsx)("p",{style:{color:"#6b7280"},children:f?l("common.checkingAuth"):l("common.initializing")||"Initializing..."})]}):c?(0,t.jsx)(t.Fragment,{children:s}):null}var p=i(4060),f=i(7687),d=i.n(f);function m(){let{t:e}=(0,r.useI18n)(),[s,i]=(0,n.useState)(!1),[c,f]=(0,n.useState)({first_name:"",last_name:"",email:"",phone:""}),m=(0,a.j)(),_=(0,o.useRouter)(),{user:u,isLoading:h,isAuthenticated:x}=(0,a.G)(e=>e.auth);(0,n.useEffect)(()=>{u?f({first_name:u.first_name||"",last_name:u.last_name||"",email:u.email||"",phone:u.phone_number||""}):m((0,l.l2)())},[m,u]);let j=e=>{let{name:s,value:i}=e.target;f({...c,[s]:i})},N=async()=>{try{let e=localStorage.getItem("access_token");(await fetch("http://localhost:8000/api/v1/auth/profile/",{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(c)})).ok&&(await m((0,l.l2)()),i(!1))}catch(e){console.error("Error updating profile:",e)}};return h?(0,t.jsx)("div",{className:d().profileContainer,children:(0,t.jsx)("div",{className:d().loadingContainer,children:(0,t.jsx)(p.A,{size:"large",color:"primary",text:e("profile.loading")})})}):u?(0,t.jsx)("div",{className:d().profileContainer,children:(0,t.jsxs)("div",{className:d().profileCard,children:[(0,t.jsxs)("div",{className:d().profileHeader,children:[(0,t.jsxs)("div",{className:d().avatarSection,children:[(0,t.jsx)("div",{className:d().avatar,children:u.first_name?u.first_name[0].toUpperCase():"ÐŸ"}),(0,t.jsxs)("div",{className:d().userInfo,children:[(0,t.jsxs)("h1",{className:d().userName,children:[u.first_name," ",u.last_name]}),(0,t.jsx)("p",{className:d().userEmail,children:u.email})]})]}),(0,t.jsxs)("div",{className:d().actionButtons,children:["            ",(0,t.jsx)("button",{onClick:()=>i(!s),className:"".concat(d().button," ").concat(d().editButton),children:e(s?"profile.cancel":"profile.edit")}),(0,t.jsx)("button",{onClick:()=>{m((0,l.ri)()),_.push("/")},className:"".concat(d().button," ").concat(d().logoutButton),children:e("profile.logout")})]})]}),(0,t.jsxs)("div",{className:d().profileContent,children:["          ",(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("profile.personalInfo.title")}),(0,t.jsxs)("div",{className:d().formGrid,children:[(0,t.jsxs)("div",{className:d().formGroup,children:[(0,t.jsx)("label",{className:d().formLabel,children:e("profile.personalInfo.firstName")}),s?(0,t.jsx)("input",{type:"text",name:"first_name",value:c.first_name,onChange:j,className:d().formInput}):(0,t.jsx)("p",{className:d().formValue,children:u.first_name||e("profile.notSpecified")})]}),(0,t.jsxs)("div",{className:d().formGroup,children:[(0,t.jsx)("label",{className:d().formLabel,children:e("profile.personalInfo.lastName")}),s?(0,t.jsx)("input",{type:"text",name:"last_name",value:c.last_name,onChange:j,className:d().formInput}):(0,t.jsx)("p",{className:d().formValue,children:u.last_name||e("profile.notSpecified")})]}),(0,t.jsxs)("div",{className:d().formGroup,children:[(0,t.jsx)("label",{className:d().formLabel,children:e("profile.personalInfo.email")}),s?(0,t.jsx)("input",{type:"email",name:"email",value:c.email,onChange:j,className:d().formInput}):(0,t.jsx)("p",{className:d().formValue,children:u.email})]}),(0,t.jsxs)("div",{className:d().formGroup,children:[(0,t.jsx)("label",{className:d().formLabel,children:e("profile.personalInfo.phone")}),s?(0,t.jsx)("input",{type:"tel",name:"phone",value:c.phone,onChange:j,className:d().formInput,placeholder:e("profile.personalInfo.phonePlaceholder")}):(0,t.jsx)("p",{className:d().formValue,children:u.phone_number||e("profile.notSpecified")})]})]}),"            ",s&&(0,t.jsx)("div",{className:d().saveActions,children:(0,t.jsx)("button",{onClick:N,className:"".concat(d().button," ").concat(d().saveButton),children:e("profile.saveChanges")})})]}),(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("profile.accountSettings.title")}),(0,t.jsxs)("div",{className:d().settingsGrid,children:[(0,t.jsxs)("div",{className:d().settingItem,children:[(0,t.jsxs)("div",{className:d().settingInfo,children:[(0,t.jsx)("h3",{className:d().settingTitle,children:e("profile.accountSettings.changePassword.title")}),(0,t.jsx)("p",{className:d().settingDescription,children:e("profile.accountSettings.changePassword.description")})]}),(0,t.jsx)("button",{className:"".concat(d().button," ").concat(d().secondaryButton),children:e("profile.accountSettings.changePassword.button")})]}),(0,t.jsxs)("div",{className:d().settingItem,children:[(0,t.jsxs)("div",{className:d().settingInfo,children:[(0,t.jsx)("h3",{className:d().settingTitle,children:e("profile.accountSettings.notifications.title")}),(0,t.jsx)("p",{className:d().settingDescription,children:e("profile.accountSettings.notifications.description")})]}),(0,t.jsx)("button",{className:"".concat(d().button," ").concat(d().secondaryButton),children:e("profile.accountSettings.notifications.button")})]})]})]}),(0,t.jsxs)("div",{className:d().section,children:[(0,t.jsx)("h2",{className:d().sectionTitle,children:e("profile.orders.title")}),(0,t.jsxs)("div",{className:d().ordersPlaceholder,children:[(0,t.jsx)("p",{className:d().placeholderText,children:e("profile.orders.noOrders")}),(0,t.jsx)("button",{className:"".concat(d().button," ").concat(d().primaryButton),children:e("profile.orders.startShopping")})]})]})]})]})}):null}function _(){return(0,t.jsx)(c,{children:(0,t.jsx)(m,{})})}},4515:(e,s,i)=>{Promise.resolve().then(i.bind(i,2621))},7687:e=>{e.exports={profileContainer:"profile_profileContainer__4OeWo",profileCard:"profile_profileCard__HJ2Cz",profileHeader:"profile_profileHeader__Xf6f4",avatarSection:"profile_avatarSection__fZnTm",avatar:"profile_avatar__f2UDF",userInfo:"profile_userInfo__oWr8Y",userEmail:"profile_userEmail__ts0FE",actionButtons:"profile_actionButtons__rDFEg",button:"profile_button___xNux",editButton:"profile_editButton__oGUfC",logoutButton:"profile_logoutButton__Vjcxn",profileContent:"profile_profileContent__eyz94",section:"profile_section__RH7dI",sectionTitle:"profile_sectionTitle___Vi78",formGrid:"profile_formGrid__nDn3z",formGroup:"profile_formGroup__umLr_",formLabel:"profile_formLabel__dy9_j",formInput:"profile_formInput__r84gq",formValue:"profile_formValue__S31WS",saveActions:"profile_saveActions__PSj27",saveButton:"profile_saveButton__Vp6f_",primaryButton:"profile_primaryButton__MNKcw",secondaryButton:"profile_secondaryButton__qgiP9",settingsGrid:"profile_settingsGrid__VETua",settingItem:"profile_settingItem__Z5eF1",settingInfo:"profile_settingInfo__rp9Jq",settingDescription:"profile_settingDescription__Kr5b2",ordersPlaceholder:"profile_ordersPlaceholder__JRe7m",placeholderText:"profile_placeholderText__LSZEX",loadingSpinner:"profile_loadingSpinner__LmX3z",spinner:"profile_spinner__0gF1W",spin:"profile_spin__B8_d_"}}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,7137,1880,4297,2868,4681,4833,6986,9002,9466,7692,6451,6373,8852,8096,7358],()=>s(4515)),_N_E=e.O()}]);