(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8279],{1230:e=>{e.exports={checkoutSteps:"CheckoutSteps_checkoutSteps__MA8FE",stepsContainer:"CheckoutSteps_stepsContainer__YqEUe",steps:"CheckoutSteps_steps__PAdkX",step:"CheckoutSteps_step__YgWCz",stepNumber:"CheckoutSteps_stepNumber__0Wqyl",completed:"CheckoutSteps_completed__C31FA",current:"CheckoutSteps_current__rDiU5",pulse:"CheckoutSteps_pulse__taqqQ",checkmark:"CheckoutSteps_checkmark__teilK",checkmarkPop:"CheckoutSteps_checkmarkPop__xW_cI",stepLabel:"CheckoutSteps_stepLabel___U138",connector:"CheckoutSteps_connector__3xZrB",connectorCompleted:"CheckoutSteps_connectorCompleted__kMerg",disabled:"CheckoutSteps_disabled__Hw_am"}},1864:(e,o,t)=>{Promise.resolve().then(t.bind(t,5663))},3792:e=>{e.exports={confirmationStep:"ConfirmationStep_confirmationStep__UN4sm",reviewText:"ConfirmationStep_reviewText__nLr0v",confirmationSections:"ConfirmationStep_confirmationSections__nXtvw",section:"ConfirmationStep_section__EFdIv",sectionContent:"ConfirmationStep_sectionContent__dLZSc",paymentMethod:"ConfirmationStep_paymentMethod__bPkQx",paymentIcon:"ConfirmationStep_paymentIcon__MuTJa",orderItems:"ConfirmationStep_orderItems__f_iXD",orderItem:"ConfirmationStep_orderItem__6ttSQ",itemInfo:"ConfirmationStep_itemInfo__he7Na",variant:"ConfirmationStep_variant__LyMI7",itemPrice:"ConfirmationStep_itemPrice__KpR5s",orderTotals:"ConfirmationStep_orderTotals__Q6hUC",totalLine:"ConfirmationStep_totalLine__XAEBs",grandTotal:"ConfirmationStep_grandTotal__Wdm90",terms:"ConfirmationStep_terms__8RjZr",termsLabel:"ConfirmationStep_termsLabel__dAkMs",termsError:"ConfirmationStep_termsError__MHzL5",fadeInError:"ConfirmationStep_fadeInError__a_wEm",placeOrderSection:"ConfirmationStep_placeOrderSection__Y8QIG",placeOrderButton:"ConfirmationStep_placeOrderButton__p3Ami",disabled:"ConfirmationStep_disabled__rCkEN",spinner:"ConfirmationStep_spinner__6MvNH",spin:"ConfirmationStep_spin__5A8Xa",securityNotice:"ConfirmationStep_securityNotice__SpvqX",redirectNotice:"ConfirmationStep_redirectNotice__CoqfD"}},3967:e=>{e.exports={orderSummary:"OrderSummary_orderSummary__Al7DB",orderItems:"OrderSummary_orderItems__vJsVE",orderItem:"OrderSummary_orderItem__FXDOc",itemImage:"OrderSummary_itemImage__CXmt9",placeholderImage:"OrderSummary_placeholderImage__e_olv",visible:"OrderSummary_visible__UzXqC",quantity:"OrderSummary_quantity__yzvTc",itemDetails:"OrderSummary_itemDetails__GJwZ_",itemName:"OrderSummary_itemName__bqPCA",itemVariant:"OrderSummary_itemVariant__JlRRz",itemOptions:"OrderSummary_itemOptions__QPoQ9",colorOption:"OrderSummary_colorOption__dng73",colorCircle:"OrderSummary_colorCircle__CabZL",itemPrice:"OrderSummary_itemPrice__Dc0jZ",discountSection:"OrderSummary_discountSection__JhQ2C",discountInput:"OrderSummary_discountInput__Dj6gk",discountCode:"OrderSummary_discountCode__hWzlh",applyButton:"OrderSummary_applyButton__98fda",orderTotals:"OrderSummary_orderTotals__iDnGc",totalLine:"OrderSummary_totalLine__p1NO5",discountAmount:"OrderSummary_discountAmount__zCMWX",grandTotal:"OrderSummary_grandTotal__HXncb",securityBadges:"OrderSummary_securityBadges__8S28i",badge:"OrderSummary_badge__n_yBw",badgeIcon:"OrderSummary_badgeIcon__nS_nY",loadingOverlay:"OrderSummary_loadingOverlay__OCdO_",spinner:"OrderSummary_spinner__oKbWI",spin:"OrderSummary_spin__sPrWa"}},5663:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>L});var s=t(5155),n=t(2115),c=t(4540),r=t(5695),i=t(4089);let a=[{id:1,name:"information",title:"checkout.steps.information",completed:!1,current:!0,accessible:!0},{id:2,name:"shipping",title:"checkout.steps.shipping",completed:!1,current:!1,accessible:!1},{id:3,name:"payment",title:"checkout.steps.payment",completed:!1,current:!1,accessible:!1},{id:4,name:"confirmation",title:"checkout.steps.confirmation",completed:!1,current:!1,accessible:!1}],l=[{id:"card",name:"Visa/Mastercard",type:"card",icon:"\uD83D\uDCB3",description:"checkout.payment.cardDescription"}],d=async(e,o)=>{let t=await fetch("".concat("http://localhost:8000/api/v1","/auth/addresses/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw console.error("Save API Error Response:",e),Error((()=>{try{return JSON.parse(e)}catch(o){return{message:e}}})().message||"HTTP error! status: ".concat(t.status))}return await t.json()},u=async e=>{let o=await fetch("".concat("http://localhost:8000/api/v1","/auth/addresses/"),{method:"GET",headers:{Authorization:"Bearer ".concat(e)}});if(!o.ok){let e=await o.text();throw console.error("API Error Response:",e),Error((()=>{try{return JSON.parse(e)}catch(o){return{message:e}}})().message||"HTTP error! status: ".concat(o.status))}let t=await o.json();return Array.isArray(t)?t:t&&"object"==typeof t&&Array.isArray(t.results)?t.results:[]},m=async(e,o)=>{let t=await fetch("".concat("http://localhost:8000/api/v1","/auth/addresses/").concat(e,"/"),{method:"DELETE",headers:{Authorization:"Bearer ".concat(o)}});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"HTTP error! status: ".concat(t.status))};var h=t(9493),p=t(167),_=t(5295),f=t(8334),v=t.n(f),x=t(9295),g=t.n(x);function j(e){let{checkoutData:o,updateCheckoutData:t,errors:c,isAuthenticated:r,userAddresses:i=[],isLoadingAddresses:a=!1,autoSaveInProgress:l=!1,onLoadSavedAddress:d,onDeleteAddress:u,selectedAddressId:m=null}=e,{t:h}=(0,_.useI18n)(),[p,f]=(0,n.useState)(!0),v=(e,s)=>{t({customer_info:{...o.customer_info,[e]:s}})},x=(e,s)=>{t({shipping_address:{...o.shipping_address,[e]:s}})},j=e=>{null==d||d(e),f(!1)},k=m&&!p,I=i.find(e=>e.id===m);return(0,s.jsxs)("div",{className:g().container,children:["      ",(0,s.jsxs)("div",{className:g().section,children:[(0,s.jsx)("h2",{className:g().sectionTitle,children:h("checkout.customerInfo.title")}),r&&(0,s.jsxs)("div",{className:g().authenticatedNotice,children:["✓ ",h("checkout.customerInfo.loggedIn"),l&&(0,s.jsxs)("div",{className:g().autoSaveStatus,children:["\uD83D\uDD04 ",h("checkout.customerInfo.saving")]})]}),"        ",r&&i.length>0&&(0,s.jsxs)("div",{className:g().savedAddressesSection,children:[(0,s.jsx)("h3",{className:g().savedAddressesTitle,children:h("checkout.customerInfo.savedAddresses")}),a?(0,s.jsx)("div",{className:g().loadingAddresses,children:h("checkout.customerInfo.loadingAddresses")}):(0,s.jsx)("div",{className:g().savedAddressesList,children:i.map(e=>(0,s.jsxs)("div",{className:"".concat(g().savedAddressItem," ").concat(m===e.id?g().selectedAddress:""),children:[(0,s.jsxs)("div",{className:g().savedAddressInfo,children:[(0,s.jsxs)("div",{className:g().savedAddressName,children:[e.recipient_name,e.is_default_shipping&&(0,s.jsx)("span",{className:g().defaultBadge,children:h("checkout.customerInfo.default")})]}),(0,s.jsxs)("div",{className:g().savedAddressText,children:[e.street_address,e.address_line_2&&", ".concat(e.address_line_2),",",e.city,", ",e.postal_code]})]}),(0,s.jsxs)("div",{className:g().savedAddressActions,children:["                      ",(0,s.jsx)("button",{type:"button",className:g().useSavedAddressBtn,onClick:()=>j(e),children:h("checkout.customerInfo.use")}),(0,s.jsx)("button",{type:"button",className:g().deleteSavedAddressBtn,onClick:()=>null==u?void 0:u(e.id),children:h("checkout.customerInfo.delete")})]})]},e.id))}),(0,s.jsxs)("button",{type:"button",className:g().addNewAddressBtn,onClick:()=>{t({shipping_address:{street_address:"",apartment:"",city:"",state:"",postal_code:"",country:"BY"}}),f(!0)},children:["+ ",h("checkout.customerInfo.addNewAddress")]})]}),"        ",k&&I&&(0,s.jsxs)("div",{className:g().selectedAddressDisplay,children:[(0,s.jsx)("div",{className:g().selectedAddressHeader,children:(0,s.jsx)("h3",{className:g().selectedAddressTitle,children:h("checkout.customerInfo.selectedAddress")})}),(0,s.jsxs)("div",{className:g().selectedAddressDetails,children:[(0,s.jsx)("div",{className:g().selectedAddressRow,children:(0,s.jsx)("strong",{children:I.recipient_name})}),(0,s.jsxs)("div",{className:g().selectedAddressRow,children:[I.street_address,I.address_line_2&&", ".concat(I.address_line_2)]}),(0,s.jsxs)("div",{className:g().selectedAddressRow,children:[I.city,", ",I.state_province," ",I.postal_code]}),I.phone_number&&(0,s.jsxs)("div",{className:g().selectedAddressRow,children:[h("checkout.customerInfo.phoneLabel"),": ",I.phone_number]})]})]}),(0,s.jsxs)("div",{className:g().formRow,children:[(0,s.jsxs)("div",{className:g().formGroup,children:["            ",(0,s.jsxs)("label",{htmlFor:"firstName",className:g().label,children:[h("checkout.customerInfo.firstName")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"firstName",value:o.customer_info.first_name,onChange:e=>v("first_name",e.target.value),className:"".concat(g().input," ").concat(c.first_name?g().inputError:""),placeholder:h("checkout.customerInfo.firstNamePlaceholder")}),c.first_name&&(0,s.jsx)("span",{className:g().errorText,children:c.first_name})]}),(0,s.jsxs)("div",{className:g().formGroup,children:["            ",(0,s.jsxs)("label",{htmlFor:"lastName",className:g().label,children:[h("checkout.customerInfo.lastName")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"lastName",value:o.customer_info.last_name,onChange:e=>v("last_name",e.target.value),className:"".concat(g().input," ").concat(c.last_name?g().inputError:""),placeholder:h("checkout.customerInfo.lastNamePlaceholder")}),c.last_name&&(0,s.jsx)("span",{className:g().errorText,children:c.last_name})]})]}),(0,s.jsxs)("div",{className:g().formRow,children:[(0,s.jsxs)("div",{className:g().formGroup,children:["            ",(0,s.jsxs)("label",{htmlFor:"email",className:g().label,children:[h("checkout.customerInfo.email")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsx)("input",{type:"email",id:"email",value:o.customer_info.email,onChange:e=>v("email",e.target.value),className:"".concat(g().input," ").concat(c.email?g().inputError:""),placeholder:h("checkout.customerInfo.emailPlaceholder")}),c.email&&(0,s.jsx)("span",{className:g().errorText,children:c.email})]}),(0,s.jsxs)("div",{className:g().formGroup,children:[(0,s.jsx)("label",{htmlFor:"phone",className:g().label,children:h("checkout.customerInfo.phone")}),(0,s.jsx)("input",{type:"tel",id:"phone",value:o.customer_info.phone,onChange:e=>v("phone",e.target.value),className:g().input,placeholder:h("checkout.customerInfo.phonePlaceholder")})]})]}),"      "]}),p&&(0,s.jsxs)("div",{className:g().section,children:["          ",(0,s.jsxs)("div",{className:g().addressFormHeader,children:[(0,s.jsx)("h2",{className:g().sectionTitle,children:h("checkout.customerInfo.shippingAddress")}),!k&&r&&(0,s.jsx)("div",{className:g().addressModeNote,children:h("checkout.customerInfo.addressNote")})]}),(0,s.jsxs)("div",{className:g().formGroup,children:["          ",(0,s.jsxs)("label",{htmlFor:"streetAddress",className:g().label,children:[h("checkout.customerInfo.streetAddress")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"streetAddress",value:o.shipping_address.street_address,onChange:e=>x("street_address",e.target.value),className:"".concat(g().input," ").concat(c.street_address?g().inputError:""),placeholder:h("checkout.customerInfo.streetAddressPlaceholder")}),c.street_address&&(0,s.jsx)("span",{className:g().errorText,children:c.street_address})]}),(0,s.jsxs)("div",{className:g().formGroup,children:["          ",(0,s.jsx)("label",{htmlFor:"apartment",className:g().label,children:h("checkout.customerInfo.apartment")}),(0,s.jsx)("input",{type:"text",id:"apartment",value:o.shipping_address.apartment,onChange:e=>x("apartment",e.target.value),className:g().input,placeholder:h("checkout.customerInfo.apartmentPlaceholder")})]}),(0,s.jsxs)("div",{className:g().formRow,children:[(0,s.jsxs)("div",{className:g().formGroup,children:["            ",(0,s.jsxs)("label",{htmlFor:"city",className:g().label,children:[h("checkout.customerInfo.city")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"city",value:o.shipping_address.city,onChange:e=>x("city",e.target.value),className:"".concat(g().input," ").concat(c.city?g().inputError:""),placeholder:h("checkout.customerInfo.cityPlaceholder")}),c.city&&(0,s.jsx)("span",{className:g().errorText,children:c.city})]}),(0,s.jsxs)("div",{className:g().formGroup,children:["            ",(0,s.jsx)("label",{htmlFor:"state",className:g().label,children:h("checkout.customerInfo.state")}),(0,s.jsx)("input",{type:"text",id:"state",value:o.shipping_address.state,onChange:e=>x("state",e.target.value),className:g().input,placeholder:h("checkout.customerInfo.statePlaceholder")})]})]}),(0,s.jsxs)("div",{className:g().formRow,children:[(0,s.jsxs)("div",{className:g().formGroup,children:[(0,s.jsxs)("label",{htmlFor:"postalCode",className:g().label,children:[h("checkout.customerInfo.postalCode")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"postalCode",value:o.shipping_address.postal_code,onChange:e=>x("postal_code",e.target.value),className:"".concat(g().input," ").concat(c.postal_code?g().inputError:""),placeholder:h("checkout.customerInfo.postalCodePlaceholder")}),c.postal_code&&(0,s.jsx)("span",{className:g().errorText,children:c.postal_code})]}),(0,s.jsxs)("div",{className:g().formGroup,children:["            ",(0,s.jsxs)("label",{htmlFor:"country",className:g().label,children:[h("checkout.customerInfo.country")," ",(0,s.jsx)("span",{className:g().required,children:"*"})]}),(0,s.jsxs)("select",{id:"country",value:o.shipping_address.country,onChange:e=>x("country",e.target.value),className:g().select,children:[(0,s.jsx)("option",{value:"AU",children:h("checkout.customerInfo.countries.australia")}),(0,s.jsx)("option",{value:"AT",children:h("checkout.customerInfo.countries.austria")}),(0,s.jsx)("option",{value:"AZ",children:h("checkout.customerInfo.countries.azerbaijan")}),(0,s.jsx)("option",{value:"AL",children:h("checkout.customerInfo.countries.albania")}),(0,s.jsx)("option",{value:"DZ",children:h("checkout.customerInfo.countries.algeria")}),(0,s.jsx)("option",{value:"AI",children:h("checkout.customerInfo.countries.anguilla")}),(0,s.jsx)("option",{value:"AO",children:h("checkout.customerInfo.countries.angola")}),(0,s.jsx)("option",{value:"AG",children:h("checkout.customerInfo.countries.antiguaAndBarbuda")}),(0,s.jsx)("option",{value:"AR",children:h("checkout.customerInfo.countries.argentina")}),(0,s.jsx)("option",{value:"AW",children:h("checkout.customerInfo.countries.aruba")}),(0,s.jsx)("option",{value:"AF",children:h("checkout.customerInfo.countries.afghanistan")}),(0,s.jsx)("option",{value:"BS",children:h("checkout.customerInfo.countries.bahamas")}),(0,s.jsx)("option",{value:"BD",children:h("checkout.customerInfo.countries.bangladesh")}),(0,s.jsx)("option",{value:"BB",children:h("checkout.customerInfo.countries.barbados")}),(0,s.jsx)("option",{value:"BH",children:h("checkout.customerInfo.countries.bahrain")}),(0,s.jsx)("option",{value:"BZ",children:h("checkout.customerInfo.countries.belize")}),(0,s.jsx)("option",{value:"BE",children:h("checkout.customerInfo.countries.belgium")}),(0,s.jsx)("option",{value:"BJ",children:h("checkout.customerInfo.countries.benin")}),(0,s.jsx)("option",{value:"BM",children:h("checkout.customerInfo.countries.bermuda")}),(0,s.jsx)("option",{value:"BQ",children:h("checkout.customerInfo.countries.bonaireSintEustatiusSaba")}),(0,s.jsx)("option",{value:"BG",children:h("checkout.customerInfo.countries.bulgaria")}),(0,s.jsx)("option",{value:"BO",children:h("checkout.customerInfo.countries.bolivia")}),(0,s.jsx)("option",{value:"BA",children:h("checkout.customerInfo.countries.bosniaHerzegovina")}),(0,s.jsx)("option",{value:"BW",children:h("checkout.customerInfo.countries.botswana")}),(0,s.jsx)("option",{value:"BR",children:h("checkout.customerInfo.countries.brazil")}),(0,s.jsx)("option",{value:"BN",children:h("checkout.customerInfo.countries.bruneiDarussalam")}),(0,s.jsx)("option",{value:"BF",children:h("checkout.customerInfo.countries.burkinaFaso")}),(0,s.jsx)("option",{value:"BI",children:h("checkout.customerInfo.countries.burundi")}),(0,s.jsx)("option",{value:"BT",children:h("checkout.customerInfo.countries.bhutan")}),(0,s.jsx)("option",{value:"VU",children:h("checkout.customerInfo.countries.vanuatu")}),(0,s.jsx)("option",{value:"VA",children:h("checkout.customerInfo.countries.vatican")}),(0,s.jsx)("option",{value:"GB",children:h("checkout.customerInfo.countries.unitedKingdom")}),(0,s.jsx)("option",{value:"VG",children:h("checkout.customerInfo.countries.virginIslands")}),(0,s.jsx)("option",{value:"GG",children:h("checkout.customerInfo.countries.guernsey")}),(0,s.jsx)("option",{value:"JE",children:h("checkout.customerInfo.countries.jersey")}),(0,s.jsx)("option",{value:"GI",children:h("checkout.customerInfo.countries.gibraltar")}),(0,s.jsx)("option",{value:"HU",children:h("checkout.customerInfo.countries.hungary")}),(0,s.jsx)("option",{value:"VE",children:h("checkout.customerInfo.countries.venezuela")}),(0,s.jsx)("option",{value:"VN",children:h("checkout.customerInfo.countries.vietnam")}),(0,s.jsx)("option",{value:"GA",children:h("checkout.customerInfo.countries.gabon")}),(0,s.jsx)("option",{value:"HT",children:h("checkout.customerInfo.countries.haiti")}),(0,s.jsx)("option",{value:"GY",children:h("checkout.customerInfo.countries.guyana")}),(0,s.jsx)("option",{value:"GM",children:h("checkout.customerInfo.countries.gambia")}),(0,s.jsx)("option",{value:"GH",children:h("checkout.customerInfo.countries.ghana")}),(0,s.jsx)("option",{value:"GT",children:h("checkout.customerInfo.countries.guatemala")}),(0,s.jsx)("option",{value:"GN",children:h("checkout.customerInfo.countries.guinea")}),(0,s.jsx)("option",{value:"DE",children:h("checkout.customerInfo.countries.germany")}),(0,s.jsx)("option",{value:"GD",children:h("checkout.customerInfo.countries.grenada")}),(0,s.jsx)("option",{value:"GR",children:h("checkout.customerInfo.countries.greece")}),(0,s.jsx)("option",{value:"GE",children:h("checkout.customerInfo.countries.georgia")}),(0,s.jsx)("option",{value:"DK",children:h("checkout.customerInfo.countries.denmark")}),(0,s.jsx)("option",{value:"GL",children:h("checkout.customerInfo.countries.greenland")}),(0,s.jsx)("option",{value:"FO",children:h("checkout.customerInfo.countries.faroeIslands")}),(0,s.jsx)("option",{value:"CD",children:h("checkout.customerInfo.countries.democraticRepublicCongo")}),(0,s.jsx)("option",{value:"DJ",children:h("checkout.customerInfo.countries.djibouti")}),(0,s.jsx)("option",{value:"DM",children:h("checkout.customerInfo.countries.dominica")}),(0,s.jsx)("option",{value:"DO",children:h("checkout.customerInfo.countries.dominicanRepublic")}),(0,s.jsx)("option",{value:"EG",children:h("checkout.customerInfo.countries.egypt")}),(0,s.jsx)("option",{value:"ZM",children:h("checkout.customerInfo.countries.zambia")}),(0,s.jsx)("option",{value:"ZW",children:h("checkout.customerInfo.countries.zimbabwe")}),(0,s.jsx)("option",{value:"IN",children:h("checkout.customerInfo.countries.india")}),(0,s.jsx)("option",{value:"ID",children:h("checkout.customerInfo.countries.indonesia")}),(0,s.jsx)("option",{value:"JO",children:h("checkout.customerInfo.countries.jordan")}),(0,s.jsx)("option",{value:"IQ",children:h("checkout.customerInfo.countries.iraq")}),(0,s.jsx)("option",{value:"IR",children:h("checkout.customerInfo.countries.iran")}),(0,s.jsx)("option",{value:"IE",children:h("checkout.customerInfo.countries.ireland")}),(0,s.jsx)("option",{value:"IS",children:h("checkout.customerInfo.countries.iceland")}),(0,s.jsx)("option",{value:"ES",children:h("checkout.customerInfo.countries.spain")}),(0,s.jsx)("option",{value:"IC",children:h("checkout.customerInfo.countries.canaryIslands")}),(0,s.jsx)("option",{value:"IT",children:h("checkout.customerInfo.countries.italy")}),(0,s.jsx)("option",{value:"YE",children:h("checkout.customerInfo.countries.yemen")}),(0,s.jsx)("option",{value:"CV",children:h("checkout.customerInfo.countries.capeVerde")}),(0,s.jsx)("option",{value:"KZ",children:h("checkout.customerInfo.countries.kazakhstan")}),(0,s.jsx)("option",{value:"KY",children:h("checkout.customerInfo.countries.caymanIslands")}),(0,s.jsx)("option",{value:"KH",children:h("checkout.customerInfo.countries.cambodia")}),(0,s.jsx)("option",{value:"CM",children:h("checkout.customerInfo.countries.cameroon")}),(0,s.jsx)("option",{value:"CA",children:h("checkout.customerInfo.countries.canada")}),(0,s.jsx)("option",{value:"QA",children:h("checkout.customerInfo.countries.qatar")}),(0,s.jsx)("option",{value:"KE",children:h("checkout.customerInfo.countries.kenya")}),(0,s.jsx)("option",{value:"CY",children:h("checkout.customerInfo.countries.cyprus")}),(0,s.jsx)("option",{value:"KG",children:h("checkout.customerInfo.countries.kyrgyzstan")}),(0,s.jsx)("option",{value:"KI",children:h("checkout.customerInfo.countries.kiribati")}),(0,s.jsx)("option",{value:"CN",children:h("checkout.customerInfo.countries.china")}),(0,s.jsx)("option",{value:"HK",children:h("checkout.customerInfo.countries.hongKong")}),(0,s.jsx)("option",{value:"TW",children:h("checkout.customerInfo.countries.taiwan")}),(0,s.jsx)("option",{value:"CO",children:h("checkout.customerInfo.countries.colombia")}),(0,s.jsx)("option",{value:"KM",children:h("checkout.customerInfo.countries.comorosIslands")}),(0,s.jsx)("option",{value:"CG",children:h("checkout.customerInfo.countries.republicCongo")}),(0,s.jsx)("option",{value:"KP",children:h("checkout.customerInfo.countries.northKorea")}),(0,s.jsx)("option",{value:"XK",children:h("checkout.customerInfo.countries.kosovo")}),(0,s.jsx)("option",{value:"CR",children:h("checkout.customerInfo.countries.costaRica")}),(0,s.jsx)("option",{value:"CI",children:h("checkout.customerInfo.countries.coteIvoire")}),(0,s.jsx)("option",{value:"CU",children:h("checkout.customerInfo.countries.cuba")}),(0,s.jsx)("option",{value:"KW",children:h("checkout.customerInfo.countries.kuwait")}),(0,s.jsx)("option",{value:"CW",children:h("checkout.customerInfo.countries.curacao")}),(0,s.jsx)("option",{value:"LA",children:h("checkout.customerInfo.countries.laos")}),(0,s.jsx)("option",{value:"LV",children:h("checkout.customerInfo.countries.latvia")}),(0,s.jsx)("option",{value:"LS",children:h("checkout.customerInfo.countries.lesotho")}),(0,s.jsx)("option",{value:"LR",children:h("checkout.customerInfo.countries.liberia")}),(0,s.jsx)("option",{value:"LB",children:h("checkout.customerInfo.countries.lebanon")}),(0,s.jsx)("option",{value:"LY",children:h("checkout.customerInfo.countries.libya")}),(0,s.jsx)("option",{value:"LT",children:h("checkout.customerInfo.countries.lithuania")}),(0,s.jsx)("option",{value:"LI",children:h("checkout.customerInfo.countries.liechtenstein")}),(0,s.jsx)("option",{value:"LU",children:h("checkout.customerInfo.countries.luxembourg")}),(0,s.jsx)("option",{value:"MU",children:h("checkout.customerInfo.countries.mauritius")}),(0,s.jsx)("option",{value:"MR",children:h("checkout.customerInfo.countries.mauritania")}),(0,s.jsx)("option",{value:"MG",children:h("checkout.customerInfo.countries.madagascar")}),(0,s.jsx)("option",{value:"MO",children:h("checkout.customerInfo.countries.macao")}),(0,s.jsx)("option",{value:"MK",children:h("checkout.customerInfo.countries.northMacedonia")}),(0,s.jsx)("option",{value:"MW",children:h("checkout.customerInfo.countries.malawi")}),(0,s.jsx)("option",{value:"MY",children:h("checkout.customerInfo.countries.malaysia")}),(0,s.jsx)("option",{value:"ML",children:h("checkout.customerInfo.countries.mali")}),(0,s.jsx)("option",{value:"MV",children:h("checkout.customerInfo.countries.maldives")}),(0,s.jsx)("option",{value:"MT",children:h("checkout.customerInfo.countries.malta")}),(0,s.jsx)("option",{value:"MA",children:h("checkout.customerInfo.countries.morocco")}),(0,s.jsx)("option",{value:"MX",children:h("checkout.customerInfo.countries.mexico")}),(0,s.jsx)("option",{value:"MZ",children:h("checkout.customerInfo.countries.mozambique")}),(0,s.jsx)("option",{value:"MD",children:h("checkout.customerInfo.countries.moldova")}),(0,s.jsx)("option",{value:"MC",children:h("checkout.customerInfo.countries.monaco")}),(0,s.jsx)("option",{value:"MN",children:h("checkout.customerInfo.countries.mongolia")}),(0,s.jsx)("option",{value:"MM",children:h("checkout.customerInfo.countries.myanmar")}),(0,s.jsx)("option",{value:"NA",children:h("checkout.customerInfo.countries.namibia")}),(0,s.jsx)("option",{value:"NL",children:h("checkout.customerInfo.countries.netherlands")}),(0,s.jsx)("option",{value:"NP",children:h("checkout.customerInfo.countries.nepal")}),(0,s.jsx)("option",{value:"NE",children:h("checkout.customerInfo.countries.niger")}),(0,s.jsx)("option",{value:"NG",children:h("checkout.customerInfo.countries.nigeria")}),(0,s.jsx)("option",{value:"NI",children:h("checkout.customerInfo.countries.nicaragua")}),(0,s.jsx)("option",{value:"NZ",children:h("checkout.customerInfo.countries.newZealand")}),(0,s.jsx)("option",{value:"NC",children:h("checkout.customerInfo.countries.newCaledonia")}),(0,s.jsx)("option",{value:"NO",children:h("checkout.customerInfo.countries.norway")}),(0,s.jsx)("option",{value:"AE",children:h("checkout.customerInfo.countries.unitedArabEmirates")}),(0,s.jsx)("option",{value:"OM",children:h("checkout.customerInfo.countries.oman")}),(0,s.jsx)("option",{value:"PK",children:h("checkout.customerInfo.countries.pakistan")}),(0,s.jsx)("option",{value:"PA",children:h("checkout.customerInfo.countries.panama")}),(0,s.jsx)("option",{value:"PG",children:h("checkout.customerInfo.countries.papuaNewGuinea")}),(0,s.jsx)("option",{value:"PY",children:h("checkout.customerInfo.countries.paraguay")}),(0,s.jsx)("option",{value:"PE",children:h("checkout.customerInfo.countries.peru")}),(0,s.jsx)("option",{value:"PL",children:h("checkout.customerInfo.countries.poland")}),(0,s.jsx)("option",{value:"PT",children:h("checkout.customerInfo.countries.portugal")}),(0,s.jsx)("option",{value:"RU",children:h("checkout.customerInfo.countries.russianFederation")}),(0,s.jsx)("option",{value:"RW",children:h("checkout.customerInfo.countries.rwanda")}),(0,s.jsx)("option",{value:"RO",children:h("checkout.customerInfo.countries.romania")}),(0,s.jsx)("option",{value:"SV",children:h("checkout.customerInfo.countries.salvador")}),(0,s.jsx)("option",{value:"WS",children:h("checkout.customerInfo.countries.samoa")}),(0,s.jsx)("option",{value:"SM",children:h("checkout.customerInfo.countries.sanMarino")}),(0,s.jsx)("option",{value:"ST",children:h("checkout.customerInfo.countries.saoTomeAndPrincipe")}),(0,s.jsx)("option",{value:"SA",children:h("checkout.customerInfo.countries.saudiArabia")}),(0,s.jsx)("option",{value:"SZ",children:h("checkout.customerInfo.countries.eswatini")}),(0,s.jsx)("option",{value:"SC",children:h("checkout.customerInfo.countries.seychelles")}),(0,s.jsx)("option",{value:"SN",children:h("checkout.customerInfo.countries.senegal")}),(0,s.jsx)("option",{value:"VC",children:h("checkout.customerInfo.countries.stVincentAndGrenadines")}),(0,s.jsx)("option",{value:"KN",children:h("checkout.customerInfo.countries.saintKittsAndNevis")}),(0,s.jsx)("option",{value:"LC",children:h("checkout.customerInfo.countries.stLucia")}),(0,s.jsx)("option",{value:"MF",children:h("checkout.customerInfo.countries.saintMartin")}),(0,s.jsx)("option",{value:"RS",children:h("checkout.customerInfo.countries.serbia")}),(0,s.jsx)("option",{value:"SG",children:h("checkout.customerInfo.countries.singapore")}),(0,s.jsx)("option",{value:"SY",children:h("checkout.customerInfo.countries.syrianArabRepublic")}),(0,s.jsx)("option",{value:"SK",children:h("checkout.customerInfo.countries.slovakia")}),(0,s.jsx)("option",{value:"SI",children:h("checkout.customerInfo.countries.slovenia")}),(0,s.jsx)("option",{value:"SB",children:h("checkout.customerInfo.countries.solomonIsland")}),(0,s.jsx)("option",{value:"SD",children:h("checkout.customerInfo.countries.sudan")}),(0,s.jsx)("option",{value:"SR",children:h("checkout.customerInfo.countries.surinam")}),(0,s.jsx)("option",{value:"US",children:h("checkout.customerInfo.countries.usa")}),(0,s.jsx)("option",{value:"VI",children:h("checkout.customerInfo.countries.usVirginIslands")}),(0,s.jsx)("option",{value:"SL",children:h("checkout.customerInfo.countries.sierraLeone")}),(0,s.jsx)("option",{value:"TJ",children:h("checkout.customerInfo.countries.tajikistan")}),(0,s.jsx)("option",{value:"TH",children:h("checkout.customerInfo.countries.thailand")}),(0,s.jsx)("option",{value:"TZ",children:h("checkout.customerInfo.countries.tanzania")}),(0,s.jsx)("option",{value:"TC",children:h("checkout.customerInfo.countries.turksAndCaicosIslands")}),(0,s.jsx)("option",{value:"TG",children:h("checkout.customerInfo.countries.togoleseRepublic")}),(0,s.jsx)("option",{value:"TO",children:h("checkout.customerInfo.countries.tonga")}),(0,s.jsx)("option",{value:"TT",children:h("checkout.customerInfo.countries.trinidadAndTobago")}),(0,s.jsx)("option",{value:"TN",children:h("checkout.customerInfo.countries.tunisia")}),(0,s.jsx)("option",{value:"TM",children:h("checkout.customerInfo.countries.turkmenistan")}),(0,s.jsx)("option",{value:"TR",children:h("checkout.customerInfo.countries.turkey")}),(0,s.jsx)("option",{value:"UG",children:h("checkout.customerInfo.countries.uganda")}),(0,s.jsx)("option",{value:"UZ",children:h("checkout.customerInfo.countries.uzbekistan")}),(0,s.jsx)("option",{value:"UA",children:h("checkout.customerInfo.countries.ukraine")}),(0,s.jsx)("option",{value:"UY",children:h("checkout.customerInfo.countries.uruguay")}),(0,s.jsx)("option",{value:"FJ",children:h("checkout.customerInfo.countries.fiji")}),(0,s.jsx)("option",{value:"PH",children:h("checkout.customerInfo.countries.philippines")}),(0,s.jsx)("option",{value:"FI",children:h("checkout.customerInfo.countries.finland")}),(0,s.jsx)("option",{value:"FR",children:h("checkout.customerInfo.countries.france")}),(0,s.jsx)("option",{value:"PF",children:h("checkout.customerInfo.countries.frenchPolynesia")}),(0,s.jsx)("option",{value:"HR",children:h("checkout.customerInfo.countries.croatia")}),(0,s.jsx)("option",{value:"CF",children:h("checkout.customerInfo.countries.centralAfricanRepublic")}),(0,s.jsx)("option",{value:"TD",children:h("checkout.customerInfo.countries.chad")}),(0,s.jsx)("option",{value:"ME",children:h("checkout.customerInfo.countries.montenegro")}),(0,s.jsx)("option",{value:"CZ",children:h("checkout.customerInfo.countries.czechRepublic")}),(0,s.jsx)("option",{value:"CL",children:h("checkout.customerInfo.countries.chile")}),(0,s.jsx)("option",{value:"CH",children:h("checkout.customerInfo.countries.switzerland")}),(0,s.jsx)("option",{value:"SE",children:h("checkout.customerInfo.countries.sweden")}),(0,s.jsx)("option",{value:"LK",children:h("checkout.customerInfo.countries.sriLanka")}),(0,s.jsx)("option",{value:"EC",children:h("checkout.customerInfo.countries.ecuador")}),(0,s.jsx)("option",{value:"GQ",children:h("checkout.customerInfo.countries.equatorialGuinea")}),(0,s.jsx)("option",{value:"ER",children:h("checkout.customerInfo.countries.eritrea")}),(0,s.jsx)("option",{value:"EE",children:h("checkout.customerInfo.countries.estonia")}),(0,s.jsx)("option",{value:"ET",children:h("checkout.customerInfo.countries.ethiopia")}),(0,s.jsx)("option",{value:"ZA",children:h("checkout.customerInfo.countries.southAfrica")}),(0,s.jsx)("option",{value:"JM",children:h("checkout.customerInfo.countries.jamaica")}),(0,s.jsx)("option",{value:"JP",children:h("checkout.customerInfo.countries.japan")})]})]})]}),r&&(0,s.jsx)("div",{className:g().checkbox,children:(0,s.jsxs)("label",{className:g().checkboxLabel,children:[(0,s.jsx)("input",{type:"checkbox",checked:o.save_address,onChange:e=>t({save_address:e.target.checked}),className:g().checkboxInput}),(0,s.jsx)("span",{className:g().checkboxMark}),h("checkout.customerInfo.saveAddress")]})})]})]})}var k=t(7251),I=t.n(k);function y(e){let{checkoutData:o,updateCheckoutData:t,shippingMethods:c,errors:r}=e,{t:i}=(0,_.useI18n)(),[a,l]=(0,n.useState)(null),d=e=>{t({shipping_method:e}),l(e.id),setTimeout(()=>l(null),600)},u=e=>{let o=e.estimated_delivery_min_days||0,t=e.estimated_delivery_max_days||0;return 0===o&&0===t?i("checkout.shipping.deliveryTime.today"):o===t?i("checkout.shipping.deliveryTime.days",{count:o}):i("checkout.shipping.deliveryTime.range",{min:o,max:t})},m=e=>0===e?i("checkout.shipping.free"):"".concat(e.toFixed(2)," EUR");return(0,s.jsxs)("div",{className:I().container,children:[(0,s.jsx)("h2",{className:I().title,children:i("checkout.shipping.title")}),(0,s.jsx)("div",{className:I().shippingMethods,children:c.filter(e=>e.is_active).map(e=>{var t;let n=(null==(t=o.shipping_method)?void 0:t.id)===e.id;return(0,s.jsx)("div",{className:"".concat(I().shippingMethod," ").concat(n?I().selected:""," ").concat(a===e.id?I().justSelected:""),onClick:()=>d(e),children:(0,s.jsx)("div",{className:I().methodContent,children:(0,s.jsxs)("div",{className:I().methodHeader,children:[(0,s.jsxs)("div",{className:I().radioButton,children:[(0,s.jsx)("input",{type:"radio",name:"shipping_method",checked:n,onChange:()=>d(e),className:I().radioInput}),(0,s.jsx)("span",{className:I().radioMark})]}),(0,s.jsxs)("div",{className:I().methodInfo,children:[(0,s.jsx)("div",{className:I().methodName,children:e.name}),(0,s.jsx)("div",{className:I().methodDescription,children:e.description})]}),(0,s.jsxs)("div",{className:I().methodPricing,children:[(0,s.jsx)("div",{className:I().methodPrice,children:m(e.cost)}),(0,s.jsx)("div",{className:I().deliveryTime,children:u(e)})]})]})})},e.id)})}),"      ",r.shipping_method&&(0,s.jsx)("div",{className:I().errorMessage,children:r.shipping_method}),"      ",(0,s.jsxs)("div",{className:I().shippingInfo,children:[(0,s.jsx)("div",{className:I().infoIcon,children:"ℹ️"}),(0,s.jsx)("div",{className:I().infoText,children:i("checkout.shipping.info")})]})]})}var S=t(8601),N=t.n(S);function C(e){let{checkoutData:o,updateCheckoutData:t,paymentMethods:n,errors:c,orderSummary:r}=e,{t:i}=(0,_.useI18n)(),a=e=>{t({payment_method:e})};return(0,s.jsxs)("div",{className:N().container,children:[(0,s.jsx)("h2",{className:N().title,children:i("checkout.payment.title")}),(0,s.jsx)("div",{className:N().paymentMethods,children:n.map(e=>{var t,n;return(0,s.jsx)("div",{className:"".concat(N().paymentMethod," ").concat((null==(t=o.payment_method)?void 0:t.id)===e.id?N().selected:""),onClick:()=>a(e),children:(0,s.jsxs)("div",{className:N().methodContent,children:[(0,s.jsxs)("div",{className:N().radioButton,children:[(0,s.jsx)("input",{type:"radio",name:"payment_method",checked:(null==(n=o.payment_method)?void 0:n.id)===e.id,onChange:()=>a(e),className:N().radioInput}),(0,s.jsx)("span",{className:N().radioMark})]}),(0,s.jsx)("div",{className:N().methodIcon,children:e.icon}),(0,s.jsxs)("div",{className:N().methodInfo,children:[(0,s.jsx)("div",{className:N().methodName,children:e.name}),e.description&&(0,s.jsx)("div",{className:N().methodDescription,children:i(e.description)})]})]})},e.id)})}),c.payment_method&&(0,s.jsx)("div",{className:N().errorMessage,children:c.payment_method}),"      ",o.payment_method&&(0,s.jsxs)("div",{className:N().paymentInstructions,children:[(0,s.jsx)("div",{className:N().instructionsIcon,children:"\uD83D\uDD12"}),(0,s.jsx)("div",{className:N().instructionsText,children:i("checkout.payment.instructions")})]}),c.payment_method&&(0,s.jsx)("div",{className:N().errorMessage,children:c.payment_method})]})}var b=t(3792),E=t.n(b);let A=e=>{let{checkoutData:o,orderSummary:t,onPlaceOrder:c,isLoading:r=!1}=e,{t:i}=(0,_.useI18n)(),[a,l]=(0,n.useState)(!1),[d,u]=(0,n.useState)(!1),{customer_info:m,shipping_address:h,shipping_method:p,payment_method:f}=o;return(0,s.jsxs)("div",{className:E().confirmationStep,children:[(0,s.jsx)("h2",{children:i("checkout.confirmation.title")}),(0,s.jsx)("p",{className:E().reviewText,children:i("checkout.confirmation.reviewText")}),(0,s.jsxs)("div",{className:E().confirmationSections,children:["        ",(0,s.jsxs)("div",{className:E().section,children:[(0,s.jsx)("h3",{children:i("checkout.confirmation.customerInfo.title")}),(0,s.jsxs)("div",{className:E().sectionContent,children:[(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[i("checkout.confirmation.customerInfo.name"),":"]})," ",null==m?void 0:m.first_name," ",null==m?void 0:m.last_name]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[i("checkout.confirmation.customerInfo.email"),":"]})," ",null==m?void 0:m.email]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[i("checkout.confirmation.customerInfo.phone"),":"]})," ",null==m?void 0:m.phone]})]})]}),"        ",(0,s.jsxs)("div",{className:E().section,children:[(0,s.jsx)("h3",{children:i("checkout.confirmation.shippingInfo.title")}),(0,s.jsxs)("div",{className:E().sectionContent,children:[(0,s.jsx)("p",{children:(0,s.jsxs)("strong",{children:[i("checkout.confirmation.shippingInfo.address"),":"]})}),(0,s.jsx)("p",{children:(e=>{if(!e)return"";let o=[];return e.street_address&&o.push(e.street_address),e.apartment&&o.push(e.apartment),e.city&&o.push(e.city),e.state&&o.push(e.state),e.postal_code&&o.push(e.postal_code),e.country&&o.push(e.country),o.join(", ")})(h)}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[i("checkout.confirmation.shippingInfo.method"),":"]})," ",null==p?void 0:p.name]}),(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[i("checkout.confirmation.shippingInfo.deliveryTime"),":"]})," ",(null==p?void 0:p.estimated_delivery_min_days)?(e=>1===e?i("checkout.confirmation.deliveryTime.oneDay"):e<=7?i("checkout.confirmation.deliveryTime.days",{days:e}):e<=14?i("checkout.confirmation.deliveryTime.weeks",{weeks:"1-2"}):i("checkout.confirmation.deliveryTime.weeks",{weeks:Math.ceil(e/7)}))(p.estimated_delivery_min_days):"N/A"]}),p&&p.cost>0&&(0,s.jsxs)("p",{children:[(0,s.jsxs)("strong",{children:[i("checkout.confirmation.shippingInfo.cost"),":"]})," ",p.cost.toFixed(2)," EUR"]})]}),"        "]}),"        ",(0,s.jsxs)("div",{className:E().section,children:[(0,s.jsx)("h3",{children:i("checkout.confirmation.paymentMethod.title")}),(0,s.jsx)("div",{className:E().sectionContent,children:(0,s.jsxs)("div",{className:E().paymentMethod,children:[(0,s.jsxs)("span",{className:E().paymentIcon,children:[(null==f?void 0:f.type)==="card"&&"\uD83D\uDCB3",(null==f?void 0:f.type)==="paypal"&&"\uD83C\uDD7F️",(null==f?void 0:f.type)==="apple_pay"&&"\uD83C\uDF4E",(null==f?void 0:f.type)==="google_pay"&&"\uD83D\uDD0D",(null==f?void 0:f.type)==="bank_transfer"&&"\uD83C\uDFE6"]}),(0,s.jsx)("span",{children:null==f?void 0:f.name})]})})]}),(0,s.jsxs)("div",{className:E().section,children:[(0,s.jsx)("h3",{children:i("checkout.confirmation.orderItems.title")}),(0,s.jsx)("div",{className:E().orderItems,children:t.items.map(e=>(0,s.jsxs)("div",{className:E().orderItem,children:[(0,s.jsxs)("div",{className:E().itemInfo,children:[(0,s.jsx)("h4",{children:e.name}),(0,s.jsxs)("p",{children:[i("checkout.confirmation.orderItems.quantity"),": ",e.quantity]}),e.variant&&(0,s.jsxs)("p",{className:E().variant,children:[i("checkout.confirmation.orderItems.variant"),": ",e.variant]})]}),(0,s.jsxs)("div",{className:E().itemPrice,children:[(e.price*e.quantity).toFixed(2)," EUR"]})]},e.id))})]}),(0,s.jsxs)("div",{className:E().section,children:[(0,s.jsx)("h3",{children:i("checkout.confirmation.orderTotal.title")}),(0,s.jsxs)("div",{className:E().orderTotals,children:[(0,s.jsxs)("div",{className:E().totalLine,children:[(0,s.jsxs)("span",{children:[i("checkout.confirmation.orderTotal.subtotal"),":"]}),(0,s.jsxs)("span",{children:[t.subtotal.toFixed(2)," EUR"]})]}),t.shipping_cost>0&&(0,s.jsxs)("div",{className:E().totalLine,children:[(0,s.jsxs)("span",{children:[i("checkout.confirmation.orderTotal.shipping"),":"]}),(0,s.jsxs)("span",{children:[t.shipping_cost.toFixed(2)," EUR"]})]}),t.discount_amount>0&&(0,s.jsxs)("div",{className:E().totalLine,children:[(0,s.jsxs)("span",{children:[i("checkout.confirmation.orderTotal.discount"),":"]}),(0,s.jsxs)("span",{children:["-",t.discount_amount.toFixed(2)," EUR"]})]}),(0,s.jsxs)("div",{className:"".concat(E().totalLine," ").concat(E().grandTotal),children:[(0,s.jsxs)("span",{children:[i("checkout.confirmation.orderTotal.total"),":"]}),(0,s.jsxs)("span",{children:[t.total_amount.toFixed(2)," EUR"]})]})]})]})]}),(0,s.jsxs)("div",{className:E().terms,children:[(0,s.jsxs)("label",{className:E().termsLabel,children:[(0,s.jsx)("input",{type:"checkbox",checked:a,onChange:e=>{l(e.target.checked),e.target.checked&&u(!1)},required:!0}),(0,s.jsxs)("span",{children:[i("checkout.confirmation.terms.agree")," ",(0,s.jsx)("a",{href:"/terms",target:"_blank",children:i("checkout.confirmation.terms.termsLink")})," ",i("checkout.confirmation.terms.and")," ",(0,s.jsx)("a",{href:"/privacy",target:"_blank",children:i("checkout.confirmation.terms.privacyLink")})]})]}),d&&(0,s.jsx)("div",{className:E().termsError,children:i("checkout.confirmation.terms.error")})]}),(0,s.jsxs)("div",{className:E().placeOrderSection,children:[(0,s.jsx)("button",{type:"button",onClick:()=>{if(console.log("=== PLACE ORDER BUTTON CLICKED ==="),console.log("Terms agreed:",a),console.log("Is loading:",r),!a){console.log("Terms not agreed, showing error"),u(!0);return}console.log("Calling onPlaceOrder..."),c()},disabled:r||!a,className:"".concat(E().placeOrderButton," ").concat(a?"":E().disabled),children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:E().spinner}),i("checkout.confirmation.button.loading")]}):i("checkout.confirmation.button.placeOrder",{amount:t.total_amount.toFixed(2)})}),(0,s.jsx)("p",{className:E().redirectNotice,children:i("checkout.confirmation.redirectNotice")})]}),(0,s.jsx)("div",{className:E().securityNotice,children:(0,s.jsxs)("p",{children:["\uD83D\uDD12 ",i("checkout.confirmation.securityNotice")]})})]})};var R=t(3967),T=t.n(R);let w=e=>{let{orderSummary:o,isLoading:t=!1}=e,{t:n}=(0,_.useI18n)();return(0,s.jsxs)("div",{className:T().orderSummary,children:[(0,s.jsx)("h3",{children:n("checkout.summary.title")}),(0,s.jsx)("div",{className:T().orderItems,children:o.items.map(e=>(0,s.jsxs)("div",{className:T().orderItem,children:["            ",(0,s.jsxs)("div",{className:T().itemImage,children:[e.image?(0,s.jsx)("img",{src:e.image,alt:e.name,onError:e=>{var o;e.currentTarget.style.display="none",null==(o=e.currentTarget.nextElementSibling)||o.classList.add(T().visible)}}):null,(0,s.jsx)("div",{className:"".concat(T().placeholderImage," ").concat(e.image?"":T().visible),children:(0,s.jsx)("span",{children:"\uD83D\uDCE6"})}),(0,s.jsx)("span",{className:T().quantity,children:e.quantity})]}),(0,s.jsxs)("div",{className:T().itemDetails,children:[(0,s.jsx)("h4",{className:T().itemName,children:e.name}),e.variant&&(0,s.jsx)("p",{className:T().itemVariant,children:e.variant}),"              ",(e.color||e.size)&&(0,s.jsxs)("p",{className:T().itemOptions,children:[e.color&&(0,s.jsxs)("span",{className:T().colorOption,children:[e.colorCode&&(0,s.jsx)("span",{className:T().colorCircle,style:{backgroundColor:e.colorCode},title:e.color}),e.color]}),e.size&&(0,s.jsxs)("span",{children:[n("checkout.summary.size"),": ",e.size]})]})]}),(0,s.jsxs)("div",{className:T().itemPrice,children:[(e.price*e.quantity).toFixed(2)," EUR"]})]},e.id))}),"      ",(0,s.jsxs)("div",{className:T().orderTotals,children:[(0,s.jsxs)("div",{className:T().totalLine,children:[(0,s.jsx)("span",{children:n("checkout.summary.subtotal")}),(0,s.jsxs)("span",{children:[o.subtotal.toFixed(2)," EUR"]})]}),o.shipping_cost>0&&(0,s.jsxs)("div",{className:T().totalLine,children:[(0,s.jsx)("span",{children:n("checkout.summary.shipping")}),(0,s.jsxs)("span",{children:[o.shipping_cost.toFixed(2)," EUR"]})]}),o.discount_amount>0&&(0,s.jsxs)("div",{className:T().totalLine,children:[(0,s.jsx)("span",{children:n("checkout.summary.discount")}),(0,s.jsxs)("span",{className:T().discountAmount,children:["-",o.discount_amount.toFixed(2)," EUR"]})]}),(0,s.jsxs)("div",{className:"".concat(T().totalLine," ").concat(T().grandTotal),children:[(0,s.jsx)("span",{children:n("checkout.summary.total")}),(0,s.jsxs)("span",{children:[o.total_amount.toFixed(2)," EUR"]})]})]}),"      ",(0,s.jsxs)("div",{className:T().securityBadges,children:[(0,s.jsxs)("div",{className:T().badge,children:[(0,s.jsx)("span",{className:T().badgeIcon,children:"\uD83D\uDD12"}),(0,s.jsx)("span",{children:n("checkout.secureCheckout")})]}),(0,s.jsxs)("div",{className:T().badge,children:[(0,s.jsx)("span",{className:T().badgeIcon,children:"\uD83D\uDE9A"}),(0,s.jsx)("span",{children:n("checkout.summary.freeReturns")})]}),(0,s.jsxs)("div",{className:T().badge,children:[(0,s.jsx)("span",{className:T().badgeIcon,children:"\uD83D\uDCDE"}),(0,s.jsx)("span",{children:n("checkout.summary.support")})]})]}),"      ",t&&(0,s.jsxs)("div",{className:T().loadingOverlay,children:[(0,s.jsx)("div",{className:T().spinner}),(0,s.jsx)("p",{children:n("checkout.summary.updating")})]})]})};var O=t(1230),D=t.n(O);function P(e){let{steps:o,currentStep:t,onStepClick:n}=e,{t:c}=(0,_.useI18n)();return(0,s.jsx)("div",{className:D().stepsContainer,children:(0,s.jsx)("div",{className:D().steps,children:o.map((e,r)=>(0,s.jsxs)("div",{className:"".concat(D().step," ").concat(e.completed?D().completed:""," ").concat(e.current?D().current:""," ").concat(!1===e.accessible?D().disabled:""),onClick:()=>{(!1!==e.accessible||e.id<=t)&&n(e.id)},style:{cursor:!1===e.accessible&&e.id>t?"not-allowed":"pointer",opacity:!1===e.accessible&&e.id>t?.5:1},children:[(0,s.jsx)("div",{className:D().stepNumber,children:e.completed?(0,s.jsx)("span",{className:D().checkmark,children:"✓"}):(0,s.jsx)("span",{children:e.id})}),(0,s.jsx)("div",{className:D().stepLabel,children:c(e.title)}),r<o.length-1&&(0,s.jsx)("div",{className:"".concat(D().connector," ").concat(e.completed?D().connectorCompleted:"")})]},e.id))})})}function L(){let{t:e}=(0,_.useI18n)(),o=(0,r.useRouter)(),t=(0,c.wA)(),f=(0,r.useSearchParams)(),{items:x,cartId:g}=(0,c.d4)(e=>e.cart),{user:k,isAuthenticated:I}=(0,c.d4)(e=>e.auth),[S,N]=(0,n.useState)(!1),[b,E]=(0,n.useState)(null),[R,T]=(0,n.useState)(null),[O,D]=(0,n.useState)(!1),[L,M]=(0,n.useState)([]),[B,U]=(0,n.useState)(!1),[F,G]=(0,n.useState)(!1),[z,q]=(0,n.useState)(null);(0,n.useEffect)(()=>{D(!0)},[]),(0,n.useEffect)(()=>{if(O&&f)if("true"===f.get("buyNow")){N(!0),E({id:parseInt(f.get("productId")||"0"),name:f.get("productName")||"",slug:f.get("productSlug")||"",price:parseFloat(f.get("price")||"0"),quantity:parseInt(f.get("quantity")||"1"),variantId:f.get("variantId")?parseInt(f.get("variantId")):void 0,image:f.get("image")||"",color:f.get("color")||void 0,colorCode:f.get("colorCode")||void 0,size:f.get("size")||void 0});let e=f.get("buyNowLink");console.log("Buy Now Link from URL params:",e),T(e)}else 0===x.length&&o.push("/cart")},[O,f,x,o]);let[K,H]=(0,n.useState)(1),[X,W]=(0,n.useState)(a),[Z,V]=(0,n.useState)(!1),[Y,J]=(0,n.useState)({}),[Q,$]=(0,n.useState)({customer_info:{first_name:"",last_name:"",email:"",phone:""},shipping_address:{street_address:"",apartment:"",city:"",state:"",postal_code:"",country:"BY"},save_address:!1,shipping_method:null,payment_method:null,customer_notes:""}),[ee,eo]=(0,n.useState)([{id:1,name:e("checkout.shipping.standardShipping"),description:e("checkout.shipping.standardDescription"),cost:10,estimated_delivery_min_days:5,estimated_delivery_max_days:14,is_active:!0}]);(0,n.useEffect)(()=>{I&&k&&O&&$(e=>({...e,customer_info:{...e.customer_info,first_name:k.first_name||"",last_name:k.last_name||"",email:k.email||"",phone:k.phone_number||""}}))},[I,k,O]),(0,n.useEffect)(()=>{O&&$(e=>{let o={};return(e.shipping_method||1!==ee.length||(o.shipping_method=ee[0]),e.payment_method||1!==l.length||(o.payment_method=l[0]),Object.keys(o).length>0)?{...e,...o}:e})},[O,ee]);let et=async()=>{if(I&&k){U(!0);try{let e=localStorage.getItem("access_token");if(e){let o=await u(e),t=Array.isArray(o)?o:[];M(t)}}catch(e){console.error("Failed to load user addresses:",e),M([])}finally{U(!1)}}};(0,n.useEffect)(()=>{I&&k&&O&&et()},[I,k,O]);let es=(()=>{var e;let o=S&&b?[b]:x,t=o.reduce((e,o)=>e+o.price*o.quantity,0),s=(null==(e=Q.shipping_method)?void 0:e.cost)||0;return{subtotal:t,shipping_cost:s,tax_amount:0,discount_amount:0,total_amount:t+s-0,items:o.map((e,o)=>({id:o+1,product_id:e.id,variant_id:e.variantId,name:e.name,price:e.price,quantity:e.quantity,image:e.image,color:e.color,colorCode:e.colorCode,size:e.size,variant:e.variantId?"".concat(e.color||""," ").concat(e.size||"").trim():void 0}))}})(),en=(0,n.useCallback)(o=>{let t={};switch(o){case 1:Q.customer_info.first_name||(t.first_name=e("checkout.validation.firstNameRequired")),Q.customer_info.last_name||(t.last_name=e("checkout.validation.lastNameRequired")),Q.customer_info.email||(t.email=e("checkout.validation.emailRequired")),Q.shipping_address.street_address||(t.street_address=e("checkout.validation.addressRequired")),Q.shipping_address.city||(t.city=e("checkout.validation.cityRequired")),Q.shipping_address.postal_code||(t.postal_code=e("checkout.validation.postalCodeRequired"));break;case 2:Q.shipping_method||(t.shipping_method=e("checkout.validation.shippingMethodRequired"));break;case 3:Q.payment_method||(t.payment_method=e("checkout.validation.paymentMethodRequired"))}return 0===Object.keys(t).length},[Q]),ec=(0,n.useCallback)(e=>{for(let o=1;o<e;o++)if(!en(o))return!1;return!0},[en]),er=(0,n.useCallback)(e=>{W(o=>o.map((o,t)=>{let s=t+1,n=s<e,c=s===e,r=1===s;return s>1&&(r=ec(s)),{...o,completed:n,current:c,accessible:r}}))},[ec]);(0,n.useEffect)(()=>{O&&er(K)},[Q.customer_info,Q.shipping_address,Q.shipping_method,Q.payment_method,K,O,er]);let ei=()=>{K<4&&H(K+1)},ea=()=>{K>1&&H(K-1)},el=e=>{$(o=>({...o,...e}))},ed=()=>{let o=en(K);if(!o){let o={};switch(K){case 1:Q.customer_info.first_name||(o.first_name=e("checkout.validation.firstNameRequired")),Q.customer_info.last_name||(o.last_name=e("checkout.validation.lastNameRequired")),Q.customer_info.email||(o.email=e("checkout.validation.emailRequired")),Q.shipping_address.street_address||(o.street_address=e("checkout.validation.addressRequired")),Q.shipping_address.city||(o.city=e("checkout.validation.cityRequired")),Q.shipping_address.postal_code||(o.postal_code=e("checkout.validation.postalCodeRequired"));break;case 2:Q.shipping_method||(o.shipping_method=e("checkout.validation.shippingMethodRequired"));break;case 3:Q.payment_method||(o.payment_method=e("checkout.validation.paymentMethodRequired"))}J(o)}return o},eu=async()=>{if(I&&k&&!F&&Q.shipping_address.street_address&&Q.shipping_address.city&&Q.shipping_address.postal_code&&Q.customer_info.first_name&&Q.customer_info.last_name){G(!0);try{let e=localStorage.getItem("access_token");if(e){let o=Array.isArray(L)?L:[];if(!o.find(e=>e.street_address===Q.shipping_address.street_address&&e.city===Q.shipping_address.city&&e.postal_code===Q.shipping_address.postal_code)){let t={address_type:"shipping",recipient_name:"".concat(Q.customer_info.first_name," ").concat(Q.customer_info.last_name).trim(),street_address:Q.shipping_address.street_address,address_line_2:Q.shipping_address.apartment||void 0,city:Q.shipping_address.city,state_province:Q.shipping_address.state||"",postal_code:Q.shipping_address.postal_code,country_code:Q.shipping_address.country,phone_number:Q.customer_info.phone||void 0,is_default_shipping:0===o.length,is_default_billing:0===o.length},s=await d(t,e);M(e=>[...Array.isArray(e)?e:[],s])}}}catch(e){console.error("Failed to auto-save address:",e)}finally{G(!1)}}},em=async o=>{if(confirm(e("checkout.confirmations.deleteAddress")))try{let e=localStorage.getItem("access_token");e&&(await m(o,e),M(e=>e.filter(e=>e.id!==o)),z===o&&q(null))}catch(e){console.error("Failed to delete address:",e)}},eh=async()=>{V(!0),console.log("=== ORDER SUBMISSION STARTED ==="),console.log("Current step:",K),console.log("Cart ID:",g),console.log("Selected Address ID:",z),console.log("Is authenticated:",I),console.log("User:",k),console.log("Checkout data:",Q),console.log("Is buy now flow:",S);try{var o,s;let e=z,n=null;if(I&&!z){console.log("Creating address for order (save_address=",Q.save_address,")");try{let o=localStorage.getItem("access_token");if(o){let t={address_type:"shipping",recipient_name:"".concat(Q.customer_info.first_name," ").concat(Q.customer_info.last_name).trim(),street_address:Q.shipping_address.street_address,address_line_2:Q.shipping_address.apartment||void 0,city:Q.shipping_address.city,state_province:Q.shipping_address.state||"",postal_code:Q.shipping_address.postal_code,country_code:Q.shipping_address.country,phone_number:Q.customer_info.phone||void 0,is_default_shipping:Q.save_address,is_default_billing:Q.save_address};console.log("Address data to save:",t);let s=await d(t,o);e=s.id,console.log("Address saved successfully:",s)}else throw Error("Authentication token not found")}catch(e){throw console.error("Failed to save address:",e),Error("Failed to save shipping address: "+(e instanceof Error?e.message:"Unknown error"))}}else z&&(console.log("Using existing selected address:",z),e=z);if(S&&b){if(console.log("=== BUY NOW FLOW - CREATING DIRECT ORDER ==="),console.log("Buy now product:",b),!e)throw console.log("=== ERROR: NO ADDRESS ID ==="),Error("Shipping address is required. Please ensure address is saved or selected.");let t=localStorage.getItem("access_token");if(!t)throw console.log("=== ERROR: NO AUTH TOKEN ==="),Error("Authentication required");let s={product_id:b.id,quantity:b.quantity||1,shipping_address_id:e,billing_address_id:e,shipping_method_id:(null==(o=Q.shipping_method)?void 0:o.id)||1,customer_notes:Q.customer_notes||""};b.variantId&&(s.product_variant_id=b.variantId),b.color&&(s.color=b.color),b.colorCode&&(s.color_code=b.colorCode),b.size&&(s.size=b.size),console.log("=== SENDING DIRECT ORDER CREATION REQUEST ==="),console.log("Direct order data:",s),n=await (0,h.mK)(s,t),console.log("=== DIRECT ORDER CREATED SUCCESSFULLY ==="),console.log("Created order:",n)}else{console.log("=== REGULAR CHECKOUT FLOW - PROCEEDING WITH ORDER CREATION ===");let o=g;if(!o){console.log("=== NO CART ID - CREATING TEMPORARY CART FOR SINGLE ITEM ===");let e=S&&b?[b]:x;if(0===e.length)throw Error("No items to order. Please add items to cart first.");console.log("Items to add to cart:",e);let t=await (0,p.zA)();if(!t)throw Error("Failed to create cart for order");for(let s of(o=t.cart_id,console.log("✓ Temporary cart created:",o),e)){let e={drop_product:s.dropProductId,product_variant:s.variantId,quantity:s.quantity,color:s.color,color_code:s.colorCode,size:s.size};if(console.log("Adding item to cart:",e),!await (0,p.r5)(o,e))throw Error("Failed to add ".concat(s.name," to cart"))}console.log("✓ All items added to temporary cart")}if(!o)throw console.log("=== ERROR: NO CART ID AVAILABLE ==="),Error("Cart ID not available. Please refresh and try again.");if(console.log("✓ Cart ID available:",o),!e)throw console.log("=== ERROR: NO ADDRESS ID ==="),Error("Shipping address is required. Please ensure address is saved or selected.");console.log("✓ Address ID available:",e);let c=localStorage.getItem("access_token");if(!c)throw console.log("=== ERROR: NO AUTH TOKEN ==="),Error("Authentication required");console.log("✓ Auth token available"),console.log("=== CREATING ORDER ===");let r={cart_id:o,shipping_address_id:e,billing_address_id:e,shipping_method_id:(null==(s=Q.shipping_method)?void 0:s.id)||1,customer_notes:Q.customer_notes||""};console.log("=== SENDING ORDER CREATION REQUEST ==="),console.log("Order data:",r),n=await (0,h.fS)(r,c),console.log("=== ORDER CREATED SUCCESSFULLY ==="),console.log("Created order:",n),t((0,i.sX)())}console.log("=== REDIRECTING TO PAYMENT ==="),console.log("isBuyNowFlow:",S),console.log("buyNowProduct:",b),console.log("buyNowLink:",R),console.log("buyNowLink type:",typeof R),console.log("buyNowLink length:",R?R.length:"null/undefined");let c="";S&&b?R?(console.log("Using product buy now link from URL params:",R),c=R):(console.log("No buy_now_link found, using generic payment gateway"),c="https://payment.gateway.com/pay?amount=".concat(es.total_amount.toFixed(2),"&currency=EUR&orderid=").concat(n.id,"&returnUrl=").concat(encodeURIComponent(window.location.origin+"/payment-result?status=success&orderid="+n.id),"&cancelUrl=").concat(encodeURIComponent(window.location.origin+"/payment-result?status=cancelled&orderid="+n.id))):(console.log("Regular checkout flow, using generic payment gateway"),c="https://payment.gateway.com/pay?amount=".concat(es.total_amount.toFixed(2),"&currency=EUR&orderid=").concat(n.id,"&returnUrl=").concat(encodeURIComponent(window.location.origin+"/payment-result?status=success&orderid="+n.id),"&cancelUrl=").concat(encodeURIComponent(window.location.origin+"/payment-result?status=cancelled&orderid="+n.id))),console.log("Final payment URL:",c),window.location.href=c}catch(o){console.error("=== ORDER SUBMISSION FAILED ==="),console.error("Error:",o),console.error("Error message:",o instanceof Error?o.message:"Unknown error"),console.error("Error stack:",o instanceof Error?o.stack:"No stack trace"),J({submit:e("checkout.error.orderSubmissionFailed")+": "+(o instanceof Error?o.message:"Unknown error")})}finally{V(!1)}};return O?S||0!==x.length?S&&!b?(0,s.jsxs)("div",{className:v().emptyCart,children:[(0,s.jsx)("h2",{children:e("checkout.error.title")}),(0,s.jsx)("p",{children:e("checkout.error.productLoadFailed")})]}):(0,s.jsx)("div",{className:v().checkoutPage,children:(0,s.jsxs)("div",{className:v().container,children:[(0,s.jsxs)("div",{className:v().header,children:[(0,s.jsx)("h1",{className:v().title,children:e("checkout.title")}),(0,s.jsx)(P,{steps:X,currentStep:K,onStepClick:e=>{let o=X.find(o=>o.id===e);(e<=K||o&&o.accessible)&&H(e)}})]}),(0,s.jsxs)("div",{className:v().content,children:[(0,s.jsxs)("div",{className:v().mainContent,children:["            ",1===K&&(0,s.jsx)(j,{checkoutData:Q,updateCheckoutData:el,errors:Y,isAuthenticated:I,userAddresses:L,isLoadingAddresses:B,autoSaveInProgress:F,onLoadSavedAddress:e=>{q(e.id),$(o=>({...o,shipping_address:{street_address:e.street_address,apartment:e.address_line_2||"",city:e.city,state:e.state_province,postal_code:e.postal_code,country:e.country_code}}))},onDeleteAddress:em,selectedAddressId:z}),2===K&&(0,s.jsx)(y,{checkoutData:Q,updateCheckoutData:el,shippingMethods:ee,errors:Y}),3===K&&(0,s.jsx)(C,{checkoutData:Q,updateCheckoutData:el,paymentMethods:l,errors:Y,orderSummary:es}),"            ",4===K&&(0,s.jsx)(A,{checkoutData:Q,orderSummary:es,onPlaceOrder:eh,isLoading:Z}),"            ",K<4&&(0,s.jsxs)("div",{className:v().navigation,children:[K>1&&(0,s.jsx)("button",{type:"button",onClick:ea,className:v().backButton,disabled:Z,children:e("checkout.navigation.back")}),(0,s.jsx)("button",{type:"button",onClick:()=>{console.log("=== HANDLE CONTINUE CLICKED ==="),console.log("Current step:",K),console.log("Validation result:",ed()),ed()?1===K?(console.log("Step 1: Auto-saving address and moving to next step"),eu().then(()=>{ei()})):4===K?(console.log("Step 4: Starting order submission"),eh()):(console.log("Step ".concat(K,": Moving to next step")),ei()):console.log("Validation failed, errors:",Y)},className:v().continueButton,disabled:Z,children:Z?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:v().spinner}),e("checkout.navigation.processing")]}):e("checkout.navigation.continue")})]}),4===K&&(0,s.jsx)("div",{className:v().navigation,children:(0,s.jsx)("button",{type:"button",onClick:ea,className:v().backButton,disabled:Z,children:e("checkout.navigation.back")})}),Y.submit&&(0,s.jsx)("div",{className:v().errorMessage,children:Y.submit})]}),"          ",(0,s.jsx)("div",{className:v().sidebar,children:(0,s.jsx)(w,{orderSummary:es,isLoading:Z})})]})]})}):(0,s.jsxs)("div",{className:v().emptyCart,children:[(0,s.jsx)("h2",{children:e("checkout.emptyCart.title")}),(0,s.jsx)("p",{children:e("checkout.emptyCart.message")})]}):(0,s.jsx)("div",{className:v().checkoutPage,children:(0,s.jsx)("div",{className:v().container,children:(0,s.jsx)("div",{className:v().header,children:(0,s.jsx)("h1",{className:v().title,children:e("checkout.loading")})})})})}},5695:(e,o,t)=>{"use strict";var s=t(8999);t.o(s,"useParams")&&t.d(o,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(o,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(o,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(o,{useSearchParams:function(){return s.useSearchParams}})},7251:e=>{e.exports={container:"ShippingStep_container__QMpiE",title:"ShippingStep_title__ksTdl",shippingMethods:"ShippingStep_shippingMethods__PjLD7",shippingMethod:"ShippingStep_shippingMethod__ZTGI0",selected:"ShippingStep_selected__XZqLS",justSelected:"ShippingStep_justSelected__G6_tI",selectionPulse:"ShippingStep_selectionPulse__PSyfm",methodContent:"ShippingStep_methodContent__hJEbt",methodHeader:"ShippingStep_methodHeader__gfSZM",radioButton:"ShippingStep_radioButton__7KUXs",radioInput:"ShippingStep_radioInput___w_H5",radioMark:"ShippingStep_radioMark__Q6CEV",methodInfo:"ShippingStep_methodInfo__EFHe9",methodName:"ShippingStep_methodName__7BPwI",methodDescription:"ShippingStep_methodDescription__nYfEj",methodPricing:"ShippingStep_methodPricing__kRCjU",methodPrice:"ShippingStep_methodPrice__mmFw8",deliveryTime:"ShippingStep_deliveryTime__OFKX9",freeShipping:"ShippingStep_freeShipping__m7GzQ",errorMessage:"ShippingStep_errorMessage__Naa1j",shippingInfo:"ShippingStep_shippingInfo__HUiIW",infoIcon:"ShippingStep_infoIcon__yD5e3",infoText:"ShippingStep_infoText__dmHLJ",fadeInUp:"ShippingStep_fadeInUp__c4v5w"}},8334:e=>{e.exports={checkoutPage:"checkout_checkoutPage__Oxt8U",container:"checkout_container__GDzOa",header:"checkout_header__ZlUxF",title:"checkout_title___IbnB",content:"checkout_content__zllQ3",mainContent:"checkout_mainContent__ecFbb",sidebar:"checkout_sidebar__7IEP5",navigation:"checkout_navigation__t7G5u",backButton:"checkout_backButton__ZIt2k",continueButton:"checkout_continueButton__jkgBp",spinner:"checkout_spinner__5GGpM",spin:"checkout_spin__sL5rA",errorMessage:"checkout_errorMessage__WSOsj",emptyCart:"checkout_emptyCart__aTX89"}},8601:e=>{e.exports={container:"PaymentStep_container__1zxh8",title:"PaymentStep_title__gFgXC",paymentMethods:"PaymentStep_paymentMethods__1tkZm",paymentMethod:"PaymentStep_paymentMethod__a697r",selected:"PaymentStep_selected__OUj_V",radioButton:"PaymentStep_radioButton__EuoBj",methodContent:"PaymentStep_methodContent__BUTEF",methodIcon:"PaymentStep_methodIcon__r4F5I",methodInfo:"PaymentStep_methodInfo__IKeMb",methodName:"PaymentStep_methodName__CMpbX",methodDescription:"PaymentStep_methodDescription__cXbKx",cardForm:"PaymentStep_cardForm__YQ8mr",formGrid:"PaymentStep_formGrid__UX0_T",formGroup:"PaymentStep_formGroup__D1DFH",fullWidth:"PaymentStep_fullWidth__XOKDH",label:"PaymentStep_label__wZfTx",input:"PaymentStep_input__GXtae",error:"PaymentStep_error___BxeO",errorMessage:"PaymentStep_errorMessage__fzSBu",cardIcons:"PaymentStep_cardIcons__1sGzT",cardIcon:"PaymentStep_cardIcon__rcgEL",securityInfo:"PaymentStep_securityInfo__ubUzw",paymentInstructions:"PaymentStep_paymentInstructions__KsXNK",instructionsIcon:"PaymentStep_instructionsIcon__p_kFS",instructionsText:"PaymentStep_instructionsText__KAPr3",instructionsList:"PaymentStep_instructionsList__vFe4L",saveCard:"PaymentStep_saveCard__KpKdh",checkbox:"PaymentStep_checkbox__6EAy7",checkboxLabel:"PaymentStep_checkboxLabel__UGlsR",orderTotal:"PaymentStep_orderTotal__Yqzld",paymentStep:"PaymentStep_paymentStep__hm056"}},9295:e=>{e.exports={customerInformation:"CustomerInformation_customerInformation__QokeJ",formSection:"CustomerInformation_formSection__xvxrw",sectionTitle:"CustomerInformation_sectionTitle__E38lE",formGrid:"CustomerInformation_formGrid__vES41",formGroup:"CustomerInformation_formGroup__0oSia",fullWidth:"CustomerInformation_fullWidth__O3ChX",label:"CustomerInformation_label__95u6D",required:"CustomerInformation_required__3E3P5",input:"CustomerInformation_input__FUsoQ",error:"CustomerInformation_error__d6HXA",select:"CustomerInformation_select__jvWgj",errorMessage:"CustomerInformation_errorMessage__vT0_X",checkboxGroup:"CustomerInformation_checkboxGroup__ob8w_",checkbox:"CustomerInformation_checkbox__PBNHe",checkboxLabel:"CustomerInformation_checkboxLabel__Eqz7J",billingSection:"CustomerInformation_billingSection__U_mnB",hidden:"CustomerInformation_hidden__8ZMXW",autoSaveStatus:"CustomerInformation_autoSaveStatus__S29Cr",savedAddressesSection:"CustomerInformation_savedAddressesSection__LwVDW",savedAddressesTitle:"CustomerInformation_savedAddressesTitle__PVDuR",loadingAddresses:"CustomerInformation_loadingAddresses__CwToM",savedAddressesList:"CustomerInformation_savedAddressesList__KeDhO",savedAddressItem:"CustomerInformation_savedAddressItem__TyGPd",savedAddressInfo:"CustomerInformation_savedAddressInfo__kIZtl",savedAddressName:"CustomerInformation_savedAddressName__6lCRz",savedAddressText:"CustomerInformation_savedAddressText__DfR5j",useSavedAddressBtn:"CustomerInformation_useSavedAddressBtn__YlWIs",selectedAddress:"CustomerInformation_selectedAddress__H92fm",defaultBadge:"CustomerInformation_defaultBadge__onXPp",savedAddressActions:"CustomerInformation_savedAddressActions__r6ZKp",deleteSavedAddressBtn:"CustomerInformation_deleteSavedAddressBtn__IAtZn",addNewAddressBtn:"CustomerInformation_addNewAddressBtn__uONzO",selectedAddressDisplay:"CustomerInformation_selectedAddressDisplay__7Lm9E",selectedAddressHeader:"CustomerInformation_selectedAddressHeader__nX7yI",selectedAddressTitle:"CustomerInformation_selectedAddressTitle__wEhkD",selectedAddressDetails:"CustomerInformation_selectedAddressDetails__HxX9k",selectedAddressRow:"CustomerInformation_selectedAddressRow__9o803",addressFormHeader:"CustomerInformation_addressFormHeader___RnQ8",addressModeNote:"CustomerInformation_addressModeNote__aIzfk"}},9493:(e,o,t)=>{"use strict";t.d(o,{FK:()=>n,It:()=>r,N4:()=>a,fS:()=>c,mK:()=>m,p:()=>i,u:()=>l});let s="http://localhost:8000/api/v1";async function n(e,o){let t=new URL("".concat(s,"/orders/"));o&&(o.status&&"all"!==o.status&&t.searchParams.append("status",o.status),o.ordering&&t.searchParams.append("ordering",o.ordering),o.page&&t.searchParams.append("page",o.page.toString()),o.page_size&&t.searchParams.append("page_size",o.page_size.toString()));let n=await fetch(t.toString(),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!n.ok){if(401===n.status)throw Error("Unauthorized - please log in again");throw Error("Failed to fetch orders: ".concat(n.statusText))}let c=await n.json();return{...c,results:c.results.map(u)}}async function c(e,o){console.log("=== CREATE ORDER API CALLED ==="),console.log("API URL:","".concat(s,"/orders/create/")),console.log("Order data:",e),console.log("Token available:",!!o);let t=await fetch("".concat(s,"/orders/create/"),{method:"POST",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("=== CREATE ORDER RESPONSE ==="),console.log("Status:",t.status),console.log("Status text:",t.statusText),console.log("Response OK:",t.ok),!t.ok){let e=await t.json();throw console.error("=== CREATE ORDER ERROR RESPONSE ==="),console.error("Error data:",e),Error(e.message||"Failed to create order")}let n=await t.json();console.log("=== CREATE ORDER SUCCESS ==="),console.log("Backend order response:",n);let c=u(n);return console.log("Transformed order:",c),c}async function r(e,o,t){let n={"Content-Type":"application/json"};t&&(n.Authorization="Bearer ".concat(t));let c=await fetch("".concat(s,"/orders/payment-callback/"),{method:"POST",headers:n,body:JSON.stringify({uid:e,status:"paid"===o?"success":"failed"})});if(!c.ok)throw Error((await c.json()).message||"Failed to update order payment status");if((await c.json()).success&&t)return i(String(e),t);throw Error("Payment status update failed")}async function i(e,o){let t=await fetch("".concat(s,"/orders/").concat(e,"/"),{method:"GET",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)throw Error("Unauthorized - please log in again");if(404===t.status)throw Error("Order not found");throw Error("Failed to fetch order: ".concat(t.statusText))}return u(await t.json())}async function a(e,o){let t=await fetch("".concat(s,"/orders/").concat(e,"/cancel/"),{method:"POST",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)throw Error("Unauthorized - please log in again");if(404===t.status)throw Error("Order not found");if(400===t.status)throw Error((await t.json()).detail||"Cannot cancel this order");throw Error("Failed to cancel order: ".concat(t.statusText))}return u(await t.json())}async function l(e,o){let t=await fetch("".concat(s,"/orders/").concat(e,"/reorder/"),{method:"POST",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});if(!t.ok){if(401===t.status)throw Error("Unauthorized - please log in again");if(404===t.status)throw Error("Order not found");if(400===t.status)throw Error((await t.json()).detail||"Cannot reorder these items");throw Error("Failed to reorder items: ".concat(t.statusText))}return t.json()}function d(e){return{id:e.id,product_id:e.product_id,variant_id:e.variant_id,product_name:e.product_name,variant_name:e.variant_name,product_image:e.product_image,product_slug:e.product_slug,price:e.price,quantity:e.quantity,color:e.color,size:e.size,subtotal:e.subtotal,sku_snapshot:e.sku_snapshot,name:e.product_name,image:e.product_image||"/placeholder-product.png",variant:e.variant_name}}function u(e){var o,t,s,n,c,r;console.log("Transforming backend order:",e);let i=e.shipping_address_details||e.shipping_address||{};return console.log("Shipping address details:",i),console.log("User fields from backend:",{user_first_name:e.user_first_name,user_last_name:e.user_last_name,user_email:e.user_email,user_phone:e.user_phone,email_for_guest:e.email_for_guest}),{id:e.order_id||e.id,order_number:e.order_number,status:({pending_payment:"pending",processing:"processing",shipped:"shipped",delivered:"delivered",cancelled:"cancelled",refunded:"cancelled",failed:"cancelled"})[e.order_status]||"pending",payment_status:({pending:"pending",paid:"paid",failed:"failed",refunded_partial:"refunded",refunded_full:"refunded"})[e.payment_status]||"pending",created_at:e.created_at,updated_at:e.updated_at,total_amount:e.total_amount,shipping_cost:e.shipping_cost,discount_amount:e.discount_amount,subtotal_amount:e.subtotal_amount,items:(null==(o=e.items)?void 0:o.map(d))||[],shipping_address:{first_name:(null==(t=i.recipient_name)?void 0:t.split(" ")[0])||i.first_name||"",last_name:(null==(s=i.recipient_name)?void 0:s.split(" ").slice(1).join(" "))||i.last_name||"",street_address:i.street_address||i.address_line_1||"",city:i.city||"",state:i.state_province||i.state||i.region||"",postal_code:i.postal_code||i.zip_code||"",country:i.country_code||i.country||"",phone:i.phone_number||i.phone||""},shipping_method:(null==(n=e.shipping_method_details)?void 0:n.name)||e.shipping_method||"Standard",shipping_method_details:e.shipping_method_details,tracking_number:e.tracking_number,estimated_delivery:e.estimated_delivery,customer_info:{first_name:e.user_first_name||(null==(c=i.recipient_name)?void 0:c.split(" ")[0])||"",last_name:e.user_last_name||(null==(r=i.recipient_name)?void 0:r.split(" ").slice(1).join(" "))||"",email:e.user_email||e.email_for_guest||"",phone:e.user_phone||i.phone_number||""}}}async function m(e,o){console.log("=== CREATE DIRECT ORDER API CALLED ==="),console.log("API URL:","".concat(s,"/orders/create-direct/")),console.log("Order data:",e),console.log("Token available:",!!o);let t={"Content-Type":"application/json"};o&&(t.Authorization="Bearer ".concat(o));let n=await fetch("".concat(s,"/orders/create-direct/"),{method:"POST",headers:t,body:JSON.stringify(e)});if(console.log("=== CREATE DIRECT ORDER RESPONSE ==="),console.log("Status:",n.status),console.log("Status text:",n.statusText),console.log("Response OK:",n.ok),!n.ok){let e=await n.json();throw console.error("=== CREATE DIRECT ORDER ERROR RESPONSE ==="),console.error("Error data:",e),Error(e.message||"Failed to create direct order")}let c=await n.json();console.log("=== CREATE DIRECT ORDER SUCCESS ==="),console.log("Backend order response:",c);let r=u(c);return console.log("Transformed direct order:",r),r}}},e=>{var o=o=>e(e.s=o);e.O(0,[3729,4540,1990,3464,5295,6470,8441,1684,7358],()=>o(1864)),_N_E=e.O()}]);