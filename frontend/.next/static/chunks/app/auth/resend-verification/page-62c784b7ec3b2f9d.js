(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7579],{3993:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var l=a(5155),i=a(2115),t=a(5695),r=a(6874),n=a.n(r),c=a(171),h=a(6866),d=a(5910),u=a.n(d);function m(){let[e,s]=(0,i.useState)(""),[a,r]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),[o,j]=(0,i.useState)("");(0,t.useRouter)();let{t:x}=(0,c.useI18n)(),N=async s=>{if(s.preventDefault(),!e)return void j("Email обязателен");r(!0),j("");try{let s=await fetch("".concat(h.JR,"/auth/send-verification-email/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(s.ok)m(!0);else{let e=await s.json();j(e.error||"Ошибка отправки письма")}}catch(e){j("Ошибка сети. Попробуйте позже.")}finally{r(!1)}};return d?(0,l.jsx)("div",{className:u().authContainer,children:(0,l.jsxs)("div",{className:u().authCard,children:[(0,l.jsxs)("div",{className:u().authHeader,children:[(0,l.jsx)("h1",{className:u().authTitle,children:"Письмо отправлено"}),(0,l.jsx)("p",{className:u().authSubtitle,children:"Проверьте вашу почту"})]}),(0,l.jsxs)("div",{className:u().successMessage,children:[(0,l.jsx)("div",{className:u().successIcon,children:"✓"}),(0,l.jsxs)("p",{children:["Письмо для подтверждения email было отправлено на адрес ",(0,l.jsx)("strong",{children:e})]}),(0,l.jsx)("p",{children:'Проверьте папку "Спам", если письмо не пришло в течение нескольких минут.'})]}),(0,l.jsxs)("div",{className:u().authFooter,children:[(0,l.jsx)(n(),{href:"/auth/login",className:u().linkButton,children:"Войти в аккаунт"}),(0,l.jsx)(n(),{href:"/",className:u().authLink,children:"На главную"})]})]})}):(0,l.jsx)("div",{className:u().authContainer,children:(0,l.jsxs)("div",{className:u().authCard,children:[(0,l.jsxs)("div",{className:u().authHeader,children:[(0,l.jsx)("h1",{className:u().authTitle,children:"Подтвердить email"}),(0,l.jsx)("p",{className:u().authSubtitle,children:"Введите ваш email для отправки письма с подтверждением"})]}),(0,l.jsxs)("form",{onSubmit:N,className:u().authForm,children:[o&&(0,l.jsx)("div",{className:u().errorMessage,children:o}),(0,l.jsxs)("div",{className:u().formGroup,children:[(0,l.jsx)("label",{htmlFor:"email",className:u().formLabel,children:"Email адрес"}),(0,l.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>{s(e.target.value),o&&j("")},className:"".concat(u().formInput," ").concat(o?u().inputError:""),placeholder:"Введите ваш email",required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:a,className:"".concat(u().authButton," ").concat(u().primaryButton),children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:u().spinner}),"Отправка..."]}):"Отправить письмо"})]}),(0,l.jsxs)("div",{className:u().authFooter,children:[(0,l.jsxs)("p",{children:["Уже подтвердили email?"," ",(0,l.jsx)(n(),{href:"/auth/login",className:u().authLink,children:"Войти"})]}),(0,l.jsxs)("p",{children:["Нет аккаунта?"," ",(0,l.jsx)(n(),{href:"/auth/register",className:u().authLink,children:"Зарегистрироваться"})]})]})]})})}},5895:(e,s,a)=>{Promise.resolve().then(a.bind(a,3993))}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,4297,2868,4681,4833,6986,9717,6886,7692,6451,6373,8852,8096,7358],()=>s(5895)),_N_E=e.O()}]);