(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7579],{3993:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>c});var s=t(5155),i=t(2115),u=t(6874),r=t.n(u),n=t(5910),h=t.n(n);function c(){let[e,a]=(0,i.useState)(""),[t,u]=(0,i.useState)(!1),[n,c]=(0,i.useState)(!1),[o,_]=(0,i.useState)(""),l=async a=>{if(a.preventDefault(),!e)return void _("Email обязателен");u(!0),_("");try{let a=await fetch("http://localhost:8000/api/v1/auth/send-verification-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(a.ok)c(!0);else{let e=await a.json();_(e.error||"Ошибка отправки письма")}}catch(e){_("Ошибка сети. Попробуйте позже.")}finally{u(!1)}};return n?(0,s.jsx)("div",{className:h().authContainer,children:(0,s.jsxs)("div",{className:h().authCard,children:[(0,s.jsxs)("div",{className:h().authHeader,children:[(0,s.jsx)("h1",{className:h().authTitle,children:"Письмо отправлено"}),(0,s.jsx)("p",{className:h().authSubtitle,children:"Проверьте вашу почту"})]}),(0,s.jsxs)("div",{className:h().successMessage,children:[(0,s.jsx)("div",{className:h().successIcon,children:"✓"}),(0,s.jsxs)("p",{children:["Письмо для подтверждения email было отправлено на адрес ",(0,s.jsx)("strong",{children:e})]}),(0,s.jsx)("p",{children:'Проверьте папку "Спам", если письмо не пришло в течение нескольких минут.'})]}),(0,s.jsxs)("div",{className:h().authFooter,children:[(0,s.jsx)(r(),{href:"/auth/login",className:h().linkButton,children:"Войти в аккаунт"}),(0,s.jsx)(r(),{href:"/",className:h().authLink,children:"На главную"})]})]})}):(0,s.jsx)("div",{className:h().authContainer,children:(0,s.jsxs)("div",{className:h().authCard,children:[(0,s.jsxs)("div",{className:h().authHeader,children:[(0,s.jsx)("h1",{className:h().authTitle,children:"Подтвердить email"}),(0,s.jsx)("p",{className:h().authSubtitle,children:"Введите ваш email для отправки письма с подтверждением"})]}),(0,s.jsxs)("form",{onSubmit:l,className:h().authForm,children:[o&&(0,s.jsx)("div",{className:h().errorMessage,children:o}),(0,s.jsxs)("div",{className:h().formGroup,children:[(0,s.jsx)("label",{htmlFor:"email",className:h().formLabel,children:"Email адрес"}),(0,s.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>{a(e.target.value),o&&_("")},className:"".concat(h().formInput," ").concat(o?h().inputError:""),placeholder:"Введите ваш email",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"".concat(h().authButton," ").concat(h().primaryButton),children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:h().spinner}),"Отправка..."]}):"Отправить письмо"})]}),(0,s.jsxs)("div",{className:h().authFooter,children:[(0,s.jsxs)("p",{children:["Уже подтвердили email?"," ",(0,s.jsx)(r(),{href:"/auth/login",className:h().authLink,children:"Войти"})]}),(0,s.jsxs)("p",{children:["Нет аккаунта?"," ",(0,s.jsx)(r(),{href:"/auth/register",className:h().authLink,children:"Зарегистрироваться"})]})]})]})})}},5910:e=>{e.exports={authContainer:"auth_authContainer__uW_6b",authCard:"auth_authCard__Ir0GS",authHeader:"auth_authHeader__oHCrb",authTitle:"auth_authTitle__VlD_J",authSubtitle:"auth_authSubtitle__Hjn_W",authForm:"auth_authForm__VDzMx",errorMessage:"auth_errorMessage__bXq6j",successMessage:"auth_successMessage__SdDwc",successIcon:"auth_successIcon__gIoJv",helpText:"auth_helpText__4jxL0",linkButton:"auth_linkButton__3nRC2",inputGroup:"auth_inputGroup__6KdsB",inputLabel:"auth_inputLabel__ugLRU",inputWrapper:"auth_inputWrapper__R6pbg",input:"auth_input__2iiLT",inputIcon:"auth_inputIcon__W7Oq3",passwordToggle:"auth_passwordToggle__uDS6d",checkboxGroup:"auth_checkboxGroup__ybg5C",checkboxLabel:"auth_checkboxLabel__wRPUh",checkbox:"auth_checkbox__b78an",checkboxCustom:"auth_checkboxCustom__zuQto",forgotLink:"auth_forgotLink__4mgFs",submitButton:"auth_submitButton__wgua0",loading:"auth_loading__7pVgz",spinner:"auth_spinner__9RFYX",spin:"auth_spin__6DziB",authFooter:"auth_authFooter__0bLSJ",footerText:"auth_footerText__BmQwI",footerLink:"auth_footerLink__QdQjs",socialDivider:"auth_socialDivider__Fa8_5",dividerText:"auth_dividerText__CL9D0",socialButtons:"auth_socialButtons__PAqk6",socialButton:"auth_socialButton__ZEAbp",redirectInfo:"auth_redirectInfo__F_HcC",redirectActions:"auth_redirectActions__ojM4k",proceedButton:"auth_proceedButton__oUwqa",cancelButton:"auth_cancelButton__fO4QL",formRow:"auth_formRow__SIR7i"}},7943:(e,a,t)=>{Promise.resolve().then(t.bind(t,3993))}},e=>{var a=a=>e(e.s=a);e.O(0,[2181,6874,8441,1684,7358],()=>a(7943)),_N_E=e.O()}]);