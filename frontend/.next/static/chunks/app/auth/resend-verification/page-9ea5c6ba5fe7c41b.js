(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7579],{3993:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var l=a(5155),i=a(2115),t=a(6874),r=a.n(t),n=a(5910),c=a.n(n);function h(){let[e,s]=(0,i.useState)(""),[a,t]=(0,i.useState)(!1),[n,h]=(0,i.useState)(!1),[d,u]=(0,i.useState)(""),m=async s=>{if(s.preventDefault(),!e)return void u("Email обязателен");t(!0),u("");try{let s=await fetch("http://localhost:8000/api/v1/auth/send-verification-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(s.ok)h(!0);else{let e=await s.json();u(e.error||"Ошибка отправки письма")}}catch(e){u("Ошибка сети. Попробуйте позже.")}finally{t(!1)}};return n?(0,l.jsx)("div",{className:c().authContainer,children:(0,l.jsxs)("div",{className:c().authCard,children:[(0,l.jsxs)("div",{className:c().authHeader,children:[(0,l.jsx)("h1",{className:c().authTitle,children:"Письмо отправлено"}),(0,l.jsx)("p",{className:c().authSubtitle,children:"Проверьте вашу почту"})]}),(0,l.jsxs)("div",{className:c().successMessage,children:[(0,l.jsx)("div",{className:c().successIcon,children:"✓"}),(0,l.jsxs)("p",{children:["Письмо для подтверждения email было отправлено на адрес ",(0,l.jsx)("strong",{children:e})]}),(0,l.jsx)("p",{children:'Проверьте папку "Спам", если письмо не пришло в течение нескольких минут.'})]}),(0,l.jsxs)("div",{className:c().authFooter,children:[(0,l.jsx)(r(),{href:"/auth/login",className:c().linkButton,children:"Войти в аккаунт"}),(0,l.jsx)(r(),{href:"/",className:c().authLink,children:"На главную"})]})]})}):(0,l.jsx)("div",{className:c().authContainer,children:(0,l.jsxs)("div",{className:c().authCard,children:[(0,l.jsxs)("div",{className:c().authHeader,children:[(0,l.jsx)("h1",{className:c().authTitle,children:"Подтвердить email"}),(0,l.jsx)("p",{className:c().authSubtitle,children:"Введите ваш email для отправки письма с подтверждением"})]}),(0,l.jsxs)("form",{onSubmit:m,className:c().authForm,children:[d&&(0,l.jsx)("div",{className:c().errorMessage,children:d}),(0,l.jsxs)("div",{className:c().formGroup,children:[(0,l.jsx)("label",{htmlFor:"email",className:c().formLabel,children:"Email адрес"}),(0,l.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>{s(e.target.value),d&&u("")},className:"".concat(c().formInput," ").concat(d?c().inputError:""),placeholder:"Введите ваш email",required:!0})]}),(0,l.jsx)("button",{type:"submit",disabled:a,className:"".concat(c().authButton," ").concat(c().primaryButton),children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:c().spinner}),"Отправка..."]}):"Отправить письмо"})]}),(0,l.jsxs)("div",{className:c().authFooter,children:[(0,l.jsxs)("p",{children:["Уже подтвердили email?"," ",(0,l.jsx)(r(),{href:"/auth/login",className:c().authLink,children:"Войти"})]}),(0,l.jsxs)("p",{children:["Нет аккаунта?"," ",(0,l.jsx)(r(),{href:"/auth/register",className:c().authLink,children:"Зарегистрироваться"})]})]})]})})}},5895:(e,s,a)=>{Promise.resolve().then(a.bind(a,3993))}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,4297,2868,4681,4833,6986,9002,9466,7692,6451,6373,8852,8096,7358],()=>s(5895)),_N_E=e.O()}]);