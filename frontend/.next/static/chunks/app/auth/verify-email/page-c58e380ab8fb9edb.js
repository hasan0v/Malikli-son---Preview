(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3270],{1392:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var i=a(5155),l=a(2115),t=a(5695),r=a(6874),h=a.n(r),c=a(171),n=a(5910),u=a.n(n);function d(){let{t:e}=(0,c.useI18n)(),[s,a]=(0,l.useState)(!1),[r,n]=(0,l.useState)(!1),[d,m]=(0,l.useState)(""),[o,v]=(0,l.useState)(null);(0,t.useRouter)();let j=(0,t.useSearchParams)();(0,l.useEffect)(()=>{let s=null==j?void 0:j.get("token");s?(v(s),N(s)):m(e("auth.verifyEmail.errorMessage"))},[j,e]);let N=async s=>{a(!0),m("");try{let a=await fetch("http://localhost:8000/api/v1/auth/verify-email/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s})});if(a.ok)n(!0);else{let s=await a.json();m(s.error||e("auth.verifyEmail.errorMessage"))}}catch(s){m(e("common.error"))}finally{a(!1)}};return s?(0,i.jsx)("div",{className:u().authContainer,children:(0,i.jsxs)("div",{className:u().authCard,children:[(0,i.jsxs)("div",{className:u().authHeader,children:[(0,i.jsx)("h1",{className:u().authTitle,children:e("auth.verifyEmail.title")}),(0,i.jsx)("p",{className:u().authSubtitle,children:e("auth.verifyEmail.subtitle")})]}),(0,i.jsxs)("div",{className:u().loadingContainer,children:[(0,i.jsx)("span",{className:u().spinner}),(0,i.jsx)("p",{children:e("auth.verifyEmail.subtitle")})]})]})}):r?(0,i.jsx)("div",{className:u().authContainer,children:(0,i.jsxs)("div",{className:u().authCard,children:[(0,i.jsxs)("div",{className:u().authHeader,children:[(0,i.jsx)("h1",{className:u().authTitle,children:e("auth.verifyEmail.successTitle")}),(0,i.jsx)("p",{className:u().authSubtitle,children:e("auth.verifyEmail.successMessage")})]}),(0,i.jsxs)("div",{className:u().successMessage,children:[(0,i.jsx)("div",{className:u().successIcon,children:"âœ“"}),(0,i.jsx)("p",{children:e("auth.verifyEmail.successMessage")})]}),(0,i.jsxs)("div",{className:u().authFooter,children:[(0,i.jsx)(h(),{href:"/auth/login",className:u().linkButton,children:e("auth.verifyEmail.backToLogin")}),"            ",(0,i.jsx)(h(),{href:"/",className:u().authLink,children:e("nav.home")})]})]})}):d?(0,i.jsx)("div",{className:u().authContainer,children:(0,i.jsxs)("div",{className:u().authCard,children:[(0,i.jsxs)("div",{className:u().authHeader,children:[(0,i.jsx)("h1",{className:u().authTitle,children:e("auth.verifyEmail.errorTitle")}),(0,i.jsx)("p",{className:u().authSubtitle,children:d})]}),(0,i.jsx)("div",{className:u().errorMessage,children:(0,i.jsx)("p",{children:e("auth.verifyEmail.errorMessage")})}),(0,i.jsxs)("div",{className:u().authFooter,children:[(0,i.jsx)(h(),{href:"/auth/resend-verification",className:u().linkButton,children:e("auth.verifyEmail.resendLink")}),(0,i.jsx)(h(),{href:"/auth/login",className:u().authLink,children:e("auth.verifyEmail.backToLogin")})]})]})}):null}},2600:(e,s,a)=>{Promise.resolve().then(a.bind(a,1392))}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,4297,2868,4681,4833,6986,9002,9466,7692,6451,6373,8852,8096,7358],()=>s(2600)),_N_E=e.O()}]);