(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3270],{1392:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var i=a(5155),l=a(2115),t=a(5695),r=a(6874),c=a.n(r),h=a(171),n=a(6866),u=a(5910),d=a.n(u);function m(){let{t:e}=(0,h.useI18n)(),[s,a]=(0,l.useState)(!1),[r,u]=(0,l.useState)(!1),[m,o]=(0,l.useState)(""),[v,j]=(0,l.useState)(null);(0,t.useRouter)();let N=(0,t.useSearchParams)();(0,l.useEffect)(()=>{let s=null==N?void 0:N.get("token");s?(j(s),f(s)):o(e("auth.verifyEmail.errorMessage"))},[N,e]);let f=async s=>{a(!0),o("");try{let a=await fetch("".concat(n.JR,"/auth/verify-email/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s})});if(a.ok)u(!0);else{let s=await a.json();o(s.error||e("auth.verifyEmail.errorMessage"))}}catch(s){o(e("common.error"))}finally{a(!1)}};return s?(0,i.jsx)("div",{className:d().authContainer,children:(0,i.jsxs)("div",{className:d().authCard,children:[(0,i.jsxs)("div",{className:d().authHeader,children:[(0,i.jsx)("h1",{className:d().authTitle,children:e("auth.verifyEmail.title")}),(0,i.jsx)("p",{className:d().authSubtitle,children:e("auth.verifyEmail.subtitle")})]}),(0,i.jsxs)("div",{className:d().loadingContainer,children:[(0,i.jsx)("span",{className:d().spinner}),(0,i.jsx)("p",{children:e("auth.verifyEmail.subtitle")})]})]})}):r?(0,i.jsx)("div",{className:d().authContainer,children:(0,i.jsxs)("div",{className:d().authCard,children:[(0,i.jsxs)("div",{className:d().authHeader,children:[(0,i.jsx)("h1",{className:d().authTitle,children:e("auth.verifyEmail.successTitle")}),(0,i.jsx)("p",{className:d().authSubtitle,children:e("auth.verifyEmail.successMessage")})]}),(0,i.jsxs)("div",{className:d().successMessage,children:[(0,i.jsx)("div",{className:d().successIcon,children:"âœ“"}),(0,i.jsx)("p",{children:e("auth.verifyEmail.successMessage")})]}),(0,i.jsxs)("div",{className:d().authFooter,children:[(0,i.jsx)(c(),{href:"/auth/login",className:d().linkButton,children:e("auth.verifyEmail.backToLogin")}),"            ",(0,i.jsx)(c(),{href:"/",className:d().authLink,children:e("nav.home")})]})]})}):m?(0,i.jsx)("div",{className:d().authContainer,children:(0,i.jsxs)("div",{className:d().authCard,children:[(0,i.jsxs)("div",{className:d().authHeader,children:[(0,i.jsx)("h1",{className:d().authTitle,children:e("auth.verifyEmail.errorTitle")}),(0,i.jsx)("p",{className:d().authSubtitle,children:m})]}),(0,i.jsx)("div",{className:d().errorMessage,children:(0,i.jsx)("p",{children:e("auth.verifyEmail.errorMessage")})}),(0,i.jsxs)("div",{className:d().authFooter,children:[(0,i.jsx)(c(),{href:"/auth/resend-verification",className:d().linkButton,children:e("auth.verifyEmail.resendLink")}),(0,i.jsx)(c(),{href:"/auth/login",className:d().authLink,children:e("auth.verifyEmail.backToLogin")})]})]})}):null}},2600:(e,s,a)=>{Promise.resolve().then(a.bind(a,1392))}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,4297,2868,4681,4833,6986,9717,6886,7692,6451,6373,8852,8096,7358],()=>s(2600)),_N_E=e.O()}]);