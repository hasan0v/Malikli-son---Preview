(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4089],{2045:(s,a,e)=>{"use strict";e.d(a,{G:()=>o,j:()=>r});var t=e(4540);let r=()=>(0,t.wA)(),o=t.d4},5311:(s,a,e)=>{"use strict";e.r(a),e.d(a,{default:()=>l});var t=e(5155),r=e(2115),o=e(5695),u=e(6874),n=e.n(u),i=e(2045),c=e(5295),d=e(5910),h=e.n(d);function l(){let{t:s}=(0,c.useI18n)(),[a,e]=(0,r.useState)({password:"",confirmPassword:""}),[u,d]=(0,r.useState)(!1),[l,_]=(0,r.useState)(!1),[p,m]=(0,r.useState)({}),[w,x]=(0,r.useState)(!1),[f,P]=(0,r.useState)(null),j=(0,o.useRouter)(),b=(0,o.useSearchParams)();(0,i.j)();let{isLoading:g}=(0,i.G)(s=>s.auth);(0,r.useEffect)(()=>{let s=null==b?void 0:b.get("token");s?P(s):j.push("/auth/forgot-password")},[b,j]);let N=()=>{let e={};return a.password?a.password.length<8&&(e.password=s("auth.resetPassword.validation.passwordLength")):e.password=s("auth.resetPassword.validation.passwordRequired"),a.confirmPassword?a.password!==a.confirmPassword&&(e.confirmPassword=s("auth.resetPassword.validation.passwordMismatch")):e.confirmPassword=s("auth.resetPassword.validation.confirmPasswordRequired"),m(e),0===Object.keys(e).length},v=async e=>{if(e.preventDefault(),N()&&f)try{let s=await fetch("http://localhost:8000/api/v1/auth/password-reset/confirm/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:f,password:a.password,password2:a.confirmPassword})});if(s.ok)x(!0);else{let a=await s.json();m(a)}}catch(a){m({general:s("common.error")})}},k=s=>{let{name:t,value:r}=s.target;e({...a,[t]:r}),p[t]&&m({...p,[t]:""})};return f?w?(0,t.jsx)("div",{className:h().authContainer,children:(0,t.jsxs)("div",{className:h().authCard,children:[(0,t.jsxs)("div",{className:h().authHeader,children:[(0,t.jsx)("h1",{className:h().authTitle,children:s("auth.resetPassword.successTitle")}),(0,t.jsx)("p",{className:h().authSubtitle,children:s("auth.resetPassword.successMessage")})]}),(0,t.jsxs)("div",{className:h().successMessage,children:[(0,t.jsx)("div",{className:h().successIcon,children:"✓"}),(0,t.jsx)("p",{children:s("auth.resetPassword.successMessage")})]}),(0,t.jsx)("div",{className:h().authFooter,children:(0,t.jsx)(n(),{href:"/auth/login",className:h().linkButton,children:s("auth.resetPassword.backToLogin")})})]})}):(0,t.jsx)("div",{className:h().authContainer,children:(0,t.jsxs)("div",{className:h().authCard,children:[(0,t.jsxs)("div",{className:h().authHeader,children:[(0,t.jsx)("h1",{className:h().authTitle,children:s("auth.resetPassword.title")}),(0,t.jsx)("p",{className:h().authSubtitle,children:s("auth.resetPassword.subtitle")})]}),(0,t.jsxs)("form",{onSubmit:v,className:h().authForm,children:[p.general&&(0,t.jsx)("div",{className:h().errorMessage,children:p.general}),(0,t.jsxs)("div",{className:h().formGroup,children:[(0,t.jsx)("label",{htmlFor:"password",className:h().formLabel,children:s("auth.resetPassword.password")}),(0,t.jsxs)("div",{className:h().passwordWrapper,children:[(0,t.jsx)("input",{type:u?"text":"password",id:"password",name:"password",value:a.password,onChange:k,className:"".concat(h().formInput," ").concat(p.password?h().inputError:""),placeholder:s("auth.resetPassword.passwordPlaceholder"),required:!0}),(0,t.jsx)("button",{type:"button",className:h().passwordToggle,onClick:()=>d(!u),children:u?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),p.password&&(0,t.jsx)("span",{className:h().errorText,children:p.password})]}),(0,t.jsxs)("div",{className:h().formGroup,children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:h().formLabel,children:s("auth.resetPassword.confirmPassword")}),(0,t.jsxs)("div",{className:h().passwordWrapper,children:[(0,t.jsx)("input",{type:l?"text":"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:k,className:"".concat(h().formInput," ").concat(p.confirmPassword?h().inputError:""),placeholder:s("auth.resetPassword.confirmPasswordPlaceholder"),required:!0}),(0,t.jsx)("button",{type:"button",className:h().passwordToggle,onClick:()=>_(!l),children:l?"\uD83D\uDE48":"\uD83D\uDC41️"})]}),p.confirmPassword&&(0,t.jsx)("span",{className:h().errorText,children:p.confirmPassword})]}),"          ",(0,t.jsx)("button",{type:"submit",disabled:g,className:"".concat(h().authButton," ").concat(h().primaryButton),children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:h().spinner}),s("auth.resetPassword.resetButtonLoading")]}):s("auth.resetPassword.resetButton")})]}),(0,t.jsx)("div",{className:h().authFooter,children:(0,t.jsxs)("p",{children:[s("auth.forgotPassword.rememberedPassword")," ",(0,t.jsx)(n(),{href:"/auth/login",className:h().authLink,children:s("auth.resetPassword.backToLogin")})]})})]})}):(0,t.jsx)("div",{className:h().authContainer,children:(0,t.jsxs)("div",{className:h().authCard,children:[(0,t.jsxs)("div",{className:h().authHeader,children:[(0,t.jsx)("h1",{className:h().authTitle,children:s("auth.resetPassword.invalidLinkTitle")}),(0,t.jsx)("p",{className:h().authSubtitle,children:s("auth.resetPassword.invalidLinkMessage")})]}),(0,t.jsx)("div",{className:h().authFooter,children:(0,t.jsx)(n(),{href:"/auth/forgot-password",className:h().linkButton,children:s("auth.resetPassword.requestNewLink")})})]})})}},5695:(s,a,e)=>{"use strict";var t=e(8999);e.o(t,"useParams")&&e.d(a,{useParams:function(){return t.useParams}}),e.o(t,"usePathname")&&e.d(a,{usePathname:function(){return t.usePathname}}),e.o(t,"useRouter")&&e.d(a,{useRouter:function(){return t.useRouter}}),e.o(t,"useSearchParams")&&e.d(a,{useSearchParams:function(){return t.useSearchParams}})},5910:s=>{s.exports={authContainer:"auth_authContainer__uW_6b",authCard:"auth_authCard__Ir0GS",authHeader:"auth_authHeader__oHCrb",authTitle:"auth_authTitle__VlD_J",authSubtitle:"auth_authSubtitle__Hjn_W",authForm:"auth_authForm__VDzMx",errorMessage:"auth_errorMessage__bXq6j",successMessage:"auth_successMessage__SdDwc",successIcon:"auth_successIcon__gIoJv",helpText:"auth_helpText__4jxL0",linkButton:"auth_linkButton__3nRC2",inputGroup:"auth_inputGroup__6KdsB",inputLabel:"auth_inputLabel__ugLRU",inputWrapper:"auth_inputWrapper__R6pbg",input:"auth_input__2iiLT",inputIcon:"auth_inputIcon__W7Oq3",passwordToggle:"auth_passwordToggle__uDS6d",checkboxGroup:"auth_checkboxGroup__ybg5C",checkboxLabel:"auth_checkboxLabel__wRPUh",checkbox:"auth_checkbox__b78an",checkboxCustom:"auth_checkboxCustom__zuQto",forgotLink:"auth_forgotLink__4mgFs",submitButton:"auth_submitButton__wgua0",loading:"auth_loading__7pVgz",spinner:"auth_spinner__9RFYX",spin:"auth_spin__6DziB",authFooter:"auth_authFooter__0bLSJ",footerText:"auth_footerText__BmQwI",footerLink:"auth_footerLink__QdQjs",socialDivider:"auth_socialDivider__Fa8_5",dividerText:"auth_dividerText__CL9D0",socialButtons:"auth_socialButtons__PAqk6",socialButton:"auth_socialButton__ZEAbp",redirectInfo:"auth_redirectInfo__F_HcC",redirectActions:"auth_redirectActions__ojM4k",proceedButton:"auth_proceedButton__oUwqa",cancelButton:"auth_cancelButton__fO4QL",formRow:"auth_formRow__SIR7i"}},6275:(s,a,e)=>{Promise.resolve().then(e.bind(e,5311))}},s=>{var a=a=>s(s.s=a);s.O(0,[2181,4540,6874,5295,8441,1684,7358],()=>a(6275)),_N_E=s.O()}]);