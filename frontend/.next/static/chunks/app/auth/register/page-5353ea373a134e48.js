(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{6117:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>m});var r=a(5155),t=a(2115),l=a(5695),i=a(4540),c=a(6874),n=a.n(c),h=a(2265),u=a(4060),d=a(171),o=a(5910),p=a.n(o);function m(){let{t:e}=(0,d.useI18n)(),[s,a]=(0,t.useState)({username:"",email:"",password:"",password2:"",first_name:"",last_name:"",phone_number:""}),[c,o]=(0,t.useState)(!1),[m,x]=(0,t.useState)(!1),[g,j]=(0,t.useState)(!1),[v,N]=(0,t.useState)(""),[f,w]=(0,t.useState)(!1),[b,C]=(0,t.useState)(0),[L,k]=(0,t.useState)(null),_=(0,i.wA)(),z=(0,l.useRouter)(),{isLoading:M,error:y,isAuthenticated:B}=(0,i.d4)(e=>e.auth);(0,t.useEffect)(()=>{B&&!f&&z.push("/")},[B,z,f]),(0,t.useEffect)(()=>{let e;return b>0?e=setInterval(()=>{C(e=>e-1)},1e3):0===b&&f&&v&&z.push("/auth/login"),()=>{e&&clearInterval(e)}},[b,f,v,z]),(0,t.useEffect)(()=>()=>{L&&clearTimeout(L)},[L]),(0,t.useEffect)(()=>{_((0,h.ET)())},[_]);let I=e=>{let{name:s,value:r}=e.target;a(e=>({...e,[s]:r}))},P=async a=>{if(a.preventDefault(),!g)return void alert(e("auth.register.validation.acceptTerms"));if(s.password!==s.password2)return void alert(e("auth.register.validation.passwordMismatch"));try{w(!0);let a=await _((0,h.DY)(s));h.DY.fulfilled.match(a)?(N(e("auth.register.successMessage")),C(10)):w(!1)}catch(e){console.error("Registration failed:",e),w(!1)}},S=e=>{"password"===e?o(!c):x(!m)};return(0,r.jsxs)("div",{className:p().authContainer,children:["      ",(0,r.jsxs)("div",{className:p().authCard,children:[(0,r.jsxs)("div",{className:p().authHeader,children:[(0,r.jsx)("h1",{className:p().authTitle,children:e("auth.register.title")}),(0,r.jsx)("p",{className:p().authSubtitle,children:e("auth.register.subtitle")})]}),"        ",(0,r.jsxs)("form",{onSubmit:P,className:p().authForm,children:[y&&(0,r.jsx)("div",{className:p().errorMessage,children:"string"==typeof y?y:e("auth.register.errorDefault")}),"          ",v&&(0,r.jsxs)("div",{className:p().successMessage,children:[v,b>0&&(0,r.jsxs)("div",{className:p().redirectInfo,children:[(0,r.jsx)("p",{children:e("auth.register.redirectInfo",{seconds:b})}),(0,r.jsxs)("div",{className:p().redirectActions,children:[(0,r.jsx)("button",{type:"button",onClick:()=>{z.push("/auth/login")},className:p().proceedButton,children:e("auth.register.redirectNow")}),(0,r.jsx)("button",{type:"button",onClick:()=>{C(0),L&&(clearTimeout(L),k(null))},className:p().cancelButton,children:e("auth.register.stayHere")})]})]})]}),"          ",(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsxs)("label",{htmlFor:"first_name",className:p().inputLabel,children:[e("auth.register.firstName")," *"]}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:"text",id:"first_name",name:"first_name",value:s.first_name,onChange:I,className:p().input,placeholder:e("auth.register.firstNamePlaceholder"),required:!0}),(0,r.jsx)("div",{className:p().inputIcon,children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"})})})]})]}),(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsxs)("label",{htmlFor:"last_name",className:p().inputLabel,children:[e("auth.register.lastName")," *"]}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:"text",id:"last_name",name:"last_name",value:s.last_name,onChange:I,className:p().input,placeholder:e("auth.register.lastNamePlaceholder"),required:!0}),(0,r.jsx)("div",{className:p().inputIcon,children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"})})})]})]}),"          ",(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsxs)("label",{htmlFor:"username",className:p().inputLabel,children:[e("auth.register.username")," *"]}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:"text",id:"username",name:"username",value:s.username,onChange:I,className:p().input,placeholder:e("auth.register.usernamePlaceholder"),required:!0}),(0,r.jsx)("div",{className:p().inputIcon,children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1L13.5 2.5L16.17 5.17L10.24 11.1C9.46 11.54 9 12.38 9 13.31V15L7 13V17H11C11.24 17 11.47 16.93 11.66 16.8L18.1 10.35L19.5 11.75L21 10.25V9Z"})})})]})]}),(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsxs)("label",{htmlFor:"email",className:p().inputLabel,children:[e("auth.register.email")," *"]}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:s.email,onChange:I,className:p().input,placeholder:e("auth.register.emailPlaceholder"),required:!0}),(0,r.jsx)("div",{className:p().inputIcon,children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.89 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})})]})]}),(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"phone_number",className:p().inputLabel,children:e("auth.register.phone")}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:"tel",id:"phone_number",name:"phone_number",value:s.phone_number,onChange:I,className:p().input,placeholder:e("auth.register.phonePlaceholder")}),(0,r.jsx)("div",{className:p().inputIcon,children:(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"})})})]})]}),"          ",(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsxs)("label",{htmlFor:"password",className:p().inputLabel,children:[e("auth.register.password")," *"]}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:c?"text":"password",id:"password",name:"password",value:s.password,onChange:I,className:p().input,placeholder:e("auth.register.passwordPlaceholder"),required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>S("password"),className:p().passwordToggle,children:c?(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]})]}),"            ",(0,r.jsxs)("div",{className:p().inputGroup,children:[(0,r.jsxs)("label",{htmlFor:"password2",className:p().inputLabel,children:[e("auth.register.confirmPassword")," *"]}),(0,r.jsxs)("div",{className:p().inputWrapper,children:[(0,r.jsx)("input",{type:m?"text":"password",id:"password2",name:"password2",value:s.password2,onChange:I,className:p().input,placeholder:e("auth.register.confirmPasswordPlaceholder"),required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>S("password2"),className:p().passwordToggle,children:m?(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}):(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})})})]})]}),"          ",(0,r.jsx)("div",{className:p().checkboxGroup,children:(0,r.jsxs)("label",{className:p().checkboxLabel,children:[(0,r.jsx)("input",{type:"checkbox",checked:g,onChange:e=>j(e.target.checked),className:p().checkbox,required:!0}),(0,r.jsx)("span",{className:p().checkboxCustom}),e("auth.register.acceptTerms")," ",(0,r.jsx)(n(),{href:"/terms",className:p().forgotLink,children:e("auth.register.termsLink")})," ",e("auth.register.andText")," ",(0,r.jsx)(n(),{href:"/privacy",className:p().forgotLink,children:e("auth.register.privacyLink")})]})}),"          ",(0,r.jsx)("button",{type:"submit",disabled:M||!g,className:"".concat(p().submitButton," ").concat(M?p().loading:""),children:M?(0,r.jsx)(u.A,{size:"small",color:"white",text:e("auth.register.registerButtonLoading")}):e("auth.register.registerButton")})]}),(0,r.jsxs)("div",{className:p().authFooter,children:[(0,r.jsxs)("p",{className:p().footerText,children:[e("auth.register.hasAccount")," ",(0,r.jsx)(n(),{href:"/auth/login",className:p().footerLink,children:e("auth.register.loginLink")})]}),"        "]})]})]})}},6701:(e,s,a)=>{Promise.resolve().then(a.bind(a,6117))}},e=>{var s=s=>e(e.s=s);e.O(0,[9614,5829,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,7137,1880,4297,2868,4681,4833,6986,9717,6886,7692,6451,6373,8852,8096,7358],()=>s(6701)),_N_E=e.O()}]);