(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{347:()=>{},1588:(e,a,n)=>{"use strict";n.d(a,{default:()=>y});var r=n(5155),t=n(2115),o=n(4540),l=n(4562);let i=(0,l.Z0)({name:"ui",initialState:{isMobileMenuOpen:!1,globalLoading:!1},reducers:{toggleMobileMenu:e=>{e.isMobileMenuOpen=!e.isMobileMenuOpen},setGlobalLoading:(e,a)=>{e.globalLoading=a.payload}}}),{toggleMobileMenu:s,setGlobalLoading:c}=i.actions,d=i.reducer;var u=n(4089),h=n(2265);(0,l.U1)({reducer:{ui:d,cart:u.Ay,auth:h.Ay}});let v=()=>(0,l.U1)({reducer:{ui:d,cart:u.Ay,auth:h.Ay},devTools:!1});function _(e){let{children:a}=e,n=(0,t.useRef)(null);return n.current||(n.current=v()),(0,t.useEffect)(()=>{if(n.current){let e=n.current;e.dispatch((0,h.uM)());let a=e.getState();a.auth.isAuthenticated&&a.auth.token&&e.dispatch((0,h.l2)())}},[]),(0,r.jsx)(o.Kq,{store:n.current,children:a})}var m=n(6874),g=n.n(m),w=n(6766),b=n(5695),p=n(2045),x=n(2187),N=n.n(x),f=n(171),j=n(5773),k=n.n(j);let L={en:{label:"English",flag:"\uD83C\uDDFA\uD83C\uDDF8",code:"EN"},ru:{label:"Русский",flag:"\uD83C\uDDF7\uD83C\uDDFA",code:"RU"}},C=()=>{let{locale:e,setLocale:a,availableLocales:n}=(0,f.useI18n)(),[o,l]=(0,t.useState)(!1),i=(0,t.useRef)(null),s=L[e];(0,t.useEffect)(()=>{let e=e=>{i.current&&!i.current.contains(e.target)&&l(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let c=e=>{a(e),l(!1)};return(0,r.jsxs)("div",{className:k().languageSwitcher,ref:i,children:[(0,r.jsxs)("button",{className:k().trigger,onClick:()=>l(!o),"aria-label":"Select language",children:[(0,r.jsx)("span",{className:k().flag,children:s.flag}),(0,r.jsx)("span",{className:k().code,children:s.code}),(0,r.jsx)("svg",{className:"".concat(k().chevron," ").concat(o?k().chevronOpen:""),width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,r.jsx)("path",{d:"M6 9l6 6 6-6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),o&&(0,r.jsx)("div",{className:k().dropdown,children:(0,r.jsx)("div",{className:k().dropdownContent,children:n.map(a=>{let n=L[a],t=a===e;return(0,r.jsxs)("button",{className:"".concat(k().option," ").concat(t?k().active:""),onClick:()=>c(a),disabled:t,children:[(0,r.jsx)("span",{className:k().flag,children:n.flag}),(0,r.jsx)("span",{className:k().label,children:n.label}),t&&(0,r.jsx)("svg",{className:k().checkmark,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,r.jsx)("path",{d:"M20 6L9 17l-5.5-5.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]},a)})})})]})};function S(){let{t:e}=(0,f.useI18n)(),[a,n]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[i,s]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),u=(0,b.usePathname)(),v=(0,p.j)(),{isAuthenticated:_,user:m}=(0,p.G)(e=>e.auth),x=o||i;(0,t.useEffect)(()=>{n(!0)},[]),(0,t.useEffect)(()=>{let e=()=>{let e=window.scrollY>50;e!==o&&l(e)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[o]);let j="/"===u,k=a&&j?x?"".concat(N().navbar," ").concat(i?N().mobileOpen:""):"".concat(N().navbar," ").concat(N().transparent):N().navbar;return(0,t.useEffect)(()=>{let e=e=>{c&&!e.target.closest(".user-menu-container")&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[c]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("nav",{className:k,children:[(0,r.jsxs)("div",{className:N().navContainer,children:["          ",(0,r.jsx)(g(),{href:"/",className:N().logoContainer,children:(0,r.jsx)(w.default,{src:"/logo.png",alt:"Malikli1992 Logo",width:150,height:40,className:a&&j&&!x?N().logoWhite:N().logo,priority:!0,style:{width:"auto",height:"auto",maxHeight:"40px"}})}),(0,r.jsxs)("div",{className:N().navLinks,children:[(0,r.jsx)(g(),{href:"https://www.malikli1992.store/shipping.html",className:N().navLink,children:e("nav.delivery")}),(0,r.jsx)(g(),{href:"https://www.malikli1992.store/about.html",className:N().navLink,children:e("nav.about")}),(0,r.jsx)(g(),{href:"https://www.malikli1992.store/contact.html",className:N().navLink,children:e("nav.contact")})]}),"        ",(0,r.jsxs)("div",{className:N().navIcons,children:[(0,r.jsx)("div",{className:N().desktopLanguageSwitcher,children:(0,r.jsx)(C,{})}),_&&m?(0,r.jsxs)("div",{className:"".concat(N().userMenuContainer," user-menu-container"),children:[(0,r.jsxs)("button",{className:N().userButton,onClick:()=>{d(!c)},children:["                  ",(0,r.jsx)("div",{className:N().userAvatar,children:(()=>{var e,a;let n=null==(e=m.first_name)?void 0:e.trim(),r=null==(a=m.last_name)?void 0:a.trim();return n&&r?"".concat(n[0].toUpperCase()).concat(r[0].toUpperCase()):n?n[0].toUpperCase():r?r[0].toUpperCase():m.username?m.username[0].toUpperCase():"У"})()}),"                  ",(0,r.jsx)("span",{className:N().userName,children:(()=>{var e,a;let n=null==(e=m.first_name)?void 0:e.trim(),r=null==(a=m.last_name)?void 0:a.trim();return n&&r?"".concat(n," ").concat(r):n?n:r?r:m.username})()}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"".concat(N().chevron," ").concat(c?N().chevronUp:""),children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]}),c&&(0,r.jsxs)("div",{className:N().userDropdown,children:["                    ",(0,r.jsxs)(g(),{href:"/profile",className:N().dropdownItem,onClick:()=>d(!1),children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:N().dropdownIcon,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z",clipRule:"evenodd"})}),e("nav.profile")]}),"                    ",(0,r.jsxs)(g(),{href:"/orders",className:N().dropdownItem,onClick:()=>d(!1),children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:N().dropdownIcon,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e("nav.orders")]}),m.is_staff&&(0,r.jsxs)(g(),{href:"/admin",className:N().dropdownItem,onClick:()=>d(!1),children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:N().dropdownIcon,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9.493 2.853a.75.75 0 00-.386.67V6.75h-1.25a.75.75 0 100 1.5h1.25v2.25H8.75a.75.75 0 000 1.5h.357v3.25a.75.75 0 00.386.67l2.5 1.25a.75.75 0 00.67-.048l2.5-1.5a.75.75 0 00.337-.622V10.5h.25a.75.75 0 000-1.5H15.5V6.75h.25a.75.75 0 000-1.5H15.5V3.523a.75.75 0 00-.337-.622l-2.5-1.5a.75.75 0 00-.67.048l-2.5 1.25zM11 6.75V3.72l1.5-.9v3.105a.75.75 0 00.75.75h.25v2.25h-.25a.75.75 0 00-.75.75v2.58l-1.5.9V10.5a.75.75 0 00-.75-.75H10V7.5h.25a.75.75 0 00.75-.75z",clipRule:"evenodd"})}),e("nav.adminPanel")]}),"                    ",(0,r.jsxs)("button",{className:N().dropdownItem,onClick:()=>{v((0,h.ri)()),d(!1)},children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:N().dropdownIcon,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"})}),e("nav.logout")]})]})]}):(0,r.jsx)(g(),{href:"/auth/login",className:N().iconLink,children:(0,r.jsx)("span",{className:"".concat(N().iconSvg," ").concat(a&&j&&!x?N().iconLight:""),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})})})})]}),(0,r.jsx)("button",{className:N().mobileMenuButton,onClick:()=>s(!i),children:(0,r.jsx)("span",{className:"".concat(N().iconSvg," ").concat(a&&j&&!x?N().iconLight:""),children:i?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 011.06 0L12 10.94l5.47-5.47a.75.75 0 111.06 1.06L13.06 12l5.47 5.47a.75.75 0 11-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 01-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 010-1.06z",clipRule:"evenodd"})}):(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"24",height:"24",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zM3 12a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 12zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})})}),"        "]}),a&&(0,r.jsx)("div",{className:"".concat(N().mobileMenu," ").concat(i?N().open:""," ").concat(i?N().dark:""),children:(0,r.jsxs)("div",{className:"".concat(N().mobileMenuLinks," ").concat(i?N().dark:""),children:[(0,r.jsx)(g(),{href:"/delivery",onClick:()=>s(!1),children:e("nav.delivery")}),(0,r.jsx)(g(),{href:"https://www.malikli1992.store/about.html",onClick:()=>s(!1),children:e("nav.about")}),(0,r.jsx)(g(),{href:"https://www.malikli1992.store/contact.html",onClick:()=>s(!1),children:e("nav.contact")}),(0,r.jsx)("div",{className:N().mobileLangSection,children:(0,r.jsx)(C,{})}),!_&&(0,r.jsxs)("div",{className:N().mobileAuthSection,children:[(0,r.jsxs)(g(),{href:"/auth/login",onClick:()=>s(!1),className:N().mobileAuthAction,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:N().mobileActionIcon,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),e("nav.login")]}),(0,r.jsxs)(g(),{href:"/auth/register",onClick:()=>s(!1),className:N().mobileAuthAction,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:N().mobileActionIcon,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})}),e("nav.register")]})]})]})})]})})}let M=()=>{let e=(0,o.wA)();(0,t.useEffect)(()=>{e((0,u.Bb)())},[e]),(0,t.useEffect)(()=>{let a=a=>{("cart"===a.key||"cartId"===a.key)&&e((0,u.Bb)())};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[e])},A=()=>{let e=(0,o.d4)(e=>e.auth);return{user:e.user,isLoading:e.isLoading,isAuthenticated:e.isAuthenticated,token:e.token,error:e.error}},I=()=>{let e=(0,o.wA)(),{user:a,isLoading:n}=A(),{items:r,cartId:l,needsSync:i,isLoading:s,lastSyncTime:c}=(0,o.d4)(e=>e.cart);(0,t.useEffect)(()=>{n||(async()=>{if(a&&!s)if(l&&r.length>0)try{await new Promise(e=>setTimeout(e,100)),await e((0,u.sL)({guestCartId:l,strategy:"merge"})).unwrap()}catch(a){console.error("Failed to merge guest cart:",a),await e((0,u.tA)({}))}else await e((0,u.tA)({}));else if(!a&&r.length>0&&i)try{await e((0,u.So)()).unwrap()}catch(e){console.error("Failed to sync guest cart:",e)}})()},[a,n,e]),(0,t.useEffect)(()=>{if(i&&!s){let a=setTimeout(()=>{e((0,u.So)())},2e3);return()=>clearTimeout(a)}},[i,a,s,e]);let d=(0,t.useCallback)(async()=>{if(!s)try{a?await e((0,u.tA)({})).unwrap():await e((0,u.So)()).unwrap()}catch(e){throw console.error("Manual cart sync failed:",e),e}},[a,s,e]),h=(0,t.useCallback)(async function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"merge";if(l&&!s)try{await e((0,u.sL)({guestCartId:l,strategy:a})).unwrap()}catch(e){throw console.error("Failed to merge guest cart:",e),e}},[l,s,e]);return{syncCart:d,mergeGuestCart:h,clearCartOnLogout:(0,t.useCallback)(()=>{e((0,u.sX)())},[e]),forceSyncCart:(0,t.useCallback)(async()=>{if(!s)try{await e((0,u.So)()).unwrap(),e((0,u.u$)())}catch(e){throw console.error("Force sync failed:",e),e}},[s,e]),isLoading:s,needsSync:i,lastSyncTime:c,cartId:l,isAuthenticated:!!a}};function U(e){let{children:a}=e;return I(),(0,r.jsx)(r.Fragment,{children:a})}function R(e){let{children:a}=e;return M(),(0,r.jsx)(r.Fragment,{children:a})}function y(e){let{children:a}=e;return(0,r.jsx)(_,{children:(0,r.jsx)(f.C,{children:(0,r.jsx)(R,{children:(0,r.jsxs)(U,{children:["            ",(0,r.jsxs)("div",{className:"root-layout-container",children:[(0,r.jsx)(S,{}),(0,r.jsx)("main",{className:"main-content",children:a})]})]})})})})}},2187:e=>{e.exports={navbar:"Navbar_navbar__6v7J7",transparent:"Navbar_transparent__Qxp3c",mobileOpen:"Navbar_mobileOpen__NnRAp",navContainer:"Navbar_navContainer__iUSdD",logoContainer:"Navbar_logoContainer__mvBQD",logo:"Navbar_logo__2aUw2",logoWhite:"Navbar_logoWhite__zZkml",navLinks:"Navbar_navLinks__fSEPe",navLink:"Navbar_navLink__kefiR",navIcons:"Navbar_navIcons__v5OlS",iconLink:"Navbar_iconLink__N8PeP",iconSvg:"Navbar_iconSvg__X71k6",iconLight:"Navbar_iconLight__bMfFG",cartIconContainer:"Navbar_cartIconContainer__LtJt_",cartCount:"Navbar_cartCount__Uaucn",mobileMenuButton:"Navbar_mobileMenuButton__o77kh",mobileMenu:"Navbar_mobileMenu__KH1Mg",dark:"Navbar_dark__GwYPg",open:"Navbar_open__J0ITX",mobileMenuLinks:"Navbar_mobileMenuLinks__GCmyC",userMenuContainer:"Navbar_userMenuContainer__mdj03",userButton:"Navbar_userButton__FUQTQ",userAvatar:"Navbar_userAvatar__QIwWE",userName:"Navbar_userName___ct9y",chevron:"Navbar_chevron__NJ2Mk",chevronUp:"Navbar_chevronUp__fFcaz",userDropdown:"Navbar_userDropdown__bhr4E",dropdownSlideIn:"Navbar_dropdownSlideIn__WvJwn",dropdownItem:"Navbar_dropdownItem__GgP3R",dropdownIcon:"Navbar_dropdownIcon__pq1Ap",dropdownDivider:"Navbar_dropdownDivider__jQG3i",mobileUserSection:"Navbar_mobileUserSection__lg_MH",mobileUserInfo:"Navbar_mobileUserInfo__oBjLY",mobileUserAvatar:"Navbar_mobileUserAvatar__9DTBX",mobileUserDetails:"Navbar_mobileUserDetails__dVakY",mobileUserName:"Navbar_mobileUserName__RG1jR",mobileUserEmail:"Navbar_mobileUserEmail__lDyKW",mobileUserActions:"Navbar_mobileUserActions__f9Ow_",mobileUserAction:"Navbar_mobileUserAction__fqDEY",mobileAuthAction:"Navbar_mobileAuthAction__H_cM7",mobileActionIcon:"Navbar_mobileActionIcon__mzoRW",mobileAuthSection:"Navbar_mobileAuthSection__kXkzF",fixedCartButton:"Navbar_fixedCartButton__jVHCb",fixedCartCount:"Navbar_fixedCartCount__cxMBI",pulse:"Navbar_pulse__X8jJ3",desktopLanguageSwitcher:"Navbar_desktopLanguageSwitcher__Txjnd",mobileLangSection:"Navbar_mobileLangSection__wCzlq"}},5773:e=>{e.exports={languageSwitcher:"LanguageSwitcher_languageSwitcher__ORwWs",trigger:"LanguageSwitcher_trigger__ivaXb",flag:"LanguageSwitcher_flag__4ZgC3",code:"LanguageSwitcher_code__TEU8G",chevron:"LanguageSwitcher_chevron__j7zon",chevronOpen:"LanguageSwitcher_chevronOpen__XcCre",dropdown:"LanguageSwitcher_dropdown__BLmB2",slideDown:"LanguageSwitcher_slideDown__sbCvD",dropdownContent:"LanguageSwitcher_dropdownContent__0vmRZ",option:"LanguageSwitcher_option__K1nJJ",active:"LanguageSwitcher_active___PMrY",label:"LanguageSwitcher_label__iQVUG",checkmark:"LanguageSwitcher_checkmark__LKe4o",dark:"LanguageSwitcher_dark__daCE5"}},9325:(e,a,n)=>{Promise.resolve().then(n.t.bind(n,1667,23)),Promise.resolve().then(n.t.bind(n,347,23)),Promise.resolve().then(n.bind(n,1588))}},e=>{var a=a=>e(e.s=a);e.O(0,[6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,4884,7137,1880,4297,2868,4681,4833,6986,9002,9466,7692,6451,6373,8852,8096,7358],()=>a(9325)),_N_E=e.O()}]);