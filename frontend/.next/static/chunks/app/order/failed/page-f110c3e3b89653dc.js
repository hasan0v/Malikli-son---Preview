(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4163],{3065:(e,s,r)=>{Promise.resolve().then(r.bind(r,8929))},6135:e=>{e.exports={failedPage:"orderFailed_failedPage__pbbCu",container:"orderFailed_container__eH3Mk",loadingState:"orderFailed_loadingState__Es11V",spinner:"orderFailed_spinner__w43Kg",spin:"orderFailed_spin__1UL6W",failureState:"orderFailed_failureState__hwkk3",failureIcon:"orderFailed_failureIcon__1aBU9",failureTitle:"orderFailed_failureTitle__FgsCj",failureMessage:"orderFailed_failureMessage__OXI7u",reasonBox:"orderFailed_reasonBox__1x9HI",reasonTitle:"orderFailed_reasonTitle__pJp08",reasonText:"orderFailed_reasonText__HqOC7",orderInfo:"orderFailed_orderInfo__6j95A",infoTitle:"orderFailed_infoTitle__BAJwa",infoGrid:"orderFailed_infoGrid__syPxN",infoItem:"orderFailed_infoItem__xgB6U",label:"orderFailed_label__fkFQ6",value:"orderFailed_value__HW5Ei",statusFailed:"orderFailed_statusFailed__5p_bL",paymentFailed:"orderFailed_paymentFailed__L0EPd",nextSteps:"orderFailed_nextSteps__nNs5z",nextStepsTitle:"orderFailed_nextStepsTitle__oH42R",stepsList:"orderFailed_stepsList__bD7Dk",commonIssues:"orderFailed_commonIssues__FyxUA",issuesTitle:"orderFailed_issuesTitle__tUnHx",issuesList:"orderFailed_issuesList__SNXOB",issue:"orderFailed_issue__KfJzs",actions:"orderFailed_actions__sfzSE",primaryButton:"orderFailed_primaryButton__njV23",secondaryButton:"orderFailed_secondaryButton__RJP2q",tertiaryButton:"orderFailed_tertiaryButton__Tu14W"}},8929:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var a=r(5155),i=r(2115),l=r(5695),d=r(4540),t=r(171),n=r(9493),o=r(6135),c=r.n(o);function u(){let e,{t:s}=(0,t.useI18n)(),r=(0,l.useRouter)(),o=(0,l.useSearchParams)(),{isAuthenticated:u}=(0,d.d4)(e=>e.auth),[_,m]=(0,i.useState)(null),[x,h]=(0,i.useState)(!0),[F,p]=(0,i.useState)(null),f=null==o?void 0:o.get("orderId"),j=null==o?void 0:o.get("reason");(0,i.useEffect)(()=>{let e=async()=>{if(!f){p("Order ID not found"),h(!1);return}try{let e=localStorage.getItem("access_token");if(!e){p("Authentication required"),h(!1);return}let s=await (0,n.p)(f,e);m(s)}catch(e){console.error("Failed to load order:",e),p(e instanceof Error?e.message:"Failed to load order details")}finally{h(!1)}};u?e():h(!1)},[f,u]);if(x)return(0,a.jsx)("div",{className:c().failedPage,children:(0,a.jsx)("div",{className:c().container,children:(0,a.jsxs)("div",{className:c().loadingState,children:[(0,a.jsx)("div",{className:c().spinner}),(0,a.jsx)("p",{children:s("orderFailed.loading")})]})})});return(0,a.jsx)("div",{className:c().failedPage,children:(0,a.jsx)("div",{className:c().container,children:(0,a.jsxs)("div",{className:c().failureState,children:[(0,a.jsx)("div",{className:c().failureIcon,children:(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"#EF4444"}),(0,a.jsx)("path",{d:"m15 9-6 6m0-6 6 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,a.jsx)("h1",{className:c().failureTitle,children:s("orderFailed.title")}),(0,a.jsx)("p",{className:c().failureMessage,children:s("orderFailed.message")}),j&&(0,a.jsxs)("div",{className:c().reasonBox,children:[(0,a.jsx)("h3",{className:c().reasonTitle,children:s("orderFailed.reason.title")}),(0,a.jsx)("p",{className:c().reasonText,children:decodeURIComponent(j)})]}),_&&(0,a.jsxs)("div",{className:c().orderInfo,children:[(0,a.jsx)("h2",{className:c().infoTitle,children:s("orderFailed.orderInfo.title")}),(0,a.jsxs)("div",{className:c().infoGrid,children:[(0,a.jsxs)("div",{className:c().infoItem,children:[(0,a.jsxs)("span",{className:c().label,children:[s("orderFailed.orderInfo.orderNumber"),":"]}),(0,a.jsx)("span",{className:c().value,children:_.order_number})]}),(0,a.jsxs)("div",{className:c().infoItem,children:[(0,a.jsxs)("span",{className:c().label,children:[s("orderFailed.orderInfo.amount"),":"]}),(0,a.jsxs)("span",{className:c().value,children:["$",("string"==typeof(e=_.total_amount)?parseFloat(e):e).toFixed(2)]})]}),(0,a.jsxs)("div",{className:c().infoItem,children:[(0,a.jsxs)("span",{className:c().label,children:[s("orderFailed.orderInfo.status"),":"]}),(0,a.jsx)("span",{className:"".concat(c().value," ").concat(c().statusFailed),children:s("orders.status.".concat(_.status))})]}),(0,a.jsxs)("div",{className:c().infoItem,children:[(0,a.jsxs)("span",{className:c().label,children:[s("orderFailed.orderInfo.paymentStatus"),":"]}),(0,a.jsx)("span",{className:"".concat(c().value," ").concat(c().paymentFailed),children:s("orders.paymentStatus.".concat(_.payment_status))})]})]})]}),(0,a.jsxs)("div",{className:c().nextSteps,children:[(0,a.jsx)("h3",{className:c().nextStepsTitle,children:s("orderFailed.nextSteps.title")}),(0,a.jsxs)("ul",{className:c().stepsList,children:[(0,a.jsx)("li",{children:s("orderFailed.nextSteps.checkPayment")}),(0,a.jsx)("li",{children:s("orderFailed.nextSteps.tryAgain")}),(0,a.jsx)("li",{children:s("orderFailed.nextSteps.differentMethod")}),(0,a.jsx)("li",{children:s("orderFailed.nextSteps.contactSupport")})]})]}),(0,a.jsxs)("div",{className:c().commonIssues,children:[(0,a.jsx)("h3",{className:c().issuesTitle,children:s("orderFailed.commonIssues.title")}),(0,a.jsxs)("div",{className:c().issuesList,children:[(0,a.jsxs)("div",{className:c().issue,children:[(0,a.jsx)("h4",{children:s("orderFailed.commonIssues.insufficientFunds.title")}),(0,a.jsx)("p",{children:s("orderFailed.commonIssues.insufficientFunds.description")})]}),(0,a.jsxs)("div",{className:c().issue,children:[(0,a.jsx)("h4",{children:s("orderFailed.commonIssues.cardExpired.title")}),(0,a.jsx)("p",{children:s("orderFailed.commonIssues.cardExpired.description")})]}),(0,a.jsxs)("div",{className:c().issue,children:[(0,a.jsx)("h4",{children:s("orderFailed.commonIssues.networkError.title")}),(0,a.jsx)("p",{children:s("orderFailed.commonIssues.networkError.description")})]})]})]}),(0,a.jsxs)("div",{className:c().actions,children:[(0,a.jsx)("button",{onClick:()=>{_?r.push("/checkout"):r.push("/cart")},className:c().primaryButton,children:s("orderFailed.actions.tryAgain")}),(0,a.jsx)("button",{onClick:()=>{r.push("/contact")},className:c().secondaryButton,children:s("orderFailed.actions.contactSupport")}),(0,a.jsx)("button",{onClick:()=>{r.push("/orders")},className:c().tertiaryButton,children:s("orderFailed.actions.viewOrders")})]})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[1936,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,7137,1880,4297,2868,4681,4833,6986,9717,6886,7692,6451,6373,8852,8096,7358],()=>s(3065)),_N_E=e.O()}]);