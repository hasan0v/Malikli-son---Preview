(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5501],{1451:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(5155),a=r(2115),l=r(5695),o=r(4540),i=r(171),m=r(9493),c=r(3447),n=r.n(c);function d(){let{t:e}=(0,i.useI18n)(),s=(0,l.useRouter)(),r=(0,l.useSearchParams)(),{isAuthenticated:c}=(0,o.d4)(e=>e.auth),[d,p]=(0,a.useState)(null),[_,u]=(0,a.useState)(!0),[h,x]=(0,a.useState)(null),C=null==r?void 0:r.get("orderId");(0,a.useEffect)(()=>{let e=async()=>{if(!C){x("Order ID not found"),u(!1);return}try{let e=localStorage.getItem("access_token");if(!e){x("Authentication required"),u(!1);return}let s=await (0,m.p)(C,e);p(s)}catch(e){console.error("Failed to load order:",e),x(e instanceof Error?e.message:"Failed to load order details")}finally{u(!1)}};c?e():u(!1)},[C,c]);let j=e=>"string"==typeof e?parseFloat(e):e,N=e=>j(e).toFixed(2),y=()=>{s.push("/")};return _?(0,t.jsx)("div",{className:n().completePage,children:(0,t.jsx)("div",{className:n().container,children:(0,t.jsxs)("div",{className:n().loadingState,children:[(0,t.jsx)("div",{className:n().spinner}),(0,t.jsx)("p",{children:e("orderComplete.loading")})]})})}):h?(0,t.jsx)("div",{className:n().completePage,children:(0,t.jsx)("div",{className:n().container,children:(0,t.jsxs)("div",{className:n().errorState,children:[(0,t.jsx)("div",{className:n().errorIcon,children:"⚠️"}),(0,t.jsx)("h1",{className:n().errorTitle,children:e("orderComplete.error.title")}),(0,t.jsx)("p",{className:n().errorMessage,children:h}),(0,t.jsxs)("div",{className:n().actions,children:[(0,t.jsx)("button",{onClick:()=>s.push("/orders"),className:n().primaryButton,children:e("orderComplete.error.viewOrders")}),(0,t.jsx)("button",{onClick:y,className:n().secondaryButton,children:e("orderComplete.error.backHome")})]})]})})}):(0,t.jsx)("div",{className:n().completePage,children:(0,t.jsx)("div",{className:n().container,children:(0,t.jsxs)("div",{className:n().successState,children:[(0,t.jsx)("div",{className:n().successIcon,children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"#10B981"}),(0,t.jsx)("path",{d:"m9 12 2 2 4-4",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,t.jsx)("h1",{className:n().successTitle,children:e("orderComplete.success.title")}),(0,t.jsx)("p",{className:n().successMessage,children:e("orderComplete.success.message")}),d&&(0,t.jsxs)("div",{className:n().orderSummary,children:[(0,t.jsx)("h2",{className:n().summaryTitle,children:e("orderComplete.summary.title")}),(0,t.jsxs)("div",{className:n().summaryGrid,children:[(0,t.jsxs)("div",{className:n().summaryItem,children:[(0,t.jsxs)("span",{className:n().label,children:[e("orderComplete.summary.orderNumber"),":"]}),(0,t.jsx)("span",{className:n().value,children:d.order_number})]}),(0,t.jsxs)("div",{className:n().summaryItem,children:[(0,t.jsxs)("span",{className:n().label,children:[e("orderComplete.summary.total"),":"]}),(0,t.jsxs)("span",{className:n().value,children:["$",N(d.total_amount)]})]}),(0,t.jsxs)("div",{className:n().summaryItem,children:[(0,t.jsxs)("span",{className:n().label,children:[e("orderComplete.summary.paymentStatus"),":"]}),(0,t.jsx)("span",{className:"".concat(n().value," ").concat(n().statusPaid),children:e("orders.paymentStatus.".concat(d.payment_status))})]}),(0,t.jsxs)("div",{className:n().summaryItem,children:[(0,t.jsxs)("span",{className:n().label,children:[e("orderComplete.summary.orderStatus"),":"]}),(0,t.jsx)("span",{className:n().value,children:e("orders.status.".concat(d.status))})]})]}),(0,t.jsxs)("div",{className:n().itemsPreview,children:[(0,t.jsx)("h3",{className:n().itemsTitle,children:e("orderComplete.items.title")}),(0,t.jsxs)("div",{className:n().itemsList,children:[d.items.slice(0,3).map(s=>(0,t.jsxs)("div",{className:n().orderItem,children:[(0,t.jsx)("img",{src:s.image||"/placeholder-product.png",alt:s.name,className:n().itemImage}),(0,t.jsxs)("div",{className:n().itemDetails,children:[(0,t.jsx)("span",{className:n().itemName,children:s.name}),(0,t.jsxs)("span",{className:n().itemQuantity,children:[e("orderComplete.items.quantity"),": ",s.quantity]})]}),(0,t.jsxs)("span",{className:n().itemPrice,children:["$",N(j(s.price)*s.quantity)]})]},s.id)),d.items.length>3&&(0,t.jsx)("div",{className:n().moreItems,children:e("orderComplete.items.andMore",{count:d.items.length-3})})]})]})]}),(0,t.jsxs)("div",{className:n().nextSteps,children:[(0,t.jsx)("h3",{className:n().nextStepsTitle,children:e("orderComplete.nextSteps.title")}),(0,t.jsxs)("ul",{className:n().stepsList,children:[(0,t.jsx)("li",{children:e("orderComplete.nextSteps.confirmation")}),(0,t.jsx)("li",{children:e("orderComplete.nextSteps.processing")}),(0,t.jsx)("li",{children:e("orderComplete.nextSteps.shipping")}),(0,t.jsx)("li",{children:e("orderComplete.nextSteps.tracking")})]})]}),(0,t.jsxs)("div",{className:n().actions,children:[(0,t.jsx)("button",{onClick:()=>{d&&s.push("/orders/".concat(d.id))},className:n().primaryButton,children:e("orderComplete.actions.viewOrder")}),(0,t.jsx)("button",{onClick:y,className:n().secondaryButton,children:e("orderComplete.actions.continueShopping")})]})]})})})}},3447:e=>{e.exports={completePage:"orderComplete_completePage__VBNyh",container:"orderComplete_container__1AWZK",loadingState:"orderComplete_loadingState__XdTg8",spinner:"orderComplete_spinner__yLpoy",spin:"orderComplete_spin__SYPV_",errorState:"orderComplete_errorState__Jtetn",errorIcon:"orderComplete_errorIcon__ZTiUU",errorTitle:"orderComplete_errorTitle__rKeak",errorMessage:"orderComplete_errorMessage__jkoJT",successState:"orderComplete_successState__ZjvM_",successIcon:"orderComplete_successIcon__51aNq",successTitle:"orderComplete_successTitle__GKLLe",successMessage:"orderComplete_successMessage__NyB_p",orderSummary:"orderComplete_orderSummary__u_nq7",summaryTitle:"orderComplete_summaryTitle__1Jlg3",summaryGrid:"orderComplete_summaryGrid__u9RWl",summaryItem:"orderComplete_summaryItem__L49fo",label:"orderComplete_label__By6h0",value:"orderComplete_value__RJSQ4",statusPaid:"orderComplete_statusPaid__8E4vs",itemsPreview:"orderComplete_itemsPreview__rU39i",itemsTitle:"orderComplete_itemsTitle__K8cTC",itemsList:"orderComplete_itemsList__qwDeT",orderItem:"orderComplete_orderItem__KZbrS",itemImage:"orderComplete_itemImage__epiVu",itemDetails:"orderComplete_itemDetails__ZaM3G",itemName:"orderComplete_itemName__jgxU6",itemQuantity:"orderComplete_itemQuantity__dzTmF",itemPrice:"orderComplete_itemPrice__0HkhO",moreItems:"orderComplete_moreItems__M2lfF",nextSteps:"orderComplete_nextSteps__NwBrp",nextStepsTitle:"orderComplete_nextStepsTitle__TFwiL",stepsList:"orderComplete_stepsList__tT4is",actions:"orderComplete_actions__t3DhH",primaryButton:"orderComplete_primaryButton__2OfuW",secondaryButton:"orderComplete_secondaryButton__ftY9_"}},6767:(e,s,r)=>{Promise.resolve().then(r.bind(r,1451))}},e=>{var s=s=>e(e.s=s);e.O(0,[960,6707,9800,2352,6530,2214,5748,2333,8187,5980,4676,7698,1659,8538,3516,901,9857,8268,4170,7635,9670,7593,6861,5885,7128,6136,9064,3743,5377,1980,7137,1880,4297,2868,4681,4833,6986,9002,9466,7692,6451,6373,8852,8096,7358],()=>s(6767)),_N_E=e.O()}]);